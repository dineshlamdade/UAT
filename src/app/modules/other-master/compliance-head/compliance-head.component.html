<app-leftmenu></app-leftmenu>
<form class="card" role="form" [formGroup]="form" #formDirective="ngForm" method="post" novalidate>
  <div class="page">
    <app-header></app-header>
    <div class="section-body mt-3">
      <div class="container-fluid" style="border: 1px solid #ccc; background-color: #fff;">
        <div class="  tabview-contents">
          <div class="row">
            <div class="col-12">
              <div class="card">
                <div class="card-body p-0">
                  <div class="row">

                    <div class="col-sm-3">
                      <label class="form-label">Head Name</label>
                      <input type="text" formControlName="complianceHeadName" class="form-control"
                        name="complianceHeadName" placeholder="Enter Head Name"
                        [ngClass]="{'is-invalid' : form.get('complianceHeadName').status == 'INVALID'}">
                    </div>

                    <div class="col-sm-3">
                      <label class="form-label">Short Name</label>
                      <select name="shortName" id="shortName" class="form-control" formControlName="shortName"
                        [ngClass]="{'is-invalid' : form.get('shortName').status == 'INVALID'}"
                        (change)='onSelectShortName($event.target.value)'>
                        <option *ngFor="let shortName of shortNameList" [value]="shortName">
                          {{shortName}}
                        </option>
                      </select>
                    </div>


                    <div class="col-sm-3">
                      <label class="form-label">Country</label>
                      <select name="country" id="country" class="form-control"
                        [ngClass]="{'is-invalid' : form.get('country').status == 'INVALID'}" formControlName="country"
                        [(ngModel)]="form.country">
                        <option value="" selected disabled>Select Country
                        </option>
                        <option *ngFor="let country of countries" [value]="country">
                          {{country}}
                        </option>
                      </select>
                    </div>



                    <div class="col-sm-3">
                      <label class="form-label">Applicability Level</label>
                      <select name="aplicabilityLevel" id="aplicabilityLevel" class="form-control"
                        formControlName="aplicabilityLevel"
                        [ngClass]="{'is-invalid' : form.get('aplicabilityLevel').status == 'INVALID'}"
                        (change)='onSelectApplicabilityLevel($event.target.value)'>
                        <option *ngFor="let applicabilityLevel of aplicabilityLevelList" [value]="applicabilityLevel">
                          {{applicabilityLevel}}
                        </option>
                      </select>
                    </div>

                  </div>
                  <div class="row mt-20">



                    <div class="col-sm-3">
                      <label class="form-label">Authority Handling</label>
                      <input type="text" formControlName="authorityHandling" class="form-control"
                        [ngClass]="{'is-invalid' : form.get('authorityHandling').status == 'INVALID'}"
                        name="authorityHandling" placeholder="Enter Authority Handling">
                    </div>

                    <div class="col-sm-3">
                      <label class="form-label">Website</label>
                      <input type="text" formControlName="website" class="form-control"
                        [ngClass]="{'is-invalid' : form.get('website').status == 'INVALID'}" name="website"
                        placeholder="Enter Website Name">
                    </div>




                  </div>
                  <!-- end of row -->







                  <div class="col-12 mt-20">

                    <div class="float-right mb-15">
                      <ng-container *ngIf="showButtonSaveAndReset">


                        <!-- <button type="submit" [ngClass]="{'disabled-btn-bg-lightgrey' : form.invalid,
                          'btn-bg-green': !form.invalid}" class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left"
                            tooltip="Save" (click)="save()"><b><i class="fa fa-floppy-o"></i></b>
                            Save</button>  old one save button code-->



                        <button type="submit" [disabled]="form.invalid"
                          class="custom_button custom_btn btn-labeled btn-labeled-left" tooltip="Save" (click)="save()"
                          [ngClass]="{'disabled-btn-bg-green' : form.invalid,
       'btn-bg-green': !form.invalid}"><b><i class="fa fa-floppy-o"></i></b> Save</button>


                        <button type="button" tooltip="Reset" (click)="cancelView()"
                          class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10"><b><i
                              class="fa  fa-refresh"></i></b> Reset</button>



                        <!-- <button type="button"
                            class="custom_button custom_btn bg-btn-red btn-labeled btn-labeled-left ml-10" tooltip="Reset"
                            (click)="cancelView()"><b><i class="fa fa-refresh" aria-hidden="true"></i></b>
                            Reset</button> -->



                      </ng-container>
                      <ng-container *ngIf="!showButtonSaveAndReset">
                        <!-- <button type="button" tooltip="Reset" (click)="cancelView()"
                        class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10"><b><i
                                class="fa fa-times-circle"></i></b> Reset</button> -->
                        <button type="button"
                          class="custom_button custom_btn bg-btn-red btn-labeled btn-labeled-left ml-10"
                          tooltip="Cancel" (click)="cancelView()"><b><i class="fa fa-times-circle"></i></b>
                          Cancel</button>
                      </ng-container>
                    </div>
                  </div> <!-- <end of div col-6 -->


                </div> <!-- card body -->
              </div>
            </div>
          </div>





          <div class="row">
            <div class="col-12">
              <div class="card">
                <div class="mb-0">
                  <h3 class="font-14 text-purple font-bold">Summary</h3>
                </div>
                <!-- <div class=""> -->
                <div class="table-responsive Custom_Table">
                  <table class="table table-striped table-hover table-bordered m-b-0">
                    <thead class="thead-dark">
                      <tr>
                        <th scope="col" class="wd-8">Sr. No.</th>
                        <th scope="col" class="wd-20">Head Name</th>
                        <th scope="col" class="wd-17">Short Name</th>

                        <th scope="col" class="wd-15">Country</th>
                        <th scope="col" class="wd-10">Applicability Level</th>
                        <th scope="col" class="wd-20">Authority Handling</th>
                        <th scope="col" class="wd-10">Action</th>
                      </tr>
                    </thead>
                    <tbody>




                      <tr *ngFor="let summary of summaryHtmlDataList; let i = index">
                        <td class="wd-10"><span tooltip="{{summary.SrNo}}">{{summary.SrNo}}</span>
                        </td>
                        <td class="wd-10"><span
                            tooltip="{{summary.complianceHeadName}}">{{summary.complianceHeadName}}</span>
                        </td>

                        <td class="wd-10"><span tooltip="{{summary.shortName}}">{{summary.shortName}}</span>
                        </td>
                        <td class="wd-10"><span tooltip="{{summary.country}}">{{summary.country}}</span>
                        </td>

                        <td class="wd-10"><span
                            tooltip="{{summary.aplicabilityLevel}}">{{summary.aplicabilityLevel}}</span>
                        </td>

                        <td class="wd-10"><span
                            tooltip="{{summary.authorityHandling}}">{{summary.authorityHandling}}</span>
                        </td>


                        <td class="wd-10">

                          <i class="fa fa-eye font-16 text-blue cursor-pointer ml-3" (click)="viewMaster(i)"
                            tooltip="View"></i>
                        </td>
                      </tr>
                      <tr *ngIf="!summaryHtmlDataList?.length">
                        <td colspan="10">
                          <span class="font-14 font500 align-center text-red">No Data Available</span>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>



        </div>
      </div>
      <app-footer></app-footer>
    </div>
  </div>
</form>
