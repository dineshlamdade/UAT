<div class="row">
  <div class="col-sm-6 col-md-3" *ngIf="hiddenSummary">
    <label class="form-label">Payroll Area</label>
    <select class="form-control" placeholder="Select" (completeMethod)="filterpayrollArea(option.payrollAreaCode)"
      (change)="selectPayrollArea(payrollAreaCode)" [(ngModel)]="payrollAreaCode" [ngModelOptions]="{standalone: true}">
      <option value="" selected disabled>Select</option>
      <option *ngFor="let option of filteredPayrollAreaList" [value]="option.payrollAreaCode">
        {{option.payrollAreaCode}}
      </option>
    </select>
  </div>

  <div class="col-sm-6 col-md-3">
    <label class="form-label">Type</label>
    <input type="text" class="form-control" [(ngModel)]="payrollType" [ngModelOptions]="{standalone: true}" disabled>
  </div>

  <div class="col-sm-6 col-md-3">
    <label class="form-label">Company Name</label>
    <input type="text" class="form-control" [(ngModel)]="companyName" [ngModelOptions]="{standalone: true}" disabled>
  </div>
  <div class="col-sm-6 col-md-3">
    <label class="form-label">Period</label>
    <input type="text" class="form-control" [(ngModel)]="period" [ngModelOptions]="{standalone: true}" disabled>
  </div>

  <!-- <div class="col-sm-6 col-md-3">
        <label class="form-label">Payroll Area FromDate</label>
        <input type="text" class="form-control" [(ngModel)]="payrollAreaFromDate" [ngModelOptions]="{standalone:true}"
        disabled>
    </div>

    <div class="col-sm-6 col-md-3">
        <label class="form-label">Payroll Area ToDate</label>
        <input type="text" class="form-control" [(ngModel)]="payrollAreaToDate" [ngModelOptions]="{standalone:true}"
        disabled>        
    </div> -->

</div>

<br>
<hr class="line">
<h3 class="font-14 text-purple font-bold">Summary</h3>



<p-table [value]="summaryGridData" [paginator]="true" [rows]="10" (sortFunction)="customSort($event)"
  [customSort]="true" [showCurrentPageReport]="true"
  currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
  [rowsPerPageOptions]="[10,25,50,100,200]">



  <ng-template pTemplate="header">

    <tr>
      <th rowspan="1" class="wd-8 text-center ">
        Sr. No.
      </th>
      <th rowspan="1" class="wd-20 text-center">
        <div class="p-d-flex p-jc-between p-ai-center">
          Job Detail
          <div class="Sort_Filter_Position">
            <p-sortIcon field="jobDetail" pSortableColumn="jobDetail"></p-sortIcon>
            <p-columnFilter field="jobDetail" display="menu" class="p-ml-auto"></p-columnFilter>
          </div>
        </div>
      </th>

      <th rowspan="1" class="wd-21 text-center">
        <div class="p-d-flex p-jc-between text-center p-ai-center">
          Job Field
          <div class="Sort_Filter_Position">
            <p-sortIcon field="jobField" pSortableColumn="jobField"></p-sortIcon>
            <p-columnFilter field="jobField" display="menu" class="p-ml-auto"></p-columnFilter>
          </div>
        </div>
      </th>

      <th rowspan="1" class="wd-21 text-center">
        <div class="p-d-flex p-jc-between p-ai-center">
          Code
          <div class="Sort_Filter_Position">
            <p-sortIcon field="value" pSortableColumn="value">
            </p-sortIcon>
            <p-columnFilter field="value" display="menu" class="p-ml-auto">
            </p-columnFilter>
          </div>
        </div>
      </th>

      <th rowspan="1" class="wd-21 text-center">
        <div class="p-d-flex p-jc-between p-ai-center">
          Description
          <div class="Sort_Filter_Position">
            <p-sortIcon field="masterDescription" pSortableColumn="masterDescription">
            </p-sortIcon>
            <p-columnFilter field="masterDescription" display="menu" class="p-ml-auto">
            </p-columnFilter>
          </div>
        </div>
      </th>

      <th rowspan="1" class="wd-13 text-center">
        <div class="p-d-flex p-jc-between p-ai-center">
          From Date
          <div class="Sort_Filter_Position">
            <p-sortIcon field="fromDate" pSortableColumn="fromDate">
            </p-sortIcon>
            <p-columnFilter field="fromDate" display="menu" class="p-ml-auto">
            </p-columnFilter>
          </div>

        </div>
      </th>

      <th rowspan="1" class="wd-13 text-center">
        <div class="p-d-flex p-jc-between p-ai-center">
          To Date
          <div class="Sort_Filter_Position">
            <p-sortIcon field="toDate" pSortableColumn="toDate">
            </p-sortIcon>
            <p-columnFilter field="toDate" display="menu" class="p-ml-auto">
            </p-columnFilter>
          </div>

        </div>
      </th>

      <th rowspan="1" class="wd-8 text-center">
        <div class="p-d-flex p-jc-center p-ai-center">
          Action
        </div>
      </th>
    </tr>

  </ng-template>
  <ng-template pTemplate="body" let-user1 let-rowIndex="rowIndex">

    <tr class="p-selectable-row">

      <td class="bg-color-light_gray text-center"><label class="form-lable mb-0 text-center">{{rowIndex+1}}</label></td>

      <td class="bg-color-light_gray"><label class="form-lable mb-0"
          tooltip="{{user1.jobDetail}}">{{user1.jobDetail}}</label></td>

      <td class="bg-color-light_gray"><label class="form-lable mb-0"
          tooltip="{{user1.jobField}}">{{user1.jobField}}</label>
      </td>

      <td class="bg-color-light_gray"><label class="form-lable mb-0" tooltip="{{user1.value}}">{{user1.value}}</label>
      </td>

      <td class="bg-color-light_gray"><label class="form-lable mb-0" tooltip="{{user1.masterDescription}}">{{user1.masterDescription}}</label>
      </td>

      <td class="bg-color-light_gray"><label class="form-lable mb-0"
          tooltip="{{user1.fromDate}}">{{user1.fromDate}}</label>
      </td>
      <td class="bg-color-light_gray"><label class="form-lable mb-0" tooltip="{{user1.toDate}}">{{user1.toDate}}</label>
      </td>
      <td class=" align-left">

        <button type="button" class="btn btn-icon" tooltip="Edit" (click)="editJobDetails(user1.jobDetail)">
          <i class="fa fa-edit"></i></button>
        <button type="button" class="btn btn-icon" tooltip="View"
          (click)="ViewModal(template1);showHistory(user1);" data-toggle="modal" data-target="#ViewModal">
          <i class="fa fa-eye"></i></button>
      </td>


    </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage">
    <tr *ngIf="summaryGridData.length == 0">
      <td colspan="7" class="text-center"><span class="font-14 font500 text-red">No Data
          Available</span></td>
    </tr>
  </ng-template>
</p-table>


<div class="row mt-15">
  <div class="col-12">
    <div class="float-right mb-15">
      <button type="button" tooltip="Previous" [routerLink]="['/employee-master/payroll-area-information']"
        class="custom_button custom_btn btn-labeled btn-labeled-left ml-10 bg-teal-400"><b><i
            class="fa fa-angle-double-left" aria-hidden="true"></i></b>Previous</button>

      <button type="button" tooltip="Next" [routerLink]="['/employee-master/identity-information']"
        class="custom_button custom_btn btn-labeled btn-labeled-left ml-15 mr-15 bg-teal-400"><b><i
            class="fa fa-angle-double-right" aria-hidden="true"></i></b>Next</button>

      <!-- <button type="button" (click)="organizationSaveNextSubmit(organizationDetailsModel)"
                [disabled]="OrganizationForm.invalid || OrganizationForm.untouched" [ngClass]="{'disabled-btn-bg-green' : OrganizationForm.invalid || OrganizationForm.untouched,
       'btn-bg-green': !OrganizationForm.invalid}" class="custom_button custom_btn btn-labeled btn-labeled-left mr-15"
                tooltip="Save & Next"><b><i class="fa fa-floppy-o"></i></b>
                Save & Next</button> -->

    </div>
  </div>
</div>

<ng-template class="modal-lg" #template1>
  <div class="modal-header">
    <h5 class="modal-title" id="UploadModalLabel">History</h5>


    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
        aria-hidden="true">Ã—</span></button>
  </div>

  <div class="modal-body">
    <div class="card">
      <div class="row mb-3 mt-1">
        <div class="col-md-6">
          <h3 class="font-14"><span class="text-purple">Job Detail : </span> <span class="text-black">   {{historyData[0].jobDetail}}</span></h3>
      </div>
          <div class="col-md-6">
          <h3 class="font-14"><span class="text-purple">Job Field : </span>  <span class="text-black">   {{historyData[0].jobField}}</span></h3>
        </div>
      </div>


      <div class="card-bodys">
        <div class=" ">

          <p-table [value]="historyData" [paginator]="true" [rows]="10" (sortFunction)="customSort($event)"
            [customSort]="true" [showCurrentPageReport]="true"
            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
            [rowsPerPageOptions]="[10,25,50,100,200]">



            <ng-template pTemplate="header">

              <tr>
                <th rowspan="1" class="wd-8  text-center ">
                  Sr. No.
                </th>
                <!-- <th rowspan="1" class=" text-center">
                  <div class="p-d-flex p-jc-between p-ai-center">
                    Job Detail
                    <div class="Sort_Filter_Position">
                      <p-sortIcon field="jobDetail" pSortableColumn="jobDetail"></p-sortIcon>
                      <p-columnFilter field="jobDetail" display="menu" class="p-ml-auto"></p-columnFilter>
                    </div>
                  </div>
                </th>

                <th rowspan="1" class="  text-center">
                  <div class="p-d-flex p-jc-between text-center p-ai-center">
                    Job Field
                    <div class="Sort_Filter_Position">
                      <p-sortIcon field="jobField" pSortableColumn="jobField"></p-sortIcon>
                      <p-columnFilter field="jobField" display="menu" class="p-ml-auto"></p-columnFilter>
                    </div>
                  </div>
                </th> -->

                <th rowspan="1" class=" text-center">
                  <div class="p-d-flex p-jc-between p-ai-center">
                    Code
                    <div class="Sort_Filter_Position">
                      <p-sortIcon field="value" pSortableColumn="value">
                      </p-sortIcon>
                      <p-columnFilter field="value" display="menu" class="p-ml-auto">
                      </p-columnFilter>
                    </div>
                  </div>
                </th>

                <th rowspan="1" class="wd-21 text-center">
                  <div class="p-d-flex p-jc-between p-ai-center">
                    Description
                    <div class="Sort_Filter_Position">
                      <p-sortIcon field="masterDescription" pSortableColumn="masterDescription">
                      </p-sortIcon>
                      <p-columnFilter field="masterDescription" display="menu" class="p-ml-auto">
                      </p-columnFilter>
                    </div>
                  </div>
                </th>

                <th rowspan="1" class=" text-center">
                  <div class="p-d-flex p-jc-between p-ai-center">
                    From Date
                    <div class="Sort_Filter_Position">
                      <p-sortIcon field="fromDate" pSortableColumn="fromDate">
                      </p-sortIcon>
                      <p-columnFilter field="fromDate" display="menu" class="p-ml-auto">
                      </p-columnFilter>
                    </div>

                  </div>
                </th>

                <th rowspan="1" class="text-center">
                  <div class="p-d-flex p-jc-between p-ai-center">
                    To Date
                    <div class="Sort_Filter_Position">
                      <p-sortIcon field="toDate" pSortableColumn="toDate">
                      </p-sortIcon>
                      <p-columnFilter field="toDate" display="menu" class="p-ml-auto">
                      </p-columnFilter>
                    </div>

                  </div>
                </th>
              </tr>

            </ng-template>
            <ng-template pTemplate="body" let-user1 let-rowIndex="rowIndex">

              <tr class="p-selectable-row">

                <td class="bg-color-light_gray text-center"><label
                    class="form-lable mb-0 text-center">{{rowIndex+1}}</label></td>

                <!-- <td class="bg-color-light_gray"><label class="form-lable mb-0"
                    tooltip="{{user1.jobDetail}}">{{user1.jobDetail}}</label></td>

                <td class="bg-color-light_gray"><label class="form-lable mb-0"
                    tooltip="{{user1.jobField}}">{{user1.jobField}}</label>
                </td> -->

                <td class="bg-color-light_gray"><label class="form-lable mb-0"
                    tooltip="{{user1.value}}">{{user1.value}}</label>
                </td>
              

                <td class="bg-color-light_gray"><label class="form-lable mb-0"
                   tooltip="{{user1.masterDescription}}">{{user1.masterDescription}}</label>
                </td>

                <td class="bg-color-light_gray"><label class="form-lable mb-0"
                    tooltip="{{user1.fromDate}}">{{user1.fromDate}}</label>
                </td>
                <td class="bg-color-light_gray"><label class="form-lable mb-0"
                    tooltip="{{user1.toDate}}">{{user1.toDate}}</label>
                </td>



              </tr>
            </ng-template>
          </p-table>


        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <!-- <button type="button" class="btn btn-primary">Save</button>  -->
    <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">Close</button>
  </div>
</ng-template>