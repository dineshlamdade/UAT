<div class="container-fluid">
    <!-- <div class="row">
        <div class="col-12"> -->
    <div class="card">
        <div class="card-body">
            <div class="row mt-20">
                <div class="col-md-12">
                    <p-table [value]="BankAccountDataSource" [scrollable]="true" [style]="{width:'600px'}"
                        scrollHeight="200px">
                        <ng-template pTemplate="colgroup" let-columns>
                            <colgroup>
                                <col style="width:130px">
                                <!-- <col style="width:130px"> -->
                                <col style="width:140px">
                                <col style="width:120px">
                                <col style="width:120px">
                                <col style="width:120px">
                                <col style="width:150px">
                                <col style="width:120px">
                            </colgroup>
                        </ng-template>
                        <ng-template pTemplate="header">
                            <tr>
                                <th class="primeng-table-header-center">Name</th>
                                <!-- <th class="primeng-table-header-center">State</th> -->
                                <th class="primeng-table-header-center">Bank IFSC</th>
                                <th class="primeng-table-header-center">Bank Name</th>
                                <th class="primeng-table-header-center">Branch Name</th>
                                <th class="primeng-table-header-center">Branch Address</th>
                                <th class="primeng-table-header-center">Account No.</th>
                                <th class="primeng-table-header-center">Name As Per Bank Account</th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-bank>
                            <tr>
                                <td tooltip="{{bank.familyMemberName}}"><span>
                                        <input type="text" class="form-control text-center"
                                            [(ngModel)]="bank.familyMemberName" [ngModelOptions]="{standalone: true}"
                                            disabled>
                                    </span></td>

                                <!-- <td><span>
                                        <select class="form-control custom-select" placeholder="Select"
                                            [(ngModel)]="bank.state" (completeMethod)="filterStates($event)">
                                            <option value="" selected disabled>Select</option>
                                            <option *ngFor="let state of states" [value]="state">
                                                {{state}}
                                            </option>
                                        </select>
                                    </span></td> -->

                                <td><span>
                                        <input type="text" class="form-control" [(ngModel)]="bank.bankIFSC"
                                            placeholder="Enter IFSC" (keyup)="getDataFromIFSC(bank.bankIFSC, bank)"
                                            [ngModelOptions]="{standalone: true}" maxlength="11"
                                            (ngModelChange)="bank.bankIFSC = $event?.toUpperCase()">

                                        <!-- <p-autoComplete
                                            (completeMethod)="searchIFSC($event, bank.bankIFSC, bank.state, bank)"
                                            [suggestions]="AllIFSCcodeList" [dropdown]="true"
                                            (onSelect)="getDataFromIFSC(bank.bankIFSC, bank)" [(ngModel)]="bank.bankIFSC"
                                            placeholder="Search IFSC"
                                            (ngModelChange)="bank.bankIFSC = $event?.toUpperCase()"
                                            [ngModelOptions]="{standalone: true}">
                                            <ng-template let-ifsc pTemplate="item">
                                                <div class="country-item">
                                                    <div>
                                                        {{ifsc}}</div>
                                                </div>
                                            </ng-template>
                                        </p-autoComplete> -->
                                    </span></td>

                                <td><span>
                                        <input type="text" class="form-control" [(ngModel)]="bank.bankName"
                                            #bankName="ngModel" [ngModelOptions]="{standalone: true}"
                                            tooltip="{{bank.bankName}}">
                                    </span></td>

                                <td><span>
                                        <input type="text" class="form-control" [(ngModel)]="bank.branchName"
                                            [ngModelOptions]="{standalone: true}" tooltip="{{bank.branchName}}">
                                    </span></td>

                                <td><span>
                                        <input type="text" class="form-control" [(ngModel)]="bank.branchAddress"
                                            [ngModelOptions]="{standalone: true}" tooltip="{{bank.branchAddress}}">
                                    </span></td>

                                <td><span>
                                        <input #accNo [(ngModel)]="bank.accountNumber" class="form-control"
                                            [ngModelOptions]="{standalone: true}" minlength="1"
                                            maxlength="{{bank.maxAccNumber}}" [type]="bank.accountNo ? 'text' : 'password'"
                                            (keyup)="validateAccountNo(bank.accountNumber, bank);getHideAccountNo(bank)" appBlockCopyPaste
                                            placeholder="Enter Account No." (keypress)="keyPress($event)">
                                        <mat-icon matSuffix (click)="bank.accountNo = !bank.accountNo; hideAccountNo(bank)" class="eye-icon-payroll">
                                            {{bank.accountNo ? 'visibility' : 'visibility_off'}}</mat-icon>

                                        <mat-error style="font-size: 7px;" *ngIf="bank.accountNumber?.length>0">
                                            {{bank.accountNumberCountError}}</mat-error>
                                    </span></td>

                                <td><span>
                                        <input type="text" class="form-control" [(ngModel)]="bank.accountHolderName"
                                            [ngModelOptions]="{standalone: true}" tooltip="{{bank.accountHolderName}}">
                                    </span></td>
                            </tr>
                        </ng-template>
                    </p-table>
                    <span class="font-14 font500 align-center text-red no-data-center"
                        *ngIf="BankAccountDataSource.length==0">No
                        data found</span>

                    <div class="row mt-15">
                        <div class="col-12">
                            <div class="float-right mb-25">

                                <button type="submit" (click)="saveBankDetails(BankAccountDataSource)"
                                    [disabled]="BankAccountDataSource.length==0" [ngClass]="{'disabled-btn-bg-green' : BankAccountDataSource.length==0,
                                'btn-bg-green': BankAccountDataSource.length>0}"
                                    class="custom_button custom_btn btn-labeled btn-labeled-left btn-bg-green"
                                    tooltip="Save"><b><i class="fa fa-floppy-o"></i></b>Save</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- </div>
            </div> -->
        </div>
    </div>
</div>