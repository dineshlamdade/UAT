<div class="row mb-15 mt-4">
    <div class="col-md-12">
        <label class="mt-2 highlightlabel font-13 font600"><span class="text-red">*</span>Note :
       Details of benefits availed under Chapter VI-A (including section 80-C) to be updated in the respective forms in
       the portal
     </label>
    </div>
</div>
<!-- previous EmployerDetails Master Form -->
<form class="card" role="form" (ngSubmit)="addMaster(previousEmployerDetailsform,formDirective)" [formGroup]="previousEmployerDetailsform" #formDirective="ngForm" method="post" novalidate>
    <!-- <div class="tabview-contents"> -->
    <br>
    <fieldset id="contentToConvert">
        <legend>Previous Employer Details</legend>
        <!--    <div formGroupName="previousEmployerDetailsMaster"[formGroup]="previousEmployerDetailsform" #formDirective_="ngForm"> -->
        <div class="row">
            <div class="col-sm-6 col-md-3">
                <label class="form-label"><b>Previous Employer Name</b></label>
                    <select name="previousEmployerName" id="previousEmployerName" formControlName="name" (change)='OnSelectionPreviousEmployment()'
                    class="form-control custom-select" >
                    <option [ngValue]="null">Select</option>
                    <option *ngFor="let employelist of previousEmployList" [value]="employelist.value" >
                        {{employelist.label}}
                      </option>
                  </select>
                  <div *ngIf="previousEmployerDetailssubmitted && previousEmployerDetailsMaster.address.errors" class="invalid-feedback">
                    <div *ngIf="previousEmployerDetailsMaster.address.errors.required"> Address is mandatory</div>
                </div>
            </div>
            <div class="col-sm-6 col-md-3">
                <label class="form-label"><b> Address </b></label>
                <input type="text" formControlName="address" class="form-control" onkeypress="return /[0-9a-zA-Z ' ]/i.test(event.key)" placeholder="Enter Address" [ngClass]="{'is-invalid': previousEmployerDetailssubmitted && previousEmployerDetailsMaster.address.errors }">
                <div *ngIf="previousEmployerDetailssubmitted && previousEmployerDetailsMaster.address.errors" class="invalid-feedback">
                    <div *ngIf="previousEmployerDetailsMaster.address.errors.required"> Address is mandatory</div>
                </div>
            </div>
            <div class="col-sm-6 col-md-3">
                <label class="form-label"><b> PAN </b></label>
                <input type="text" maxlength="12" minlength="10" formControlName="pan" placeholder="Enter PAN Number" class="form-control" onkeypress="return /[A-Z0-9']/i.test(event.key)" oninput="this.value = this.value.toUpperCase()"
                 name="PAN" pattern="^[A-Z]{5}[0-9]{4}[A-Z]$" [ngClass]="{'is-invalid': previousEmployerDetailssubmitted && previousEmployerDetailsMaster.pan.errors }">
                
                 <div *ngIf="previousEmployerDetailssubmitted && previousEmployerDetailsMaster.pan.errors" class="invalid-feedback">
                    <div *ngIf="previousEmployerDetailsMaster.pan.errors.required">PAN Number is Mandatory</div>
                    <div *ngIf="previousEmployerDetailsMaster.pan.errors?.pattern">Enter valid PAN Number</div>
                </div>
            </div>
            <div class="col-sm-6 col-md-3">
                <label class="form-label"><b> TAN </b></label>
                <input type="text" maxlength="12" minlength="10" formControlName="tan" placeholder="Enter TAN Number" class="form-control" onkeypress="return /[0-9a-zA-Z ]/i.test(event.key)" pattern="^[A-Za-z]{5}[0-9]{4}[A-Za-z]$" name="TAN" oninput="this.value = this.value.toUpperCase()"
                [ngClass]="{ 'is-invalid': previousEmployerDetailssubmitted && previousEmployerDetailsMaster.tan.errors }">
                <div *ngIf="previousEmployerDetailssubmitted && previousEmployerDetailsMaster.tan.errors" class="invalid-feedback">
                    <div *ngIf="previousEmployerDetailsMaster.tan.errors.required">TAN Number is Mandatory</div>
                    <div *ngIf="previousEmployerDetailsMaster.tan.errors?.pattern">Enter valid TAN Number</div>
                </div>
            </div>
        </div>
        <div class="row mb-15 mt-4">
            <div class="col-md-12">
                <h3 class="font-14 text-purple font-bold"><span>*</span> Period Of Employment</h3>             
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6 col-md-3">
                <label class="form-label">Date Of Joining</label>
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="fa fa-calendar"></i></span>
                        </div>
                        <input [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" formControlName="dateOfJoining" data-provide="datepicker" data-date-autoclose="true" class="form-control" (bsValueChange)="setPaymentDetailToDate()" placeholder="Date Of Joining" bsDatepicker 
                            [ngClass]="{ 'is-invalid': previousEmployerDetailssubmitted && previousEmployerDetailsMaster.dateOfJoining.errors }">
                        <div *ngIf="previousEmployerDetailssubmitted && previousEmployerDetailsMaster.dateOfJoining.errors" class="invalid-feedback">
                            <div *ngIf="previousEmployerDetailsMaster.dateOfJoining.errors.required">Date Of Joining mandatory</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-md-3">
                <label class="form-label"><b> Date Of Leaving </b></label>
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="fa fa-calendar"></i></span>
                        </div>
                        <input [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" formControlName="dateOfLeaving" data-provide="datepicker" data-date-autoclose="true" class="form-control" (bsValueChange)="checkFinancialYearStartDateWithPaymentDetailToDate()" placeholder="Date of Leaving"
                            bsDatepicker [minDate]="paymentDetailMinDate" [maxDate]="previousDate" [ngClass]="{ 'is-invalid': previousEmployerDetailssubmitted && previousEmployerDetailsMaster.dateOfLeaving.errors }">
                        <div *ngIf="previousEmployerDetailssubmitted && previousEmployerDetailsMaster.dateOfLeaving.errors" class="invalid-feedback">
                            <div *ngIf="previousEmployerDetailsMaster.dateOfLeaving.errors.required">Date of Leaving mandatory</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-md-3">
                <label class="form-label"><b> Type Of Regime </b></label>
                <select name="Address_Copy_From" id="regime" placeholder="Copy Address" formControlName="typeOfRegime" class="form-control custom-select">
              <option>Old</option>
              <option>New</option>
           </select>
            </div>
        </div>
      
    </fieldset>
    <div class="row mt-30">
        <div class="col-md-6">
          <h3 class="font-14 text-purple font-bold">Remark</h3>
        </div>
        <div class="col-md-7">
          <textarea class="form-control" formControlName="remark" [(ngModel)]="remark" rows="1" style="width:45%;"></textarea>
        </div>
    </div>
    <div class="row mt-30">
        <div class="col-12">
            <div class="card">
                <div class="mb-10 row">
                    <div class="col-md-6">
                        <h3 class="font-14 text-purple font-bold">Upload Documents</h3>
                    </div>
                    <div class="col-md-6">
                        <span class="font-bold text-link float-right"></span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-9">
                        <div class="table-responsive Custom_Table">
                            <table class="table table-striped table-hover table-bordered m-b-0">
                                <thead class="thead-dark">
                                    <tr>
                                        <th scope="col" class="font700 wd-8">Sr No.</th>
                                        <th scope="col" class="font700 wd-30">Document Name</th>
                                        <th scope="col" class="font700 wd-40">Attachment</th>
                                        <th scope="col" class="font700 wd-12">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <th scope="row"><span tooltip="1">1</span></th>

                                        <td><span tooltip="Tax Computation Statement"></span>Tax Computation Statement</td>
                                        <td>
                                            <span *ngFor="let item of masterfilesArray; let j = index" class="text-orange"
                                              tooltip="{{ item.name }}">
                                              <i class="fa fa-paperclip" aria-hidden="true"></i>&nbsp; {{ item.name }},
                                            </span>
                                          </td>

                                        <td>
                                            <i class="fa fa-upload font-16 text-blue cursor-pointer" tooltip="Upload" (click)="UploadModal(previousEmployerDetailsIndex)" data-toggle="modal" data-target="#UploadModal">
                     </i>&nbsp;&nbsp;
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row" *ngIf="isVisibleTable">
      <div class="col-md-12">
        <div class="border-box">
          <div class="row mt-30">
            <div class="col-12">
              <div class="card">
                <div class="mb-0">
                  <h3 class="font-14 text-purple font-bold">
                    Document
                  </h3>
                </div>
                <div class="col-12 col-md-12 col-sm-12">
                  <div class="table-responsive Custom_Table">
                    <p-table *ngIf="documentArray" #dt2 [value]="documentArray" [paginator]="true" [rows]="10"
                      [showCurrentPageReport]="true" (sortFunction)="customSort($event)" [customSort]="true"
                      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                      [rowsPerPageOptions]="[10, 25, 50]" [globalFilterFields]="[
                          'empcode',
                          'empName',
                          'Group',
                          'Frequency',
                          'Type',
                          'proofsubmission',
                          'PSIdDetails',
                          'SubmissionDate',
                          'Status'
                        ]">
                      <ng-template pTemplate="header">
                        <tr>
                          <!-- <th style="width: 3rem">
                              <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                            </th> -->
  
                          <th>
                            <div class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                ">
                              Date Of Submission
                              <div class="Sort_Filter_Position">
                                <p-sortIcon field="empcode" pSortableColumn="empcode"></p-sortIcon>
                                <p-columnFilter field="empcode" display="menu" class="p-ml-auto">
                                </p-columnFilter>
                              </div>
                            </div>
                          </th>
                          <th>
                            <div class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                ">
                              Document Name
                              <div class="Sort_Filter_Position">
                                <p-sortIcon field="documentName" pSortableColumn="documentName"></p-sortIcon>
                                <p-columnFilter field="documentName" display="menu" class="p-ml-auto">
                                </p-columnFilter>
                              </div>
                            </div>
                          </th>
                          <th>
                            <div class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                ">
                              Document Type
                              <div class="Sort_Filter_Position">
                                <p-sortIcon field="documentType" pSortableColumn="documentType"></p-sortIcon>
                                <p-columnFilter field="documentType" display="menu" class="p-ml-auto">
                                </p-columnFilter>
                              </div>
                            </div>
                          </th>
                          <th>
                            <div class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                ">
                              Password
                              <div class="Sort_Filter_Position">
                                <p-sortIcon field="empcode" pSortableColumn="empcode"></p-sortIcon>
                                <p-columnFilter field="empcode" display="menu" class="p-ml-auto">
                                </p-columnFilter>
                              </div>
                            </div>
                          </th>
                          <th>
                            <div class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                ">
                              Remark
                              <div class="Sort_Filter_Position">
                                <p-sortIcon field="empcode" pSortableColumn="empcode"></p-sortIcon>
                                <p-columnFilter field="empcode" display="menu" class="p-ml-auto">
                                </p-columnFilter>
                              </div>
                            </div>
                          </th>
                          <th>
                            <div class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                ">
                              Status
                              <div class="Sort_Filter_Position">
                                <p-sortIcon field="empcode" pSortableColumn="empcode"></p-sortIcon>
                                <p-columnFilter field="empcode" display="menu" class="p-ml-auto">
                                </p-columnFilter>
                              </div>
                            </div>
                          </th>
                          <th>
                            <div class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                ">
                              Approver Name
                              <div class="Sort_Filter_Position">
                                <p-sortIcon field="empcode" pSortableColumn="empcode"></p-sortIcon>
                                <p-columnFilter field="empcode" display="menu" class="p-ml-auto">
                                </p-columnFilter>
                              </div>
                            </div>
                          </th>
                          <th>
                            <div class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                ">
                              Time
                              <div class="Sort_Filter_Position">
                                <p-sortIcon field="empcode" pSortableColumn="empcode"></p-sortIcon>
                                <p-columnFilter field="empcode" display="menu" class="p-ml-auto">
                                </p-columnFilter>
                              </div>
                            </div>
                          </th>
                        </tr>
                      </ng-template>
                      <ng-template pTemplate="body" let-document let-documentIndex="rowIndex">
                        <tr class="p-selectable-row">
                          <!-- <td>
                              <p-tableCheckbox
                                [value]="customer"
                              >
                              </p-tableCheckbox>
                            </td> -->
                          <td>
                            {{ document.dateofsubmission | date:'dd-MMM-yyyy' }}
                          </td>
                          <td>
                            <a (click)=" docViewer(template3,documentIndex, document)">
                              <i class="
                                    fa fa-paperclip
                                    text-orange
                                  "></i>
                              &nbsp;
                              {{ document.documentName }}
                            </a>
                          </td>
                          <td>{{ document.documentType }}</td>
                          <td>{{ document.documentPassword }}</td>
                          <td>
                            <!-- <div class="custom_Label_badge">
                                <button
                                  class="
                                    btn btn-bg-green
                                    text-white
                                  "
                                  (click)="
                                    docViewer(template3)
                                  "
                                >
                                  PSEmp
                                </button>
                                <span class="Label_badge"
                                  >2</span
                                >
                              </div> -->
                            {{document.documentRemark}}
                          </td>
                          <td>{{ document.status }}</td>
                          <td>{{ document.lastModifiedBy }}</td>
                          <td>{{ document.lastModifiedTime | date:'dd-MMM-yyyy HH:mm' }}</td>
                        </tr>
                      </ng-template>
                    </p-table>
                  </div>
                </div>
                <!-- <div class="row mt-25">
                    <div class="col-md-12">
                      <div class="float-right">
                        <button
                          type="submit"
                          class="
                            custom_button custom_btn
                            btn-bg-green
                            btn-labeled
                            btn-labeled-left
                            ripple
                            mr-2
                          "
                          tooltip="Approve"
                        >
                          <b>
                            <i class="fa fa-floppy-o"></i
                          ></b>
                          Approve
                        </button>
  
                        <button
                          type="button"
                          tooltip="Send Back"
                          class="
                            custom_button custom_btn
                            bg-btn-red
                            btn-labeled btn-labeled-left
                            mr-2
                          "
                        >
                          <b><i class="fa fa-times"></i></b>
                          Discard
                        </button>
                      </div>
                    </div>
                  </div> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row mt-15">
        <div class="col-12">
            <div class="float-right mb-15" *ngIf="toShowSaveBtn">
                <button type="submit" class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple" tooltip="Save"><b><i class="fa fa-floppy-o"></i></b> Save</button> &nbsp;
                <button type="button" tooltip="Cancel" class="custom_button custom_btn bg-btn-red btn-labeled btn-labeled-left" (click)="cancelEdit()"><b><i class="fa fa-times"></i></b> Cancel</button>
            </div>
            <div class="float-right mb-15" *ngIf="toShowUpdateBtn">
              <button type="submit" class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple" tooltip="Update"><b><i class="fa fa-floppy-o"></i></b> Update</button> &nbsp;
              <button type="button" tooltip="Cancel" class="custom_button custom_btn bg-btn-red btn-labeled btn-labeled-left" (click)="cancelEdit()"><b><i class="fa fa-times"></i></b> Cancel</button>
          </div>
        </div>
    </div>
    <div class="mb-0 row">
        <div class="col-md-6">
            <h3 class="font-14 text-purple font-bold">Summary</h3>
        </div>
        <div class="col-md-6">
            <span class="font-bold text-link float-right"></span>
        </div>
    </div>
    <div class="row mt-10">
        <div class="col-12">
            <div class="table-responsive Custom_Table">
                <table class="table table-striped table-hover table-bordered m-b-0">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col" class="wd-10">PS.ID.</th>
                            <th scope="col" class="wd-15">Employer Name</th>
                            <th scope="col" class="wd-20">Date Of Joining</th>
                            <th scope="col" class="wd-20">Date Of Leaving</th>
                            <th scope="col" class="wd-15">Regime</th>
                            <th scope="col" class="wd-15">Remark</th>
                            <th scope="col" class="wd-15">Status</th>
                            <th scope="col" class="wd-15">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let summary of masterGridData; let i = index">
                            <td>
                                <span><span tooltip="{{summary.proofSubmissionId }}">{{summary.proofSubmissionId}}</span></span>
                            </td>
                            <td class="wd-10">
                                <span><span tooltip="{{summary.name}}">{{summary.name}}</span></span>
                            </td>
                            <td>
                                <span><span tooltip="{{summary.dateOfJoining | date :'dd-MMM-yyyy' }}">{{summary.dateOfJoining | date :'dd-MMM-yyyy'}}</span></span>
                            </td>
                            <td class="wd-15">
                                <span><span tooltip="{{summary.dateOfLeaving | date :'dd-MMM-yyyy' }}">{{summary.dateOfLeaving | date :'dd-MMM-yyyy' }}</span></span>
                            </td>
                            <td class="wd-15 align-center">
                                <span><span tooltip="{{summary.typeOfRegime}}">{{summary.typeOfRegime}}</span></span>
                            </td>
                            <td style="align-items: center;">
                                <div class="text-center">
                                  <!-- <input
                                  style="width:100px;"
                                    type="text"
                                    class="form-control"
                                    disabled
                                    
                                    (change)="
                                    onChangeDocumentRemark(
                                        summary, i,
                                        $event
                                      )
                                    "
                                  
                                  /> -->
                                  <div
                                    _ngcontent-ykc-c443=""
                                    class="
                                      custom_Label_badge
                                      mr-2
                                      ml-2
                                    "
                                  >
                                    <b>
                                      <i
                                        (click)="
                                          docRemarkModal(
                                            template8,
                                            documentDetailIndex,
                                            summary?.previousEmployerMasterDetailId,
                                            summary
                                          )
                                        "
                                        class="
                                          fa fa-commenting
                                          text-dark-green
                                          fa-2x
                                          cursor-pointer
                                        "
                                      >
                                      </i
                                    ></b>
                                    <span
                                      _ngcontent-ykc-c443=""
                                      class="Label_badge"
                                      >{{
                                      
                                        summary?.bubbleRemarkCount
                                      }}</span
                                    >
                                  </div>
                                </div>
                              </td>
                              <!-- <td class="wd-15 align-center">
                                <span><span tooltip="{{summary.documentInformationList[0].status}}">{{summary.documentInformationList[0].status}}</span></span>
                            </td> -->
                            <td class="wd-6"><span class="badge" [ngClass]="{'badge-primary': summary.documentInformationList[0].status=='Re-Open',
                              ' badge-success': summary.documentInformationList[0].status=='Approved',
                              'badge-danger': summary.documentInformationList[0].status=='SendBack',
                              'badge-info': summary.documentInformationList[0].status=='Submitted',
                              'badge-warning': summary.documentInformationList[0].status=='Pending'}" tooltip={{summary.documentInformationList[0].status}}>{{summary.documentInformationList[0].status}}</span>
                            </td>
                            <td class="wd-10">
                                <i class="fa fa-edit font-16 text-dark-green cursor-pointer" (click)="editMaster(i)" tooltip="Edit"></i> &nbsp;
                            </td>
                        </tr>
                        <tr *ngIf="!masterGridData?.length">
                            <td colspan="10">
                                <span class="font-14 font500 align-center text-red">No Data Available</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</form>


<!-- <ng-template #previousEmployerDetailsIndex>
    <div class="modal-header">
        <h5 class="modal-title" id="UploadModalLabel">Upload Document</h5>
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
         aria-hidden="true">×</span></button>
    </div>
    <div class="modal-body">
        
        <div class="card">
            <div class="card-body">
               <div class="row clearfix">
                 
                  <div class="col-md-12">
                     <div class="fileuploadbox bg-color-lightgray">
                        <label class="filelabel">
                           <i class="fa fa-upload">
                           </i>
                           <span class="title">
                              Choose file
                           </span>
                           <input class="FileUpload1" class="dropify"
                              (change)="onMasterUpload($event);"
                              accept=".jpg , .jpeg, .pdf , .png" id="FileInput" type="file" multiple />
                        </label>
                     </div>
                     <div *ngIf="masterfilesArray.length > 0 " class="fileuploadbox">
                        Selected files
                        <label *ngFor="let item of masterfilesArray;  let index = index;"
                           class="filelabeldisplay">
                           <div class="text-ellipsis"><i class="fa fa-paperclip">
                              </i>
                              <span class="title">
                                 {{ item.name }}
                              </span>
                           </div>
                           <div>
                              <i class="fa fa-times text-red font-18"
                                 (click)="removeSelectedRentAgreementDocumentDetailDocument(index)"></i>
                                 
                           </div>
                        </label>
                     </div>
                  </div>
                  <div class="col-md-12 mt-10">
                     <label class="form-label">Remark</label>
                  </div>
                  <div class="col-md-12">
                     <textarea class="form-control" [(ngModel)]="documentRemark" rows="2"></textarea>
                  </div>
               </div>
            </div>
         </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">Ok</button>
    </div>
</ng-template> -->

<ng-template #previousEmployerDetailsIndex>
    <div class="modal-header">
      <h5 class="modal-title" id="UploadModalLabel">Upload Document</h5>
      <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
        aria-hidden="true">×</span></button>
    </div>
    <div class="modal-body">
      <div class="card">
        <div class="card-body">
          <div class="row clearfix">
            <!-- <div class="col-md-12">
           <label class="form-label">Upload File here :</label>
        </div> -->
            <div class="col-md-12">
              <div class="fileuploadbox bg-color-lightgray">
                <label class="filelabel">
                  <i class="fa fa-upload">
                  </i>
                  <span class="title">
                      Choose file
                    </span>
                  <input class="FileUpload1" class="dropify" (change)="onMasterUpload($event);"
                         accept=".jpg , .jpeg, .pdf , .png" id="FileInput" type="file" multiple />
                </label>
              </div>
              <div *ngIf="masterfilesArray.length > 0 " class="fileuploadbox">
                <span class="text-purple font-14 font700">Selected Files</span>
                <label *ngFor="let item of masterfilesArray;  let index = index;" class="filelabeldisplay">
                  <div class="text-ellipsis"><i class="fa fa-paperclip">
                  </i>
                    <span class="title" tooltip="{{item.name}}">
                        {{ item.name }}
                      </span>
                    <div>
                      <div style="float: left; width: 40%;">
                        <div class="col-md-8 mt-10">
                          <label class="form-label">Password</label>
                        </div>
                        <div class="col-md-12">
                          <input class="form-control" [(ngModel)]="documentPassword[index]" rows="1">
                        </div>
  
                      </div>
                      <div style="float: right; width: 40%; margin-right: 59px">
                        <div class="col-md-8 mt-10">
                          <label class="form-label">Remark</label>
                        </div>
                        <div class="col-md-12">
                          <!-- (focusout)="getSelectedRemark($event.target.value,index)" -->
                          <input class="form-control" [(ngModel)]="remarkList[index]"  rows="1">
                        </div>
                      </div>
                    </div>
                  </div>
                  <div>
                    <i class="fa fa-times text-red font-18" (click)="removeSelectedRentAgreementDocumentDetailDocument(index)"></i>
                  </div>
                </label>
  
  
              </div>
            </div>
            <!-- <div class="col-md-12 mt-10">
                <label class="form-label">Remark</label>
            </div>
            <div class="col-md-12">
                <textarea class="form-control" [(ngModel)]="documentRemark" rows="2"></textarea>
            </div> -->
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" (click)="getRemark();modalRef.hide()">Ok</button>
    </div>
  </ng-template>

 


  <!-- <ng-template #template8>
    <div class="modal-header">
      <h5 class="modal-title" id="jasdjgh">View Remark</h5>
      <button
        type="button"
        (click)="modalRef.hide()"
        class="close"
        data-dismiss="modal"
        aria-label="Close"
      >
        <span aria-hidden="true">×</span>
      </button>
    </div>
  
    <div class="card-body">
      <div *ngFor="let documentRemark of documentRemarkList">
        <div class="row">
          <div class="col-md-6">
            <span class="form-label"
              >{{ documentRemark.role }}:
              <b class="text-gray">{{
                documentRemark.remarkBy
              }}</b></span >
          </div>
          <div class="col-md-6">
            <div class="float-right">
              <span class="form-label">
                Date:
                <b class="text-gray">{{
                  documentRemark.remarkDate
                    | date: "dd-MMM-yyyy HH:mm"
                }}</b>
              </span>
            </div>
          </div>
        </div>
        <div class="row">
          <textarea class="form-control remarktext" disabled>
          {{ documentRemark.remark }}
          </textarea>
        </div>
      </div>
      <div class="row mt-25">
        <div class="col-md-12">
          <input type="text" 
          (change)= "
          onChangeDocumentRemark(
            this.summaryDetails, this.indexCount,
              $event
            )
          " class="form-control" placeholder="Remark">
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button
        type="button"
        class="btn btn-secondary"
        (click)="onSaveRemarkDetails(this.summaryDetails,this.indexCount)"
      >
        Save
      </button>
    </div>
  </ng-template> -->

  <ng-template #template8>
    <div class="modal-header">
      <h5 class="modal-title" id="jasdjgh">Remark</h5>
      <button
        type="button"
        (click)="modalRef.hide()"
        class="close"
        data-dismiss="modal"
        aria-label="Close"
      >
        <span aria-hidden="true">×</span>
      </button>
    </div>
  
    <div class="card-body">
      <div *ngFor="let documentRemark of documentRemarkList">
        <div class="row">
          <div class="col-md-6">
            <span class="form-label"
              >{{ documentRemark?.role }}:
              <b class="text-gray">{{
                documentRemark?.remarkBy
              }}</b></span >
          </div>
          <div class="col-md-6">
            <div class="float-right">
              <span class="form-label">
                Date:
                <b class="text-gray">{{
                  documentRemark?.remarkDate
                    | date: "dd-MMM-yyyy HH:mm"
                }}</b>
              </span>
            </div>
          </div>
        </div>
        <div class="row">
          <textarea class="form-control remarktext" disabled [ngClass]="{'admin-class':documentRemark.role=='Approval Admin'}">
          {{ documentRemark?.remark }}
          </textarea>
        </div>
      </div>
      <div class="row mt-25">
        <div class="col-md-12">
          <h6 class="modal-title" id="jasdjgh">Enter New Remark</h6>
          <textarea type="text" [(ngModel)]="enteredRemark"
          (change)= "
          onChangeDocumentRemark(
            this?.summaryDetails, this?.indexCount,
              $event
            )
          " class="form-control" placeholder="Remark"></textarea>
        </div>
      </div>
    </div>
  <!-- 
    <div *ngIf="!this.summaryDetails?.proofSubmissionId" class="modal-footer">
      <button
        type="button"
        class="btn btn-secondary"
        (click)="modalRef.hide()"
      >
        Ok
      </button>
    </div> -->
    <div *ngIf="this.summaryDetails?.proofSubmissionId" class="modal-footer">
      <button
        type="button"
        class="btn btn-secondary"
        (click)="onResetRemarkDetails()"
      >
      Reset
      </button>
      <button
        type="button"
        class="btn btn-secondary"
        (click)="onSaveRemarkDetails(this.summaryDetails,this.indexCount)"
      >
        Save
      </button>
    </div>
  </ng-template>
  <ng-template #template3>
    <div class="modal-header">
      <!-- <h5 class="modal-title" id="jasdjgh">Document Viewer</h5> -->
      <div class="row">
        <div class="col-sm-6 col-md-6 align-right">
          <label class="form-label">Document Name</label>
          {{this.viewDocumentName}}
        </div>
        <div class="col-sm-6 col-md-6 align-right">
          <label class="form-label">Document Type</label>
  
          {{this.viewDocumentType}}
        </div>
  
      </div>
      <div class="align-right">
        <button type="button" (click)="zoomin()"><i class="fa fa-search-plus" aria-hidden="true"></i></button>
        <button type="button" (click)="zoomout()"><i class="fa fa-search-minus" aria-hidden="true"></i></button>
  
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
    </div>
  <!-- Doc Viewer -->
    <div class="card-body">
      <div class="row">
        <div class="col-md-1">
          <button type="button" class="btn active Next_Previous_Btn" tooltip="Previous Document"
            (click)="previousDocViewer()" [disabled]="urlIndex == 0">
            <i class="fa fa-angle-left text-white font-30 p-10"></i>
          </button>
        </div>
        <div class="col-md-10">
          <!-- <iframe style="height: 100vh; width: 100%; display: block" [src]="urlSafe" provider="google"></iframe> -->
          <img id='map' style="height: 100vh; width: 100%; display: block" [src]="urlSafe" provider="google">
        </div>
        <div class="col-md-1">
          <button type="button" class="btn active Next_Previous_Btn" tooltip="Next Document" (click)="nextDocViewer()"
            [disabled]="urlIndex == urlArray.length - 1">
            <i class="fa fa-angle-right text-white font-30 p-10"></i>
          </button>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">
        Ok
      </button>
    </div>
  </ng-template>
