<div class="tabview-contents">
  <div class="row mb-15" *ngIf="isDisabled">
    <div class="col-md-12">
      <label class="mt-2 highlightlabel font-13 font600"><span class="text-red">*</span> Select Property for prof
        submission
      </label>
    </div>
  </div>
  <div class="row d-flex">
    <!-- <div class="col-12 mr-0 pr-0" *ngIf="isDisabled">
 </div> -->
    <div class="ml-2 pl-1 pr-0">
      <label class="form-label mt-2">House Name
        <span class="text-red"></span></label>
    </div>
    <div class="col-md-3 pr-0">
      <select name="HouseName " class="form-control custom-select"
        (change)="selectedTransactionInstName($event.target.value)">
        <option *ngFor="let InstitutionName of transactionPropertyListNames" [value]="InstitutionName.value"
          [selected]="InstitutionName.value == globalInstitution">
          {{ InstitutionName.label }}
        </option>
      </select>
    </div>
    <!--   <div class="ml-2 pl-1 pr-0">
       <label class="form-label mt-2 pl-10">Policy No.</label>
     </div>
     <div class="col-2">
       <select
         name="policyNo"
         class="form-control custom-select"
         (change)="selectedPolicy($event.target.value)"
       >
         <option
           *ngFor="let transactionPolicy of transactionPolicyList"
           [value]="transactionPolicy.value"
           [selected]="transactionPolicy.value == globalPolicy"
         >
           {{ transactionPolicy.label }}
         </option>
       </select>
     </div> -->
    <!--  <div class="ml-2 pl-1 pr-0">
       <label class="form-label mt-2">Status</label>
     </div>
     <div class="col-2">
       <select
         name="transactionStatus"
         class="form-control custom-select"
         (change)="selectedTransactionStatus($event.target.value)"
       >
         <option
           *ngFor="let transactionStatus of transactionStatustList"
           [value]="transactionStatus.value"
         >
           {{ transactionStatus.label }}
         </option>
       </select>
     </div> -->
  </div>
  <div *ngFor="let item of transactionDetail; let j = index">
    <div class="row pt-10 mt-10 bg-color-light_gray d-flex">
      <div class="ml-2 pl-1 pr-0">
        <label class="form-label mt-1">House Name :</label>
      </div>
      <div class="ml-2 pl-1 pr-0 col-md-1">
        <label class="font-12 text-ellipsis mt-1" placement="top" [adaptivePosition]="false"
          tooltip="{{ item.propertyName }}">
          {{ item.propertyName }}
        </label>
      </div>
      <div class="ml-2 pl-1 pr-0">
        <label class="form-label mt-1 pl-10">House Address :</label>
      </div>
      <div class="ml-2 pl-1 pr-0 col-md-1">
        <label class="font-12 text-ellipsis mt-1" placement="top" [adaptivePosition]="false"
          tooltip="{{ item.address }}">
          {{ item.address }}
        </label>
      </div>
      <div class="ml-2 pl-1 pr-0">
        <label class="form-label mt-1">Landlord Name :</label>
      </div>
      <div class="ml-2 pl-1 pr-0 col-md-1">
        <label class="font-12 text-ellipsis mt-1" placement="top" [adaptivePosition]="false"
          tooltip="{{ item.landLordName }}">
          {{ item.landLordName }}
        </label>
      </div>

      <div class="ml-2 pl-1 pr-0">
        <label class="form-label mt-1 pl-10">Date Range : From</label>
      </div>
      <div class="ml-1 pl-1 pr-0 col-md-1">
        <label class="font-12 text-ellipsis mt-1" placement="top" [adaptivePosition]="false"
          tooltip=" {{ item.fromDate | date: 'dd-MMM-yyyy'}}">
          {{ item.fromDate | date: 'dd-MMM-yyyy'}}
        </label>
      </div>
      <div class="pr-0" style="margin-left:-8px">
        <label class="form-label mt-1 ">To</label>
      </div>
      <div class="ml-1 pl-1 pr-0 col-md-1">
        <label class="font-12 text-ellipsis mt-1" placement="top" [adaptivePosition]="false"
          tooltip=" {{ item.toDate | date: 'dd-MMM-yyyy'}}">
          {{ item.toDate | date: 'dd-MMM-yyyy'}}
        </label>
      </div>
      <!--   <div class="ml-2 pl-1 pr-0">
        <label class="form-label mt-1 pl-10">Date Range</label>
     </div>
     <div class="ml-1 pl-1 pr-0 col-md-3">
      <label
      class="font-12 text-ellipsis mt-1"
      placement="top"
      [adaptivePosition]="false"
      tooltip="{{ item.fromDate }}"
      >
        {{ item.fromDate }}
      </label>
      </div> -->
      <!-- <div class="ml-2 pl-1 pr-0">
        <label class="form-label mt-1 pl-10">To</label>
     </div> -->
      <!-- <div class="ml-1 pl-1 pr-0 col-md-1">
        <label class="font-12 text-ellipsis mt-1"placement="top">
        </label>
     </div> -->
    </div>
    <div class="row mt-15">
      <div class="col-12">
        <div class="table-responsive Custom_Table">
          <table class="table table-striped table-hover table-bordered m-b-0">
            <thead class="thead-dark">
              <tr>
                <th rowspan="2" class="wd-6">
                 <!--  <label class="custom-control custom-checkbox checkbox-center" tooltip="Select All">
                    <input type="checkbox" class="custom-control-input" name="select" />
                    <span class="custom-control-label"></span>
                  </label> -->
                  <label class="custom-control custom-checkbox checkbox-center" placement="bottom"   tooltip="Select All">
                    <input type="checkbox" class="custom-control-input"  [ngModel]="isCheckAll" [disabled]="canEdit && isDisabled"
                      name="select" value="isCheckAll{{ j }}" (change)="checkUncheckAll(item, j)" />
                    <span class="custom-control-label"></span>
                  </label>
                </th>
                <th rowspan="2" class="wd-9 font700">
                  <span tooltip="From Date">From Date</span>
                </th>
                <th rowspan="2" class="wd-9 font700">
                  <span tooltip="To Date">To Date</span>
                </th>
                <th rowspan="2" class="wd-9 font700">
                  <span tooltip="Declared Amount">Declared Amount</span>
                </th>
                <th rowspan="2" class="wd-9 font700">
                  <span tooltip="Date of Payment">Date of Payment</span>
                </th>
                <th rowspan="2" class="wd-9 font700">
                  <span tooltip="Actual Amount">Actual<br>Amount</span>
                </th>
                <th colspan="2" class="wd-17 font700">
                  <span tooltip="Receipt Amount">Receipt Amount</span>
                </th>
                <th rowspan="2" class="wd-7 font700">
                  <span tooltip="Remark">Remark</span>
                </th>
                <th rowspan="2" class="wd-7">
                  <span tooltip="PS. ID.">PS. ID.</span>
                </th>
                <th rowspan="2" class="wd-7 font700">
                  <span tooltip="Status">Status</span>
                </th>
                <th rowspan="2" class="wd-7 font700">
                  <span tooltip="Action">Action</span>
                </th>
              </tr>
              <tr>
                <th>Rejected</th>
                <th>Approved</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="
                   let summary of item.houseRentalTransactionList;
                   let i = index;
                   count as c
                 ">
                <td scope="row">
                  <!-- <label class="custom-control custom-checkbox checkbox-center" *ngIf="isDisabled"
                    tooltip="Select Property for Proof Submission">
                    <input type="checkbox" [ngModel]="enableSelectAll"
                      [disabled]="isDisabled || summary.proofSubmissionId" (change)="
                         onSelectCheckBox(summary, $event, i, j);
                         enableCheckboxFlag = j
                       " class="custom-control-input" value="option{{ summary.houseRentalTransactionDetailId }}" />
                    <span class="custom-control-label"></span>
                  </label> -->
                  <label *ngIf="summary.transactionStatus !== 'Submitted' && summary.transactionStatus !== 'Approved' && summary.transactionStatus !== 'SendBack'" class="custom-control custom-checkbox checkbox-center">
                    <input type="checkbox" [ngModel]="enableSelectAll"
                      [disabled]="isDisabled || summary.proofSubmissionId" (change)="
                         onSelectCheckBox(summary, $event, i, j);
                         enableCheckboxFlag = j
                       " class="custom-control-input" value="option{{ summary.houseRentalTransactionDetailId }}" />
                    <span class="custom-control-label"></span>
                  </label>
                </td>
                <td>
                  <label  tooltip="{{summary.fromDate | date: 'dd-MMM-yy'}}"
                placement="bottom">
                  <!--  <span>{{ summary.isECS === 1 ? "Yes" : "No" }}</span> -->
                  <div class="custom_icon_badge">
                    <!-- <input type="text" class="form-control" [minDate]="financialYearStartDate"
                      [maxDate]="financialYearEndDate" [ngModel]="summary.fromDate | date: 'dd-MMM-yyyy'" [disabled]="
                        initialArrayIndex[j] > i || summary.isECS === 1
                      " (ngModelChange)="
                        summary.fromDate = $event.toLocaleDateString();
                        onDueDateChange(summary, i, j)
                      " [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" data-provide="datepicker" bsDatepicker /> -->
                    
                    <input type="text" [ngModel]="summary.fromDate | date: 'dd-MMM-yy'"
                      [minDate]="financialYearStartDate" [maxDate]="financialYearEndDate"
                      [bsConfig]="{ dateInputFormat: 'DD-MMM-YY' }" data-provide="datepicker"
                      data-date-autoclose="true" (ngModelChange)=" summary.fromDate = $event.toLocaleDateString(); setFromDate(summary, i, j)
                       " [disabled]="
                         isDisabled || summary.transactionStatus === 'Submitted' ||summary.transactionStatus === 'Pending'
                       " class="form-control" bsDatepicker />
                  </div>
                  </label>
                </td>
                <td>
                  <label  tooltip="{{summary.toDate | date: 'dd-MMM-yy'}}"
                placement="bottom">
                  <div class="custom_icon_badge">
                    <!-- <input type="text" class="form-control" [minDate]="financialYearStartDate"
                      [maxDate]="financialYearEndDate" [ngModel]="summary.toDate | date: 'dd-MMM-yyyy'" [disabled]="
                         initialArrayIndex[j] > i || summary.isECS === 1
                       " (ngModelChange)="
                         summary.toDate = $event.toLocaleDateString();
                         onDueDateChange(summary, i, j)
                       " [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" data-provide="datepicker" bsDatepicker /> -->

                    <!--     <input type="text" [ngModel]="summary.toDate | date: 'dd-MMM-yyyy'"
                      [minDate]="financialYearStartDate" [maxDate]="financialYearEndDate"
                      [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" data-provide="datepicker"
                      data-date-autoclose="true"
                      (ngModelChange)="summary.toDate = $event.toLocaleDateString(); setToDate(summary, i, j)"
                      [disabled]="
                          isDisabled || summary.transactionStatus === ' Submitted'" class="form-control"
                      bsDatepicker /> -->
                    <input type="text" [ngModel]="summary.toDate | date: 'dd-MMM-yy'"
                      [minDate]="financialYearStartDate" [maxDate]="financialYearEndDate"
                      [bsConfig]="{ dateInputFormat: 'DD-MMM-YY' }" data-provide="datepicker"
                      data-date-autoclose="true" (ngModelChange)=" summary.toDate = $event.toLocaleDateString(); setToDate(summary, i, j)
                       " [disabled]="
                         isDisabled || summary.transactionStatus === 'Submitted' || summary.transactionStatus === 'Pending'
                       " class="form-control" bsDatepicker />
                  </div>
                  </label>
                </td>
                <td>
                  <div class="custom_icon_badge">
                    <input type="text" id="declaredAmountPerMonth{{ summary.houseRentalTransactionDetailId }}"
                      name="declaredAmountPerMonth{{ summary.houseRentalTransactionDetailId }}"
                      [(ngModel)]="summary.declaredAmountPerMonth" class="form-control align-right"
                      (change)="onDeclaredAmountChange(summary, i, j)" [disabled]="initialArrayIndex[j] > i" />
                  </div>
                </td>
                <td>
                  <div class="custom_icon_badge">
                    <!--   <input type="text" [ngModel]="summary.paymentDate | date: 'dd-MMM-yyyy'"
                    [minDate]="financialYearStartDate" [maxDate]="financialYearEndDate"
                    [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" data-provide="datepicker" data-date-autoclose="true"
                    (ngModelChange)=" summary.paymentDate = $event.toLocaleDateString(); setDateOfPayment(summary, i, j)"
                    [disabled]="
                       isDisabled || summary.transactionStatus === 'Submitted'
                     " class="form-control" bsDatepicker /> -->
                    <input type="text" [ngModel]="summary.paymentDate | date: 'dd-MMM-yy'"
                      [minDate]="financialYearStartDate" [maxDate]="financialYearEndDate"
                      [bsConfig]="{ dateInputFormat: 'DD-MMM-YY' }" data-provide="datepicker"
                      data-date-autoclose="true" (ngModelChange)=" summary.paymentDate = $event.toLocaleDateString(); setDateOfPayment(summary, i, j)
                      " [disabled]="
                        isDisabled || summary.transactionStatus === 'Submitted'
                      " class="form-control" bsDatepicker />
                  </div>
                </td>
                <td>
                  <input type="text" id="actualAmountPerMonth{{ summary.houseRentalTransactionDetailId }}"
                    name="actualAmountPerMonth{{ summary.houseRentalTransactionDetailId }}"
                    [disabled]="initialArrayIndex[j] > i" [(ngModel)]="summary.actualAmountPerMonth"
                    (change)="onActualAmountChange(summary, i, j)" class="form-control align-right" />
                </td>
                <td>
                  <input type="text" [ngModel]="summary.rejectedAmountPerMonth | number: '1.2-2'"
                    class="form-control align-right" disabled />
                </td>
                <td>
                  <input type="text" [ngModel]="summary.approvedAmountPerMonth | number: '1.2-2'"
                    class="form-control align-right" disabled />
                </td>
                <td>
                  <div class="align-center">
                    <div
                      _ngcontent-ykc-c443=""
                      class="
                        custom_Label_badge
                        mr-2
                        ml-2
                      " >
                      <b>
                        <i
                          (click)="
                            docRemarkModal(
                              template8,
                              documentDetailIndex,
                              summary?.houseRentalTransactionDetailId,
                              summary, i
                            )
                          "
                          class="
                            fa fa-commenting
                            text-dark-green
                            fa-2x
                            cursor-pointer
                          "
                        >
                        </i
                      ></b>
                      <span
                        _ngcontent-ykc-c443=""
                        class="Label_badge"
                        >{{
                          summary.bubbleRemarkCount
                        }}</span
                      >
                    </div>
                  </div>
                </td>
                <td>
                  <span tooltip="{{ summary.proofSubmissionId }}" *ngIf="summary.transactionStatus === 'Submitted'">
                    <i class="fa fa-clipboard font-16 text-cyan" aria-hidden="true"></i>
                  </span>
                </td>
                <td class="wd-6"><span class="badge" [ngClass]="{'badge-primary': summary.transactionStatus=='Re-Open',
                  ' badge-success': summary.transactionStatus=='Approved',
                  'badge-danger': summary.transactionStatus=='SendBack',
                  'badge-info': summary.transactionStatus=='Submitted',
                  'badge-warning': summary.transactionStatus=='Pending'}" tooltip={{summary.transactionStatus}}>{{summary.transactionStatus}}</span>
               </td>
               <td class="wd-6 align-center">
                <i  *ngIf="summary.transactionStatus!=='Pending'" class="fa fa-eye font-16 text-blue cursor-pointer" (click)="
                declarationEditUpload(
                    template2,
                    summary.proofSubmissionId
                  );
                  viewDocumentDetail = false
                " tooltip="view"></i> &nbsp;&nbsp;
                <i *ngIf="canEdit && (summary.transactionStatus=='Submitted' || summary.transactionStatus=='SendBack')" class="fa fa-edit font-16 text-dark-green cursor-pointer" (click)="
                  declarationEditUpload(
                      template2,
                      summary.proofSubmissionId
                    );
                    viewDocumentDetail = true
                  " tooltip="Edit"></i>

              </td>
              </tr>
              <tr *ngIf="!isDisabled && canEdit">
                <!--    <td *ngIf="previousEmployeeList?.length" colspan="12" -->
                <td colspan="12" class="align-right font700 font-16 text-light-green cursor-pointer">
                  <i class="fa fa-plus-circle font-20" tooltip="Add" (click)="addRowInList(declarationService, j)"></i>
                  <span tooltip="Add Row">Add</span>&nbsp;&nbsp;
                  <i class="fa fa-times font-16 text-red cursor-pointer" *ngIf="hideRemoveRow" tooltip="Cancel"
                    (click)="deleteRow(j)"></i>
                </td>
                <!--    <td *ngIf="!previousEmployeeList?.length" colspan="11"
                  class="align-right font700 font-16 text-light-green cursor-pointer">
                  <i class="fa fa-plus-circle font-20" tooltip="Add" (click)="addRowInList(declarationService, j)"></i>
                  <span tooltip="Add Row">Add</span>&nbsp;&nbsp;
                  <i class="fa fa-times font-16 text-red cursor-pointer" *ngIf="hideRemoveRow" tooltip="Cancel"
                    (click)="deleteRow(j)"></i>
                </td> -->
              </tr>
              <tr>
                <td colspan="1" class="bg-lightgray font-18 font700">Total</td>
                <!--  <td *ngIf="previousEmployeeList?.length" class="bg-lightgray font-18 font700 align-right"></td> -->
                <td class="bg-lightgray font-18 font700 align-right"></td>
                <td class="bg-lightgray font-18 font700 align-right"></td>
                <td class="bg-lightgray font-18 font700 align-right">
                  <span tooltip=" {{ item.declarationTotal | number: '1.2-2' }}" class="padding-right-12">
                    {{ item.declarationTotal | number: "1.2-2" }}
                  </span>
                </td>
                <td class="bg-lightgray font-18 font700 align-right"></td>
                <td class="bg-lightgray font-18 font700 align-right">
                  <span tooltip="{{ item.actualTotal | number: '1.2-2' }}" class="padding-right-12">
                    {{ item.actualTotal | number: "1.2-2" }}
                  </span>
                </td>
                <td class="bg-lightgray font-18 font700 align-right">
                  <span tooltip=" {{ item.rejectedAmountPerMonth | number: '1.2-2' }}" class="padding-right-12">
                    {{ item.rejectedAmountPerMonth | number: "1.2-2" }}
                  </span>
                </td>
                <td class="bg-lightgray font-18 font700 align-right">
                  <span tooltip="{{ item.approvedAmountPerMonth | number: '1.2-2' }}" class="padding-right-12">
                    {{ item.approvedAmountPerMonth | number: "1.2-2" }}
                  </span>
                </td>
                <td class="bg-lightgray font-18 font700"></td>
                <td class="bg-lightgray font-18 font700"></td>
                <td class="bg-lightgray font-18 font700"></td>
                <td class="bg-lightgray font-18 font700"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <hr />
  </div>

  <div class="row mt-15" *ngIf="transactionDetail?.length">
    <div class="col-12">
      <div class="table-responsive Custom_Table">
        <!-- <table class="table table-striped table-hover table-bordered m-b-0" *ngIf="previousEmployeeList?.length"> -->
        <table class="table table-striped table-hover table-bordered m-b-0">
          <tbody>
            <tr>
              <td class="bg-gray font-18 font700 wd-16">Grand Total</td>
              <!-- <td class="bg-gray font-18 font700 align-right wd-4"></td> -->
              <td class="bg-gray font-18 font700 align-right wd-9"></td>
              <td class="bg-gray font-18 font700 align-right wd-9">
                <span class="padding-right-12" placement="left" tooltip="{{ grandDeclarationTotal | number: '1.2-2' }}">
                  {{ grandDeclarationTotal | number: "1.2-2" }}
                </span>
              </td>
              <td class="bg-gray font-18 font700 align-right wd-10"></td>
              <td class="bg-gray font-18 font700 align-right wd-9">
                <span class="padding-right-12" placement="left" tooltip="{{ grandActualTotal | number: '1.2-2' }}">
                  {{ grandActualTotal | number: "1.2-2" }}
                </span>
              </td>
              <td class="bg-gray font-18 font700 align-right wd-9">
                <span class="padding-right-12" placement="left" tooltip=" {{ grandRejectedTotal | number: '1.2-2' }}">
                  {{ grandRejectedTotal | number: "1.2-2" }}
                </span>
              </td>
              <td class="bg-gray font-18 font700 align-right wd-9">
                <span class="padding-right-12" placement="left" tooltip="{{ grandApprovedTotal | number: '1.2-2' }}">
                  {{ grandApprovedTotal | number: "1.2-2" }}
                </span>
              </td>
              <td class="bg-gray font-18 font700 wd-7"></td>
              <td class="bg-gray font-18 font700 wd-7"></td>
              <td class="bg-gray font-18 font700 wd-8"></td>
              <td class="bg-gray font-18 font700 wd-9"></td>
            </tr>
          </tbody>
        </table>
        <!--   <table class="table table-striped table-hover table-bordered m-b-0" >
          <tbody>
            <tr>
              <td class="bg-gray font-18 font700 wd-8">Grand Total</td>
              <td class="bg-gray font-18 font700 align-right wd-4"></td>
              <td class="bg-gray font-18 font700 align-right wd-11"></td>
              <td class="bg-gray font-18 font700 align-right wd-9">
                <span class="padding-right-12" placement="left" tooltip="{{ grandDeclarationTotal | number: '1.2-2' }}">
                  {{ grandDeclarationTotal | number: "1.2-2" }}
                </span>
              </td>
              <td class="bg-gray font-18 font700 align-right wd-11"></td>
              <td class="bg-gray font-18 font700 align-right wd_9">
                <span class="padding-right-12" placement="left" tooltip="{{ grandActualTotal | number: '1.2-2' }}">
                  {{ grandActualTotal | number: "1.2-2" }}
                </span>
              </td>
              <td class="bg-gray font-18 font700 align-right wd_8">
                <span class="padding-right-12" placement="left" tooltip=" {{ grandRejectedTotal | number: '1.2-2' }}">
                  {{ grandRejectedTotal | number: "1.2-2" }}
                </span>
              </td>
              <td class="bg-gray font-18 font700 align-right wd_8">
                <span class="padding-right-12" placement="left" tooltip="{{ grandApprovedTotal | number: '1.2-2' }}">
                  {{ grandApprovedTotal | number: "1.2-2" }}
                </span>
              </td>
              <td class="bg-gray font-18 font700 wd-10"></td>
              <td class="bg-gray font-18 font700 wd-10"></td>
              <td class="bg-gray font-18 font700 wd-15"></td>
            </tr>
          </tbody>
        </table> -->
      </div>
    </div>
  </div>

  <div class="row mt-30">
    <div class="col-12">
      <div class="card">
        <div class="mb-10 row">
          <div class="col-md-6">
            <h3 class="font-14 text-purple font-bold">Upload Documents</h3>
          </div>
          <div class="col-md-6">
            <span class="font-bold text-link float-right"></span>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="table-responsive Custom_Table">
              <table class="table table-striped table-hover table-bordered m-b-0">
                <thead class="thead-dark">
                  <tr>
                    <th scope="col" class="font700 wd-8">Sr No.</th>
                    <th scope="col" class="font700 wd-40">Document Name</th>
                    <th scope="col" class="font700 wd-20">Attachment</th>
                    <th scope="col" class="font700 wd-16"> Total Selected Amount
                    </th>
                    <th scope="col" class="font700 wd-16">Receipt Amount</th>
                    <th scope="col" class="font700 wd-12">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th scope="row"><span tooltip="1">1</span></th>
                    <td>
                      <span tooltip="Premium Receipt/ Premium Statement"></span>Rent Receipt / Bank Statement
                    </td>
                    <td>
                      <span *ngFor="let item of rentReciept; let j = index" class="text-orange"
                        tooltip="{{ item.name }}">
                        <i class="fa fa-paperclip" aria-hidden="true"></i>&nbsp;
                        {{ item.name }},
                      </span>
                    </td>
                    <td>
                      <span>
                        <input type="text" class="form-control align-right" [(ngModel)]="globalSelectedAmount"
                          [disabled]="true" />
                      </span>
                    </td>
                    <td>
                      <span>
                        <input type="text" class="form-control align-right" (change)="changeReceiptAmountFormat()"
                          [(ngModel)]="receiptAmount" />
                      </span>
                    </td>
                    <td>
                      <i class="fa fa-upload font-16 text-blue cursor-pointer" tooltip="Upload" (click)="
                           !enableFileUpload
                             ? sweetalertWarning(
                                 'Please select transaction to Upload Document')
                             : UploadModal(template4)
                         "></i>&nbsp;&nbsp;
                      <!-- <i class="fa fa-times font-16 text-red cursor-pointer" tooltip="Cancel" (click)="removeDocument()"></i> -->
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row mt-10" *ngIf="transactionDetail?.length && !isDisabled && canEdit">
    <div class="col-12">
      <div class="float-right mb-15">
        <button type="button" (click)="
             receiptAmount < globalSelectedAmount
               ? sweetalertError('Receipt Amount should be equal or greater than Actual Amount of Selected lines')
               : upload()" class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple">
          <b><i class="fa fa-floppy-o"></i></b> Save
        </button>
      </div>
    </div>
  </div>
  <div class="row mt-30">
    <div class="col-12">
      <div class="card">
        <div class="mb-0">
          <h3 class="font-14 text-purple font-bold">Summary - PS. ID.</h3>
        </div>
        <div class="">
          <div class="table-responsive Custom_Table">
            <table class="table table-striped table-hover table-bordered m-b-0">
              <thead class="thead-dark">
                <tr>
                  <th scope="col" class="font700 wd-15">PS. ID.</th>
                  <th scope="col" class="font700 wd-20">House Name</th>
                  <th scope="col" class="font700 wd-15">Date of Submission</th>
                  <!-- <th scope="col" class="font700 wd-10">Receipt Amount</th> -->
                  <th scope="col" class="font700 wd-10">Actual Amount</th>
                  <th scope="col" class="font700 wd-10">Rejected Amount</th>
                  <th scope="col" class="font700 wd-10">Approved  Amount</th>
                  <th scope="col" class="font700 wd-10">No. Of Document</th>
                  <th scope="col" class="font700 wd-15">PS. ID. Status</th>
                  <th scope="col" class="font700 wd-10">Action</th>
                </tr>
              </thead>
              <tbody>
                <!-- <ng-container *ngFor="
             let documentSummary of documentDetailList;
             let documentIndex = index
           "> -->
                <tr *ngFor="
                     let documentSummary of documentDetailList;
                     let documentIndex = index
                   ">
                  <td>
                    <span tooltip="{{ documentSummary.proofSubmissionId }}">
                      {{ documentSummary.proofSubmissionId }}
                    </span>
                  </td>
                  <td>

                    <span tooltip="{{ documentSummary.particular }}">
                      {{ documentSummary.particular }}
                    </span>
                    <!--  {{ documentSummary.licMasterList[0].institution }} -->
                  </td>
                  <td>
                    <span tooltip="{{
                         documentSummary.dateOfSubmission | date: 'dd-MMM-yyyy'
                       }}">
                      {{
                      documentSummary.dateOfSubmission | date: "dd-MMM-yyyy"
                      }}</span>
                  </td>
                  <!-- <td>
                    <span tooltip="{{
                         documentSummary.receiptAmount | number: '1.2-2'
                       }}">
                      {{ documentSummary.receiptAmount | number: "1.2-2" }}
                    </span>
                  </td> -->
                  <td>
                    <span tooltip="{{
                         documentSummary.actualAmount | number: '1.2-2'
                       }}">
                      {{
                      documentSummary.actualAmount | number: '1.2-2'
                      }}</span>
                  </td>
                  <td>
                    <span tooltip="{{
                         documentSummary.amountRejected | number: '1.2-2'
                       }}">
                      {{
                      documentSummary.amountRejected | number: '1.2-2'
                      }}</span>
                  </td>
                  <td>
                    <span tooltip="{{
                         documentSummary.amountApproved | number: '1.2-2'
                       }}">
                      {{
                      documentSummary.amountApproved | number: '1.2-2'
                      }}</span>
                  </td>
                  <!-- <td>
                     <span
                       tooltip="{{
                         documentSummary.receiptAmount | number: '1.2-2'
                       }}"
                     >
                       {{ documentSummary.receiptAmount | number: "1.2-2" }}
                     </span>
                   </td> -->
                 <!--  <td>
                    <div class="custom_Label_badge">
                      <button class="btn bg-color-lightgray text-000" (click)="
                           UploadedDocumentModal1(template1, documentIndex)
                         ">
                        Documents
                      </button>
                      <span class="Label_badge">{{
                        documentSummary.documentDetailList.length
                        }}</span>
                    </div>
                  </td> -->                  
                  <td>
                    <div class="custom_Label_badge" style="top: -8px;">
                      <a  class="changeColor"
                      (click)="docViewer(template3, documentSummary.documentDetailList)">
                      <span class="Label_badge">{{
                        documentSummary.documentDetailList.length
                        }}</span>
                      </a>
                    </div>
                  </td>
                  <td class="wd-6 align-center font-700" >
                    <span class="badge" [ngClass]="{'badge-primary': documentSummary.documentDetailList[0].status=='Re-Open',
                    ' badge-success': documentSummary.documentDetailList[0].status=='Approved',
                    'badge-danger': documentSummary.documentDetailList[0].status=='SendBack',
                    'badge-info': documentSummary.documentDetailList[0].status=='Submitted',
                    'badge-warning': documentSummary.documentDetailList[0].status=='Pending'}" tooltip="{{documentSummary.documentDetailList[0].status}}">
                      {{documentSummary.documentDetailList[0].status}}
                      </span>
                </td>
                  <!-- <td>
                    <span tooltip="{{
                         documentSummary.documentDetailList[0].status
                       }}">
                      {{
                        documentSummary.documentDetailList[0].status
                      }}</span>
                  </td> -->
                  <td>
                    <i *ngIf="canEdit"
                    class="fa fa-eye font-16 text-blue cursor-pointer"
                    (click)="
                    declarationEditUpload(
                        template2,
                        documentSummary.proofSubmissionId
                      );
                      viewDocumentDetail = false
                    "
                    tooltip="View"
                  ></i>
                   <!--  <i class="fa fa-eye font-16 text-blue cursor-pointer" tooltip="View"></i>&nbsp;&nbsp; -->
                    <!-- <i class="fa fa-download font-16 text-blue cursor-pointer" tooltip="Download"></i> -->
                    <div *ngFor="let doc of urlArray" hidden>
                      <iframe style="height: 100vh; width: 100%; display: block" [src]="doc.blobURI"
                        provider="google"></iframe>
                    </div>
                    &nbsp;&nbsp;
                    <i *ngIf="canEdit" class="fa fa-edit font-16 text-dark-green cursor-pointer" (click)="
                         declarationEditUpload(
                           template2,
                           documentSummary.proofSubmissionId
                         );
                         viewDocumentDetail = true
                       " tooltip="Edit"></i>
                  </td>
                </tr>
                <!-- <tr *ngFor="let policyNo of documentSummary.licMasterList">
               <td>{{ policyNo.policyNo }}</td>
               <td>{{ documentSummary.receiptAmount | number: "1.2-2" }}</td>
             </tr> -->
                <!-- </ng-container> -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- <ng-template #template1>
    <div class="modal-header">
        <h5 class="modal-title" id="UploadedDocumentModalLabel">
            Uploaded Document Details
        </h5>
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
    </div>
    <div class="modal-body">
        <div class="card">
            <div class="card-body pb-0 mt-0 mb-0">
                <div class="row clearfix" *ngFor="let proofSubmissionFile of proofSubmissionFileList">
                    <div class="col-md-11">
                        <div class="labelbox" tooltip="Document">
                            <i class="fa fa-paperclip text-orange"></i> &nbsp; {{ proofSubmissionFile.fileName }}
                        </div>
                    </div>
                    <div class="col-md-1">
                        <i class="fa fa-eye font-16 text-blue font-900 mt-2" tooltip="View Document"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">
      Ok
    </button>
    </div>
</ng-template> -->

<ng-template #template1>
  <div class="modal-header">
    <h5 class="modal-title" id="jasdjgh">View Documents</h5>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <!-- <button (click)="previousDocViewer()" [disabled]="urlIndex == 0">previous</button>
<button (click)="nextDocViewer()" [disabled]="urlIndex == (urlArray.length-1)">next</button> -->
  <div class="card-body">
    <div class="row">
      <div class="col-md-1">
        <button type="button" class="btn active Next_Previous_Btn" tooltip="Previous Document"
          (click)="previousDocViewer()" [disabled]="urlIndex == 0">
          <i class="fa fa-angle-left text-white font-30 p-10"></i>
        </button>
      </div>
      <div class="col-md-10">
        <iframe style="height: 100vh; width: 100%; display: block" [src]="urlSafe" provider="google"></iframe>
      </div>
      <div class="col-md-1">
        <button type="button" class="btn active Next_Previous_Btn" tooltip="Next Document" (click)="nextDocViewer()"
          [disabled]="urlIndex == urlArray.length - 1">
          <i class="fa fa-angle-right text-white font-30 p-10"></i>
        </button>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <!-- <button type="button" class="btn btn-primary">Save</button>  -->
    <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">
      Ok
    </button>
  </div>
</ng-template>


<ng-template #template2>
  <!-- <div class="modal-header">
    <h5 class="modal-title" id="jasdjgh" *ngIf="viewDocumentDetail">
      Edit Document Details
    </h5>
    <h5 class="modal-title" id="jasdjgh" *ngIf="!viewDocumentDetail">
      View Document Details
    </h5>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
  </div> -->
  <div class="modal-header">
    <h6 class="modal-title" style="margin: auto;"><b>PS.ID. : </b>
      <label>
        {{ editProofSubmissionId }}</label>
    </h6>
    <h6 class="modal-title" style="margin: auto;"><b>Creation Date : </b>
      <label>
        {{creationDate | date:'dd-MMM-yyyy' }}</label>
    </h6>
    <h6 class="modal-title" style="margin: auto;"><b>Last Modified Date & Time : </b>
      <label>
        {{lastModifiedTime | date: 'dd-MMM-yyyy HH:mm' }}</label>
    </h6>
    <h6 class="modal-title" style="margin: auto;"><b>Status : </b>
      <label>
        <span class="badge" [ngClass]="{'badge-primary': status=='Re-Open',
          ' badge-success': status=='Approved',
          'badge-danger': status=='SendBack',
          'badge-info': status=='Submitted',
          'badge-warning': status=='Pending'}" tooltip="{{status}}">
        {{ status }}</span></label>
    </h6>
    
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="card-body Box-Spacing">

    <div *ngFor="let item of editTransactionUpload; let j = index">
      <div class="row pt-10 mt-10 bg-color-light_gray d-flex">
        <div class="ml-2 pl-1 pr-0">
          <label class="form-label mt-1">House Name :</label>
        </div>
        <div class="ml-2 pl-1 pr-0 col-md-1">
          <label class="font-12 text-ellipsis mt-1" placement="top" [adaptivePosition]="false"
            tooltip="{{ item.propertyName }}">
            {{ item.propertyName }}
          </label>
        </div>
        <div class="ml-2 pl-1 pr-0">
          <label class="form-label mt-1 pl-10">House Address :</label>
        </div>
        <div class="ml-2 pl-1 pr-0 col-md-1">
          <label class="font-12 text-ellipsis mt-1" placement="top" [adaptivePosition]="false"
            tooltip="{{ item.address }}">
            {{ item.address }}
          </label>
        </div>
        <div class="ml-2 pl-1 pr-0">
          <label class="form-label mt-1">Landlord Name :</label>
        </div>
        <div class="ml-2 pl-1 pr-0 col-md-1">
          <label class="font-12 text-ellipsis mt-1" placement="top" [adaptivePosition]="false"
            tooltip="{{ item.landLordName }}">
            {{ item.landLordName }}
          </label>
        </div>

        <div class="ml-2 pl-1 pr-0">
          <label class="form-label mt-1 pl-10">Date Range : From </label>
        </div>
        <div class="ml-1 pl-1 pr-0 col-md-1">
          <label class="font-12 text-ellipsis mt-1" placement="top" [adaptivePosition]="false"
            tooltip="{{ item.fromDate }}">
            {{ item.fromDate | date: 'dd-MMM-yyyy'}}
          </label>
        </div>
        <div class="ml-2 pl-1 pr-0">
          <label class="form-label mt-1 pl-10">To</label>
        </div>
        <div class="ml-1 pl-1 pr-0 col-md-1">
          <label class="font-12 text-ellipsis mt-1" placement="top" [adaptivePosition]="false"
            tooltip="{{ item.toDate }}">
            {{ item.toDate | date: 'dd-MMM-yyyy'}}
          </label>
        </div>
        <!--   <div class="ml-2 pl-1 pr-0">
          <label class="form-label mt-1 pl-10">Date Range</label>
       </div>
       <div class="ml-1 pl-1 pr-0 col-md-3">
        <label
        class="font-12 text-ellipsis mt-1"
        placement="top"
        [adaptivePosition]="false"
        tooltip="{{ item.fromDate }}"
        >
          {{ item.fromDate }}
        </label>
        </div> -->
        <!-- <div class="ml-2 pl-1 pr-0">
          <label class="form-label mt-1 pl-10">To</label>
       </div> -->
        <!-- <div class="ml-1 pl-1 pr-0 col-md-1">
          <label class="font-12 text-ellipsis mt-1"placement="top">
          </label>
       </div> -->
      </div>
      <div class="row mt-15">
        <div class="col-12">
          <div class="table-responsive Custom_Table">
            <table class="table table-striped table-hover table-bordered m-b-0">
              <thead class="thead-dark">
                <tr>
                  <!-- <th rowspan="2" class="wd-4">
                    <label class="custom-control custom-checkbox checkbox-center" placement="bottom"  tooltip="Select All">
                      <input type="checkbox" class="custom-control-input" [ngModel]="isCheckAll" [disabled]="canEdit && isDisabled"
                        name="select" value="isCheckAll{{ j }}" (change)="checkUncheckAll(item, j)" />
                      <span class="custom-control-label"></span>
                    </label>
                  </th> -->
                  <th rowspan="2" class="wd-10 font700">
                    <span tooltip="From Date">From Date</span>
                  </th>
                  <th rowspan="2" class="wd-10 font700">
                    <span tooltip="To Date">To Date</span>
                  </th>
                  <!-- <th rowspan="2" class="wd-11 font700">Due Date</th> -->
                  <th rowspan="2" class="wd-9 font700"><span tooltip="Declared Amount">Declared Amount</span></th>
                  <th rowspan="2" class="wd-9 font700"><span tooltip="Date of Payment">Date of Payment</span></th>
                  <th rowspan="2" class="wd-9 font700"><span tooltip="Actual Amount">Actual Amount</span></th>
                  <th colspan="2" class="wd-17 font700"><span tooltip="Receipt Amount">Receipt Amount</span></th>
                  <th rowspan="2" class="wd-7 font700"><span tooltip="Remark">Remark</span></th>
                  <th rowspan="2" class="wd-6"><span tooltip="PS.ID.">PS.ID.</span></th>
                  <th rowspan="2" class="wd-7 font700"><span tooltip="Status">Status</span></th>
                </tr>
                <tr>
                  <th>Rejected</th>
                  <th>Approved</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="
                     let summary of item.houseRentalTransactionList;
                     let i = index;
                     count as c
                   ">
                  <!-- <td scope="row">
                    <label class="custom-control custom-checkbox checkbox-center" *ngIf="isDisabled"
                      tooltip="Select Property for prof submission">
                      <input type="checkbox" [ngModel]="enableSelectAll"
                        [disabled]="isDisabled || summary.proofSubmissionId" (change)="
                           onSelectCheckBox(summary, $event, i, j);
                           enableCheckboxFlag = j
                         " class="custom-control-input" value="option{{ summary.houseRentalTransactionDetailId }}" />
                      <span class="custom-control-label"></span>
                    </label>
                    <label *ngIf="!isDisabled" class="custom-control custom-checkbox checkbox-center">
                      <input type="checkbox" [ngModel]="enableSelectAll"
                        [disabled]="isDisabled || summary.proofSubmissionId" (change)="onSelectCheckBox(summary, $event, i, j);
                           enableCheckboxFlag = j
                         " class="custom-control-input" value="option{{ summary.houseRentalTransactionDetailId }}" />
                      <span class="custom-control-label"></span>
                    </label>
                  </td> -->
                  <td>
                    <!--  <span>{{ summary.isECS === 1 ? "Yes" : "No" }}</span> -->
                    <div class="custom_icon_badge" >
                      <!-- <input type="text" class="form-control" [minDate]="financialYearStartDate"
                        [maxDate]="financialYearEndDate" [ngModel]="summary.fromDate | date: 'dd-MMM-yyyy'" [disabled]="
                          initialArrayIndex[j] > i || summary.isECS === 1
                        " (ngModelChange)="
                          summary.fromDate = $event.toLocaleDateString();
                          onDueDateChange(summary, i, j)
                        " [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" data-provide="datepicker" bsDatepicker /> -->

                      <input type="text" [ngModel]="summary.fromDate | date: 'dd-MMM-yy'"
                        [minDate]="financialYearStartDate" [maxDate]="financialYearEndDate"
                        [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" data-provide="datepicker"
                        data-date-autoclose="true" (ngModelChange)=" summary.fromDate = $event.toLocaleDateString(); setFromDate(summary, i, j)
                         " [disabled]=" isDisabled || summary.transactionStatus === 'Submitted'
                         " class="form-control" bsDatepicker />
                      <!--   <input type="text" [ngModel]="summary.fromDate | date: 'dd-MMM-yyyy'"
                         [minDate]="financialYearStartDate" [maxDate]="financialYearEndDate"
                         [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" data-provide="datepicker"
                         data-date-autoclose="true"
                         (ngModelChange)="summary.fromDate = $event.toLocaleDateString(); setFromDate(summary, i, j)"
                         [disabled]="
                             isDisabled || summary.transactionStatus === ' Submitted'" class="form-control"
                         bsDatepicker /> -->
                    </div>
                  </td>
                  <td>
                    <div class="custom_icon_badge">
                      <!-- <input type="text" class="form-control" [minDate]="financialYearStartDate"
                        [maxDate]="financialYearEndDate" [ngModel]="summary.toDate | date: 'dd-MMM-yyyy'" [disabled]="
                           initialArrayIndex[j] > i || summary.isECS === 1
                         " (ngModelChange)="
                           summary.toDate = $event.toLocaleDateString();
                           onDueDateChange(summary, i, j)
                         " [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" data-provide="datepicker" bsDatepicker /> -->

                      <!-- <input type="text" [ngModel]="summary.toDate | date: 'dd-MMM-yyyy'"
                        [minDate]="financialYearStartDate" [maxDate]="financialYearEndDate"
                        [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" data-provide="datepicker"
                        data-date-autoclose="true"
                        (ngModelChange)="summary.toDate = $event.toLocaleDateString(); setToDate(summary, i, j)"
                        [disabled]="
                            isDisabled || summary.transactionStatus === ' Submitted'" class="form-control"
                        bsDatepicker /> -->
                      <input type="text" [ngModel]="summary.toDate | date: 'dd-MMM-yy'"
                        [minDate]="financialYearStartDate" [maxDate]="financialYearEndDate"
                        [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" data-provide="datepicker"
                        data-date-autoclose="true" (ngModelChange)=" summary.toDate = $event.toLocaleDateString(); setToDate(summary, i, j)
                         " [disabled]=" isDisabled || summary.transactionStatus === 'Submitted'
                         " class="form-control" bsDatepicker />

                    </div>
                  </td>
                  <td>
                    <div class="custom_icon_badge">
                      <input type="text" id="declaredAmountPerMonth{{ summary.houseRentalTransactionDetailId }}"
                        name="declaredAmountPerMonth{{ summary.houseRentalTransactionDetailId }}"
                        [(ngModel)]="summary.declaredAmountPerMonth" class="form-control align-right"
                        (change)="onDeclaredAmountChange(summary, i, j)" [disabled]="isDisabled || initialArrayIndex[j] > i" />
                    </div>
                  </td>
                  <td>                   
                      <!-- <input
                        type="text"
                        [ngModel]="summary.dateOfPayment | date: 'dd-MMM-yy'"                       
                        [minDate]="financialYearStartDate" [maxDate]="financialYearEndDate"
                        [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"
                        data-provide="datepicker"
                        data-date-autoclose="true"
                        (ngModelChange)="summary.paymentDate = $event.toLocaleDateString();
                          setDateOfPaymentInEditCase(summary, i, j)"
                        [disabled]="summary.transactionStatus=='Approved' || !viewDocumentDetail"
                        class="form-control"
                        bsDatepicker
                      />                    -->
                     <input type="text" [ngModel]="summary.paymentDate | date: 'dd-MMM-yyyy'"
                      [minDate]="financialYearStartDate" [maxDate]="financialYearEndDate"
                      [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" data-provide="datepicker"
                      data-date-autoclose="true"
                      (ngModelChange)=" summary.paymentDate = $event.toLocaleDateString(); setDateOfPayment(summary, i, j)"
                      [disabled]=" summary.transactionStatus === 'Approved' || (!viewDocumentDetail)
                       " class="form-control" bsDatepicker />
                <!--     <div class="custom_icon_badge">
                      <input type="text" [ngModel]="summary.paymentDate | date: 'dd-MMM-yyyy'"
                        [minDate]="financialYearStartDate" [maxDate]="financialYearEndDate"
                        [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" data-provide="datepicker"
                        data-date-autoclose="true" (ngModelChange)="summary.paymentDate = $event.toLocaleDateString();
                         setDateOfPaymentInEditCase(summary, i, j)" [disabled]="summary.transactionStatus=='Approved'"
                        class="form-control" bsDatepicker />
                    </div> -->
                  </td>
                  <td>
                    <input type="text" id="actualAmountPerMonth{{ summary.houseRentalTransactionDetailId }}"
                      name="actualAmountPerMonth{{ summary.houseRentalTransactionDetailId }}"
                      [disabled]="isDisabled || initialArrayIndex[j] > i" [(ngModel)]="summary.actualAmountPerMonth"
                      (change)="onActualAmountChange(summary, i, j)" class="form-control align-right" />
                  </td>
                  <td>
                    <input type="text" [ngModel]="summary.rejectedAmountPerMonth | number: '1.2-2'"
                      class="form-control align-right" disabled />
                  </td>
                  <td>
                    <input type="text" [ngModel]="summary.approvedAmountPerMonth | number: '1.2-2'"
                      class="form-control align-right" disabled />
                  </td>
                  <td>
                    <div class="align-center">
                      <div
                        _ngcontent-ykc-c443=""
                        class="
                          custom_Label_badge
                          mr-2
                          ml-2
                        " >
                        <b>
                          <i
                            (click)="
                              docRemarkModal(
                                template8,
                                documentDetailIndex,
                                summary?.houseRentalTransactionDetailId,
                                summary, i
                              )
                            "
                            class="
                              fa fa-commenting
                              text-dark-green
                              fa-2x
                              cursor-pointer
                            "
                          >
                          </i
                        ></b>
                        <span
                          _ngcontent-ykc-c443=""
                          class="Label_badge"
                          >{{
                            summary.bubbleRemarkCount
                          }}</span
                        >
                      </div>
                    </div>
                  </td>
                  <!-- <td>
                    <span tooltip="{{ summary.remark }}">
                      {{ summary.remark }}
                    </span>
                  </td> -->
                  <td>
                    <span tooltip="{{ summary.proofSubmissionId }}" *ngIf="summary.transactionStatus === 'Submitted'">
                      <i class="fa fa-clipboard font-16 text-cyan" aria-hidden="true"></i>
                      <!-- {{ summary.proofSubmissionId }} -->
                    </span>
                    <!-- <span tooltip="{{ summary.proofSubmissionId }}">
                      {{ summary.proofSubmissionId }}
                    </span> -->
                  </td>
                  <td class="wd-6"><span class="badge" [ngClass]="{'badge-primary': summary.transactionStatus=='Re-Open',
                    ' badge-success': summary.transactionStatus=='Approved',
                    'badge-danger': summary.transactionStatus=='SendBack',
                    'badge-info': summary.transactionStatus=='Submitted',
                    'badge-warning': summary.transactionStatus=='Pending'}" tooltip={{summary.transactionStatus}}>{{summary.transactionStatus}}</span>
                 </td>
                </tr>

                <!-- <tr *ngIf="!isDisabled && canEdit">
                  <td colspan="12" class="align-right font700 font-16 text-light-green cursor-pointer">
                    <i class="fa fa-plus-circle font-20" tooltip="Add"
                      (click)="addRowInList(declarationService, j)"></i>
                    <span tooltip="Add Row">Add</span>&nbsp;&nbsp;
                    <i class="fa fa-times font-16 text-red cursor-pointer" *ngIf="hideRemoveRow" tooltip="Cancel"
                      (click)="deleteRow(j)"></i>
                  </td>
                </tr> -->
                <tr>
                  <td colspan="1" class="bg-lightgray font-18 font700">Total</td>
                  <!--  <td *ngIf="previousEmployeeList?.length" class="bg-lightgray font-18 font700 align-right"></td> -->
                  <td class="bg-lightgray font-18 font700 align-right"></td>
                  <td class="bg-lightgray font-18 font700 align-right">
                    <span tooltip=" {{ item.declarationTotal | number: '1.2-2' }}" class="padding-right-12">
                      {{ item.declarationTotal | number: "1.2-2" }}
                    </span>
                  </td>
                  <td class="bg-lightgray font-18 font700 align-right"></td>
                  <td class="bg-lightgray font-18 font700 align-right">
                    <span tooltip="{{ item.actualTotal | number: '1.2-2' }}" class="padding-right-12">
                      {{ item.actualTotal | number: "1.2-2" }}
                    </span>
                  </td>
                  <td class="bg-lightgray font-18 font700 align-right"></td>
                  <td class="bg-lightgray font-18 font700 align-right">
                    <span tooltip=" {{ item.rejectedAmountPerMonth | number: '1.2-2' }}" class="padding-right-12">
                      {{ item.rejectedAmountPerMonth | number: "1.2-2" }}
                    </span>
                  </td>
                  <td class="bg-lightgray font-18 font700 align-right">
                    <span tooltip="{{ item.approvedAmountPerMonth | number: '1.2-2' }}" class="padding-right-12">
                      {{ item.approvedAmountPerMonth | number: "1.2-2" }}
                    </span>
                  </td>
                  <td class="bg-lightgray font-18 font700"></td>
                  <td class="bg-lightgray font-18 font700"></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- <div class="row mt-15" *ngIf="transactionDetail?.length">
      <div class="col-12">
        <div class="table-responsive Custom_Table">
          <table class="table table-striped table-hover table-bordered m-b-0">
            <tbody>
              <tr>
                <td class="bg-gray font-18 font700 wd-11">Grand Total</td>
                <td class="bg-gray font-18 font700 align-right wd-8"></td>
                <td class="bg-gray font-18 font700 align-right wd-9">
                  <span class="padding-right-12" placement="left" tooltip="{{
                    grandDeclarationTotal | number: '1.2-2'
                     }}">
                    {{ grandDeclarationTotal | number: "1.2-2" }}
                  </span>
                </td>
                <td class="bg-gray font-18 font700 align-right wd-11"></td>
                <td class="bg-gray font-18 font700 align-right wd-9">
                  <span class="padding-right-12" placement="left" tooltip="{{ grandActualTotal | number: '1.2-2' }}">
                    {{ grandActualTotal | number: "1.2-2" }}
                  </span>
                </td>
                <td class="bg-gray font-18 font700 align-right wd-9">
                  <span class="padding-right-12" placement="left" tooltip=" {{
                    grandRejectedTotal | number: '1.2-2'
                     }}">
                    {{ grandRejectedTotal | number: "1.2-2" }}
                  </span>
                </td>
                <td class="bg-gray font-18 font700 align-right wd-9">
                  <span class="padding-right-12" placement="left" tooltip="{{
                    grandApprovedTotal | number: '1.2-2'
                     }}">
                    {{ grandApprovedTotal | number: "1.2-2" }}
                  </span>
                </td>
                <td class="bg-gray font-18 font700 wd-7"></td>
                <td class="bg-gray font-18 font700 wd-7"></td>
                <td class="bg-gray font-18 font700 wd-10"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div> -->
    <br><br>
    <div class="row" *ngIf="viewDocumentDetail">
      <div class="col-12">
        <h3 class="font-14 text-purple font-bold" id="UploadModalLabel">
          Upload Documents
        </h3>
      </div>
    </div>
    <div class="row clearfix mt-10" *ngIf="viewDocumentDetail">
      <div class="col-md-12">
        <div class="row clearfix">
          <div class="col-md-3">
            <div class="fileuploadbox bg-color-lightgray">
              <label class="filelabel">
                <i class="fa fa-upload"> </i>
                <span class="title"> Choose file </span>
                <input class="FileUpload1" class="dropify" (change)="onUploadInEditCase($event)"
                  accept=".jpg , .jpeg, .pdf , .png" id="FileInput" type="file" multiple />
              </label>
            </div>

            <div *ngIf="editrentRecieptArray.length > 0" class="fileuploadbox">
              <span class="text-purple font-14 font700">Selected Files</span>
              <label *ngFor="let item of editrentRecieptArray; let index = index" class="filelabeldisplay">
                <div class="text-ellipsis">
                  <i class="fa fa-paperclip"> </i>
                  <span class="title" tooltip="{{ item.name }}">
                    {{ item.name }}
                  </span>
                </div>
                <div>
                  <i class="fa fa-times text-red font-18"
                    (click)="removeSelectedLicTransactionDocumentInEditCase(index)"></i>
                </div>
              </label>
            </div>
          </div>
          <!-- <div class="col-md-12 mt-6">
            <label class="form-label">Remark</label>
          </div>
          <div class="col-md-6">
            <textarea class="form-control" [(ngModel)]="documentRemark" rows="2"></textarea>
          </div> -->
        </div>
      </div>
    </div>

    <!-- Document Details  -->
    <!-- <div class="row mt-20">
      <div class="col-12">
        <h3 class="font-14 text-purple font-bold" id="UploadModalLabel">
          Uploaded Documents
        </h3>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="row clearfix mt-10">
          <div class="col-md-12" *ngFor="let doc of urlArray">
            <div class="labelbox" placement="left" tooltip="{{ doc.fileName }}">
              <i class="fa fa-paperclip text-orange"></i> &nbsp; {{ doc.fileName }}
            </div>
          </div>
        </div>
      </div>
    </div> -->

    <!--  -->
    <hr>
    <hr>

    <div class="row">
      <div class="col-md-12">
        <div class="row">
          <div class="col-md-12">
            <div class="border-box">
              <div class="row mt-30">
                <div class="col-12">
                  <div class="card">
                    <div class="col-md-12">
                      <h3 class="font-14 text-purple font-bold">
                        Document Summary
                      </h3>
                    </div>
                    <div class="col-9 col-md-10 col-sm-12">
                      <div
                        class="table-responsive Custom_Table"
                      >
                        <p-table
                          *ngIf="documentArray"
                          #dt2
                          [value]="documentArray"
                          [paginator]="true"
                          [rows]="10"
                          [showCurrentPageReport]="true"
                          (sortFunction)="customSort($event)"
                          [customSort]="true"
                          currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                          [rowsPerPageOptions]="[10, 25, 50]"
                          [globalFilterFields]="[
                        'empcode',
                        'empName',
                        'Group',
                        'Frequency',
                        'Type',
                        'proofsubmission',
                        'PSIdDetails',
                        'SubmissionDate',
                        'Status'
                      ]"
                        >
                          <ng-template pTemplate="header">
                            <tr>
                              <th>
                                <div
                                  class="
                                p-d-flex
                                p-jc-between
                                p-ai-center
                              "
                                >
                                  <!-- Time -->
                                  Document Submission Date & Time
                                  <div
                                    class="Sort_Filter_Position"
                                  >
                                    <p-sortIcon
                                      field="empcode"
                                      pSortableColumn="empcode"
                                    ></p-sortIcon>
                                    <p-columnFilter
                                      field="empcode"
                                      display="menu"
                                      class="p-ml-auto"
                                    >
                                    </p-columnFilter>
                                  </div>
                                </div>
                              </th>
                              <th>
                                <div
                                  class="
                                p-d-flex
                                p-jc-between
                                p-ai-center
                              "
                                >
                                  Document Type
                                  <div
                                    class="Sort_Filter_Position"
                                  >
                                    <p-sortIcon
                                      field="documentType"
                                      pSortableColumn="documentType"
                                    ></p-sortIcon>
                                    <p-columnFilter
                                      field="documentType"
                                      display="menu"
                                      class="p-ml-auto"
                                    >
                                    </p-columnFilter>
                                  </div>
                                </div>
                              </th>
                              <th>
                                <div
                                  class="
                                p-d-flex
                                p-jc-between
                                p-ai-center
                              "
                                >
                                  Document Name
                                  <div
                                    class="Sort_Filter_Position"
                                  >
                                    <p-sortIcon
                                      field="documentName"
                                      pSortableColumn="documentName"
                                    ></p-sortIcon>
                                    <p-columnFilter
                                      field="documentName"
                                      display="menu"
                                      class="p-ml-auto"
                                    >
                                    </p-columnFilter>
                                  </div>
                                </div>
                              </th>
                              <th>
                                <div
                                  class="
                                p-d-flex
                                p-jc-between
                                p-ai-center
                              "
                                >
                                  Password
                                  <div
                                    class="Sort_Filter_Position"
                                  >
                                    <p-sortIcon
                                      field="empcode"
                                      pSortableColumn="empcode"
                                    ></p-sortIcon>
                                    <p-columnFilter
                                      field="empcode"
                                      display="menu"
                                      class="p-ml-auto"
                                    >
                                    </p-columnFilter>
                                  </div>
                                </div>
                              </th>
                              <th>
                                <div
                                  class="
                                p-d-flex
                                p-jc-between
                                p-ai-center
                              "
                                >
                                  Remark
                                  <div
                                    class="Sort_Filter_Position"
                                  >
                                    <p-sortIcon
                                      field="empcode"
                                      pSortableColumn="empcode"
                                    ></p-sortIcon>
                                    <p-columnFilter
                                      field="empcode"
                                      display="menu"
                                      class="p-ml-auto"
                                    >
                                    </p-columnFilter>
                                  </div>
                                </div>
                              </th>
                              <th>
                                <div
                                  class="
                                p-d-flex
                                p-jc-between
                                p-ai-center
                              "
                                >
                                  Status
                                  <div
                                    class="Sort_Filter_Position"
                                  >
                                    <p-sortIcon
                                      field="empcode"
                                      pSortableColumn="empcode"
                                    ></p-sortIcon>
                                    <p-columnFilter
                                      field="empcode"
                                      display="menu"
                                      class="p-ml-auto"
                                    >
                                    </p-columnFilter>
                                  </div>
                                </div>
                              </th>
                            </tr>
                          </ng-template>
                          <ng-template
                            pTemplate="body"
                            let-document
                            let-documentIndex = "rowIndex"
                          >
                            <tr class="p-selectable-row">
                              <td>{{ document.lastModifiedTime| date: 'dd-MMM-yyyy HH:mm'}}</td>
                              <td>{{ document.documentType }}</td>
                              <td>
                                <a
                                  (click)=" docViewer(template3,documentArray)"

                                >
                                  <i
                                    class="
                                  fa fa-paperclip
                                  text-orange
                                "
                                  ></i>
                                  &nbsp;
                                  {{ document.fileName }}
                                </a>
                                    <!--  -->
                                    <!-- <a  class="changeColor"
                                    (click)="docViewer(template3, documentSummary.documentDetailList)">
                                    <span class="Label_badge">{{
                                      documentSummary.documentDetailList.length
                                      }}</span>
                                    </a> -->
                                    <!--  -->
                              </td>
                              <td>{{ document.password }}</td>
                              <td>
                                {{document.remark}}
                              </td>
                              <td class="wd-6"><span class="badge" [ngClass]="{'badge-primary': document.status=='Re-Open',
                                ' badge-success': document.status=='Approved',
                                'badge-danger': document.status=='SendBack',
                                'badge-info': document.status=='Submitted',
                                'badge-warning': document.status=='Pending'}">{{ document.status }}</span></td>
                            </tr>
                          </ng-template>
                        </p-table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--  -->
  </div>
<!--   <div class="modal-footer">
    <button type="button" tooltip="View Document" (click)="modalRef.hide(); docViewer(template1)"
      class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left">
      <b><i class="fa fa-eye"></i></b> View
    </button> &nbsp;&nbsp;
    <button *ngIf="viewDocumentDetail" type="button" tooltip="View Document"
      (click)="modalRef.hide(); uploadUpdateTransaction()"
      class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left">
      <b><i class="fa fa-save"></i></b> Save
    </button>
  </div> -->

  <div class="modal-footer">
    <!-- <button
      type="button"
      tooltip="Cancel"
      (click)="modalRef.hide()"
      class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left"
    >
      <b><i class="fa fa-eye"></i></b> Cancel
    </button> -->
    <button
    type="button"
    tooltip="Close"
    (click)="modalRef.hide()"
    class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left"
  >
  <b><i class="fa fa-times"></i></b> Close
  </button>
    &nbsp;&nbsp;
    <button
      *ngIf="viewDocumentDetail"
      type="button"
      tooltip="Save"
      (click)="modalRef.hide(); uploadUpdateTransaction()"
      class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left">
      <b><i class="fa fa-save"></i></b> Save
    </button>
  </div>

</ng-template>


<ng-template #template3>
  <div class="modal-header">
    <!-- <h5 class="modal-title" id="jasdjgh">Document Viewer</h5> -->
    <div class="row">
      <div class="col-sm-6 col-md-6 align-right">
          <label class="form-label">Document Name</label>
           {{this.viewDocumentName}}
      </div>
      <div class="col-sm-6 col-md-6 align-right">
          <label class="form-label">Document Type</label>
          
          {{this.viewDocumentType}}
      </div>
    
      </div>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <!-- <button (click)="previousDocViewer()" [disabled]="urlIndex == 0">previous</button>
 <button (click)="nextDocViewer()" [disabled]="urlIndex == (urlArray.length-1)">next</button> -->
  <div class="card-body">
    <div class="row">
      <div class="col-md-1">
        <button type="button" class="btn active Next_Previous_Btn" tooltip="Previous Document"
          (click)="previousDocViewer()" [disabled]="urlIndex == 0">
          <i class="fa fa-angle-left text-white font-30 p-10"></i>
        </button>
      </div>
      <div class="col-md-10">
        <iframe style="height: 100vh; width: 100%; display: block" [src]="urlSafe" provider="google"></iframe>
      </div>
      <div class="col-md-1">
        <button type="button" class="btn active Next_Previous_Btn" tooltip="Next Document" (click)="nextDocViewer()"
          [disabled]="urlIndex == urlArray.length - 1">
          <i class="fa fa-angle-right text-white font-30 p-10"></i>
        </button>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <!-- <button type="button" class="btn btn-primary">Save</button>  -->
    <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">
      Ok
    </button>
  </div>
</ng-template>

<ng-template #template5>
  <div class="modal-header">
    <h5 class="modal-title" id="UploadModalLabel">Upload Document</h5>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="card">
      <div class="card-body">
        <div class="row clearfix">
          <div class="col-md-12">
            <div class="fileuploadbox bg-color-lightgray">
              <label class="filelabel">
                <i class="fa fa-upload"> </i>
                <span class="title"> Choose file </span>
                <input class="FileUpload1" class="dropify" (change)="onUpload($event)"
                  accept=".jpg , .jpeg, .pdf , .png" id="FileInput" type="file" multiple />
              </label>
            </div>
            <div *ngIf="rentReciept.length > 0" class="fileuploadbox">
              <span class="text-purple font-14 font700">Selected Files</span>
              <label *ngFor="let item of rentReciept; let index = index" class="filelabeldisplay">
                <div class="text-ellipsis">
                  <i class="fa fa-paperclip"> </i>
                  <span class="title" tooltip="{{ item.name }}">
                    {{ item.name }}
                  </span>
                </div>
                <div>
                  <i class="fa fa-times text-red font-18" (click)="removeSelectedLicTransactionDocument(index)"></i>
                </div>
              </label>
            </div>
          </div>
          <div class="col-md-12 mt-10">
            <label class="form-label">Remark</label>
          </div>
          <div class="col-md-12">
            <textarea class="form-control" [(ngModel)]="documentRemark" rows="2"></textarea>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">
      Ok
    </button>
  </div>
</ng-template>

<!-- Start -->
<ng-template #template4>
  <div class="modal-header">
    <h5 class="modal-title" id="UploadModalLabel">Upload Document</h5>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
      aria-hidden="true">×</span></button>
  </div>
  <div class="modal-body">
    <div class="card">
      <div class="card-body">
        <div class="row clearfix">
          <!-- <div class="col-md-12">
         <label class="form-label">Upload File here :</label>
      </div> -->
          <div class="col-md-12">
            <div class="fileuploadbox bg-color-lightgray">
              <label class="filelabel">
                <i class="fa fa-upload">
                </i>
                <span class="title">
                    Choose file
                  </span>
                <input class="FileUpload1" class="dropify" (change)="onUpload($event);"
                       accept=".jpg , .jpeg, .pdf , .png" id="FileInput" type="file" multiple />
              </label>
            </div>
            <div *ngIf="rentReciept.length > 0 " class="fileuploadbox">
              <span class="text-purple font-14 font700">Selected Files</span>
              <label *ngFor="let item of rentReciept;let index = index;" class="filelabeldisplay">
                <div class="text-ellipsis"><i class="fa fa-paperclip">
                </i>
                  <span class="title" tooltip="{{item.name}}">
                      {{ item.name }}
                    </span>
                  <div>
                    <div style="float: left; width: 40%;">
                      <div class="col-md-8 mt-10">
                        <label class="form-label">Password</label>
                      </div>
                      <div class="col-md-12">
                        <input class="form-control" [(ngModel)]="documentPassword[index]" rows="1">
                      </div>

                    </div>
                    <div style="float: right; width: 40%; margin-right: 59px">
                      <div class="col-md-8 mt-10">
                        <label class="form-label">Remark</label>
                      </div>
                      <div class="col-md-12">
                        <!-- (focusout)="getSelectedRemark($event.target.value,index)" -->
                        <input class="form-control" [(ngModel)]="documentRemark[index] "  rows="1">
                      </div>
                    </div>
                  </div>
                </div>
                <div>
                  <i class="fa fa-times text-red font-18" (click)="removeSelectedLicTransactionDocument(index)"></i>
                </div>
              </label>


            </div>
          </div>
          <!-- <div class="col-md-12 mt-10">
              <label class="form-label">Remark</label>
          </div>
          <div class="col-md-12">
              <textarea class="form-control" [(ngModel)]="documentRemark" rows="2"></textarea>
          </div> -->
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">Ok</button>
  </div>
</ng-template>
<!-- End -->

<ng-template #template7>
  <div class="modal-header">
    <h5 class="modal-title" id="jasdjgh">Remark</h5>
    <button
      type="button"
      (click)="modalRef.hide()"
      class="close"
      data-dismiss="modal"
      aria-label="Close"
    >
      <span aria-hidden="true">×</span>
    </button>
  </div>

  <div class="card-body">
    <div *ngFor="let documentRemark of documentRemarkList">
      <div class="row">
        <div class="col-md-6">
          <span class="form-label"
            >{{ documentRemark?.role }}:
            <b class="text-gray">{{
              documentRemark?.remarkBy
            }}</b></span >
        </div>
        <div class="col-md-6">
          <div class="float-right">
            <span class="form-label">
              Date:
              <b class="text-gray">{{
                documentRemark?.remarkDate
                  | date: "dd-MMM-yyyy HH:mm"
              }}</b>
            </span>
          </div>
        </div>
      </div>
      <div class="row">
        <textarea class="form-control remarktext" disabled [ngClass]="{'admin-class':documentRemark.role=='Approval Admin'}">
        {{ documentRemark?.remark }}
        </textarea>
      </div>
    </div>
    <div class="row mt-25">
      <div class="col-md-12">
        <h6 class="modal-title" id="jasdjgh">Enter New Remark</h6>
        <textarea type="text" [(ngModel)]="enteredRemark"
        (change)= "
        onChangeDocumentRemark(
          this?.summaryDetails, this?.indexCount,
            $event
          )
        " class="form-control" placeholder="Remark"></textarea>
      </div>
    </div>
  </div>
<!-- 
  <div *ngIf="!this.summaryDetails?.proofSubmissionId" class="modal-footer">
    <button
      type="button"
      class="btn btn-secondary"
      (click)="modalRef.hide()"
    >
      Ok
    </button>
  </div> -->
  <div *ngIf="this.summaryDetails?.houseRentalRentDetailId" class="modal-footer">
    <button
      type="button"
      class="btn btn-secondary"
      (click)="onResetRemarkDetails()"
    >
    Reset
    </button>
    <button
      type="button"
      class="btn btn-secondary"
      (click)="onSaveRemarkDetails(this.summaryDetails,this.indexCount)"
    >
      Save
    </button>
  </div>
</ng-template>

<!-- Template 8 -->
<ng-template #template8>
  <div class="modal-header">
    <h5 class="modal-title" id="jasdjgh">Remark</h5>
    <button
      type="button"
      (click)="modalRef.hide()"
      class="close"
      data-dismiss="modal"
      aria-label="Close"
    >
      <span aria-hidden="true">×</span>
    </button>
  </div>

  <div class="card-body">
    <div *ngFor="let documentRemark of documentRemarkList" >
      <div class="row" >
       
        <div class="col-md-6">
          <span class="form-label"
            >{{ documentRemark.role }}:
            <b class="text-gray">{{
              documentRemark.remarkBy
            }}</b></span
          >
        </div>
        <div class="col-md-6">
          <div class="float-right">
            <span class="form-label">
              Date:
              <b class="text-gray">{{
                documentRemark.remarkDate
                  | date: "dd-MMM-yyyy HH:mm"
              }}</b>
            </span>
          </div>
        
        </div>
      </div>
      <div class="row">
        <textarea class="form-control remarktext" disabled [ngClass]="{'admin-class':documentRemark.role=='Approval Admin'}">
        {{ documentRemark.remark }}
        </textarea>
      </div>
    </div>
    <div class="row mt-25">
      <div class="col-md-12">
        <h6 class="modal-title" id="jasdjgh">Enter New Remark</h6>
        
        <textarea type="text" [(ngModel)]="enteredRemark"
        (change)= "
        onChangeDocumentRemark(
          this.summaryDetails, this.indexCount,
            $event
          )
        "  class="form-control" placeholder="Remark">
      </textarea>
      </div>
    </div>
  </div>

  <!-- <div *ngIf="!this.summaryDetails?.proofSubmissionId" class="modal-footer">
    <button
      type="button"
      class="btn btn-secondary"
      (click)="onSaveRemarkDetails(this.summaryDetails,this.indexCount)"
    >
      Ok
    </button>
  </div> -->
  <div class="modal-footer">
    <button
      type="button"
      class="btn btn-secondary"
      (click)="onSaveRemarkDetails(this.summaryDetails,this.indexCount)"
    >
      Save
    </button>
    <button
      type="button"
      class="btn btn-secondary"
      (click)="onResetRemarkDetails()"
    >
      Reset
  </button>
  </div>
</ng-template>