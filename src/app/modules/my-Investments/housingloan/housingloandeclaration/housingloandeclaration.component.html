<div class="tabview-contents">
  <div class="row mb-15" *ngIf="isDisabled">
    <div class="col-md-12">
      <label class="mt-2 highlightlabel font-13 font600"><span class="text-red">*</span> Select Property for proof
        submission
      </label>
    </div>
  </div>
  <div class="row d-flex">
    <!-- <div class="col-12 mr-0 pr-0" *ngIf="isDisabled">
      </div> -->
    <div class="ml-2 pl-1 pr-0">
      <label class="form-label mt-2">House Master <span class="text-red">*</span></label>
    </div>
    <div class="col-md-3 pr-0">
      <select name="HouseMaster" class="form-control custom-select"
        (change)="selectedTransactionPropertyName($event.target.value)">
        <option *ngFor="let propertyName of propertyNameList" [value]="propertyName.value"
          [selected]="propertyName.value == allPropertyNames">
          {{ propertyName.label }}
        </option>
      </select>
    </div>
  </div>
  <div *ngFor="let item of transactionDetail; let j = index">
    <div class="row pt-10 mt-10 bg-color-light_gray d-flex">
      <div class="ml-2 pl-1 pr-0">
        <label class="form-label mt-1">House Name</label>
      </div>
      <div class="ml-2 pl-1 pr-0 col-md-2">
        <label class="font-12 text-ellipsis mt-1" placement="left" [adaptivePosition]="false"
          tooltip=" {{ item.houseName }}">
           {{ item.houseName }}
        </label>
      </div>
      <div class="ml-2 pl-1 pr-0">
        <label class="form-label mt-1 pl-10">House Address</label>
      </div>
      <div class="ml-2 pl-1 pr-0 col-md-2">
        <label class="font-12 text-ellipsis mt-1" placement="left" [adaptivePosition]="false"
          tooltip="{{ (item.address1?  item.address1 +', ' : '') + 
          (item.address2?  item.address2 +', ' : '') +
          (item.address3?  item.address3 +', ' : '') +  item.houseAddress }}">
          {{ item.houseAddress }} 
        </label>
      </div>
      <div class="ml-2 pl-1 pr-0">
        <label class="form-label mt-1">Usage Type</label>
      </div>
      <div class="ml-2 pl-1 pr-0 col-md-0" *ngFor="let usage of item.housePropertyUsageTypeList">
        <label class="font-12 text-ellipsis mt-1" placement="left" [adaptivePosition]="false" tooltip="{{
            (usage.fromDate | date: 'dd-MMM-yyyy') +
              ' to ' +
              (usage.toDate | date: 'dd-MMM-yyyy')
          }}">
          {{ usage.usageType }}
        </label>
      </div>
      <div class="ml-2 pl-1 pr-0">
        <label class="form-label mt-1">Loan</label>
      </div>
      <div class="ml-2 pl-1 pr-0 col-md-2">
        <label class="font-12 text-ellipsis mt-1" placement="left" [adaptivePosition]="false"
          tooltip="{{ item.loanTaken? 'Yes': 'No' }}">
          {{ item.loanTaken? 'Yes': 'No'}}
        </label>
      </div>
    </div>
    <div class="row mt-15">
      <div class="col-12">
        <div class="table-responsive Custom_Table">
          <table class="table table-striped table-hover table-bordered m-b-0">
            <thead class="thead-dark">
              <tr>
                <th rowspan="2" class="wd-4">
                  <label class="custom-control custom-checkbox checkbox-center" tooltip="Select All">
                    <input type="checkbox" class="custom-control-input" name="select" />
                    <span class="custom-control-label"></span>
                  </label>
                </th>
                <th rowspan="2" class="wd-18 font700">
                  <span tooltip="Particular">Particular</span>
                </th>
                <th rowspan="2" class="wd-12 font700"> 
                  <span tooltip="Declared Amount">Declared Amount</span>
                </th>
                <th rowspan="2" class="wd-12 font700">
                  <span tooltip="Actual Amount">Actual Amount</span>
                  </th>
                <th colspan="2" class="wd-16 font700">
                  <span tooltip="Approval Amount">Approval Amount</span>
                  </th>
                <th rowspan="2" class="wd-6 font700">
                  <span tooltip="Remark">Remark</span>
                  </th>
                <th rowspan="2" class="wd-8">
                  <span tooltip="PS. ID.">PS. ID.</span>
                  </th>
                <th rowspan="2" class="wd-10 font700">
                  <span tooltip="Status">Status</span>
                  </th>
                <th rowspan="2" class="wd-10 font700">
                  <span tooltip="Action">Action</span>
                  </th>

              </tr>
              <tr>
                <th>Rejected</th>
                <th>Approved</th>
              </tr>
            </thead>

            <tbody>
              <tr *ngFor="
                  let summary of item.housePropertyTransactionList;
                  let i = index;
                  count as c
                ">
                <td scope="row">
                  <label class="custom-control custom-checkbox checkbox-center" *ngIf="isDisabled"
                    tooltip="Select institution for proof submission">
                    <input type="checkbox" [ngModel]="enableSelectAll" (change)="
                        onSelectCheckBox(summary, $event, i, j);
                        enableCheckboxFlag = j
                      " [disabled]="summary.proofSubmissionId || isDisabled" class="custom-control-input"
                      value="option{{ summary.housePropertyTransactionId }}" />
                    <span class="custom-control-label"></span>
                  </label>
                  <label *ngIf="!isDisabled && !summary.proofSubmissionId" class="custom-control custom-checkbox checkbox-center">
                    <input type="checkbox" [ngModel]="enableSelectAll"
                      [disabled]="summary.proofSubmissionId || isDisabled " (change)="
                        onSelectCheckBox(summary, $event, i, j);
                        enableCheckboxFlag = j
                      " class="custom-control-input" value="option{{ summary.housePropertyTransactionId }}" />
                    <span class="custom-control-label"></span>
                  </label>
                </td>
                <td>
                  <span>{{ summary.particulars == 'InterestAmount' ? 'Interest Amount': 
                    summary.particulars == 'PrincipalAmount' ? 'Principal Amount' :
                    summary.particulars == 'MunicipalTax' ? 'Municipal Tax'
                     : summary.particulars }}</span>
                </td>
                <td>
                  <div class="custom_icon_badge">
                    <input type="text" id="declaredAmount{{ summary.housePropertyTransactionId }}"
                      onkeypress="return /[0-9 ]/i.test(event.key)"
                      name="declaredAmount{{ summary.housePropertyTransactionId }}" [(ngModel)]="summary.declaredAmount"
                      class="form-control align-right" (change)="ondeclaredAmountChange(summary, i, j)"
                      [disabled]="initialArrayIndex[j] > i"
                          [disabled]=" isDisabled ||  summary.transactionStatus === 'Submitted'" />
                  </div>
                </td>

                <td>
                  <input type="text" id="actualAmount{{ summary.housePropertyTransactionId }}"
                    onkeypress="return /[0-9 ]/i.test(event.key)"
                    name="actualAmount{{ summary.housePropertyTransactionId }}"
                    [disabled]="initialArrayIndex[j] > i"
                    [disabled]=" isDisabled ||  summary.transactionStatus === 'Submitted'"
                    [(ngModel)]="summary.actualAmount" (change)="onactualAmountChange(summary, i, j)"
                    class="form-control align-right" />
                </td>
                <td>
                  <input type="text" [ngModel]="summary.amountRejected | number: '1.2-2'"
                    [disabled]="initialArrayIndex[j] > i || isDisabled " class="form-control align-right" disabled />
                </td>
                <td>
                  <input type="text" [ngModel]="summary.amountApproved | number: '1.2-2'"
                    [disabled]="initialArrayIndex[j] > i || isDisabled " class="form-control align-right" disabled />
                </td>
                <td class="wd-6">
                  <div class="d-flex">
                    <!-- <input
                    style="width:100px;"
                      type="text"
                      class="form-control"
                      [disabled]=" isDisabled || summary.transactionStatus === 'Submitted'"
                      
                      (change)="
                      onChangeDocumentRemark(
                          summary, i,
                          $event
                        )
                      "
                    
                    /> -->
                    <div
                      _ngcontent-ykc-c443=""
                      class="
                        custom_Label_badge
                        mr-2
                        ml-2
                      "
                    >
                      <b>
                        <i
                          (click)="
                            remarkModal(
                              'Transaction',
                              template8,
                              summary?.housePropertyTransactionId,
                            summary, i
                            )
                          "
                          class="
                            fa fa-commenting
                            text-dark-green
                            fa-2x
                            cursor-pointer
                          "
                        >
                        </i
                      ></b>
                      <span
                        _ngcontent-ykc-c443=""
                        class="Label_badge"
                        >{{
                        
                          summary?.bubbleRemarkCount
                        }}</span
                      >
                    </div>
                  </div>
                  <!-- <span tooltip="{{ summary.remark }}">
                    {{ summary.remark }}
                  </span> -->
                </td>
                <td>
                  <span *ngIf="summary.transactionStatus == 'Submitted'" tooltip="{{ summary.proofSubmissionId }}">
                    <i class="fa fa-clipboard"></i>
                  </span>
                </td>
                <td class="text-orange font700">
                  <span class="badge" [ngClass]="{'badge-primary': summary.transactionStatus=='Re-Open',
                ' badge-success': summary.transactionStatus=='Approved',
                'badge-danger': summary.transactionStatus=='SendBack',
                'badge-info': summary.transactionStatus=='Submitted',
                'badge-warning': summary.transactionStatus=='Pending'}" tooltip="{{ summary.transactionStatus }}">
                  {{ summary.transactionStatus }}
                </span>
                  <!-- <span tooltip="{{ summary.transactionStatus }}">
                    {{ summary.transactionStatus }}
                  </span> -->
                </td>
                <td>
                  
                  <i *ngIf="canEdit && summary.transactionStatus!='Pending'? true: false"
                  class="fa fa-eye font-16 text-blue cursor-pointer"
                  (click)="
                  editViewTransaction(
                      template2,
                      summary.proofSubmissionId
                    );
                    viewTransactionDetail = false
                  "
                  tooltip="view"
                ></i>



                  &nbsp;&nbsp;
                  <i *ngIf="canEdit && summary.transactionStatus!='Pending'? true: false"
                    class="fa fa-edit font-16 text-dark-green cursor-pointer"
                    (click)="
                    editViewTransaction(
                        template2,
                        summary.proofSubmissionId
                      );
                      viewTransactionDetail = true
                    "
                    tooltip="Edit"
                  ></i>
                </td>
              </tr>

            </tbody>
          </table>
        </div>

        <div class="row mt-15" *ngIf="previousEmployeeList?.length">
          <div class="col-12">
            <h3 class="font-14 text-purple font-bold">Previous Employer</h3>
            <div class="row mt-15">
              <div class="col-12">
                <div class="table-responsive Custom_Table">
                  <table class="table table-striped table-hover table-bordered m-b-0"
                    *ngIf="previousEmployeeList?.length"
                    >
                    <thead class="thead-dark">
                      <tr>
                        <th rowspan="2" class="wd-6">
                          <label class="custom-control custom-checkbox checkbox-center" placement="bottom"  tooltip="Select All">
                            <input type="checkbox" class="custom-control-input"   [ngModel]="isCheckAll"
                              [disabled]="isDisabled" name="select" value="isCheckAll{{ j }}"
                              (change)="checkUncheckAll(item, j)" />
                            <span class="custom-control-label"></span>
                          </label>
                        </th>
                        <th rowspan="2" class="wd-20 font700">
                          Previous Employer Name
                        </th>
                        <th rowspan="2" class="wd-15 font700">Particulars</th>
                        <th rowspan="2" class="wd-15 font700">Actual Amount</th>
                        <th colspan="2" class="wd-16 font700">Approval Amount</th>
                        <th rowspan="2" class="wd-6 font700">Remark</th>
                        <th rowspan="2" class="wd-8">PS. ID.</th>
                        <th rowspan="2" class="wd-10 font700">Status</th>
                      </tr>
                      <tr>
                        <th>Rejected</th>
                        <th>Approved</th>
                      </tr>
                    </thead>
                    <thead class="thead-dark" *ngIf="!previousEmployeeList?.length">
                      <tr>
                        <th rowspan="2" class="wd-15 font700">Particulars</th>
                        <th rowspan="2" class="wd-15 font700">Actual Amount</th>
                        <th colspan="2" class="wd-16 font700">Approval Amount</th>
                        <th rowspan="2" class="wd-6 font700">Remark</th>
                        <th rowspan="2" class="wd-8">PS. ID.</th>
                        <th rowspan="2" class="wd-10 font700">Status</th>
                      </tr>
                      <tr>
                        <th>Rejected</th>
                        <th>Approved</th>
                      </tr>
                    </thead>
                    <tbody>


                      <tr *ngFor="
                        let summary of item.housePropertyTransactionPreviousEmployerList;
                        let i = index;
                        count as c
                      ">


                        <td scope="row">
                          <label class="custom-control custom-checkbox checkbox-center" *ngIf="isDisabled"
                            tooltip="Select institution for proof submission">
                            <input type="checkbox" [ngModel]="enableSelectAll"
                              [disabled]="isDisabled || summary.proofSubmissionId" (change)="
                              onSelectCheckBoxPrevious(summary, $event, i, j);
                         enableCheckboxFlag = j
                       " class="custom-control-input" value="option{{ summary.housePropertyTransactionId }}" />
                            <span class="custom-control-label"></span>
                          </label>
                          <label *ngIf="!isDisabled && !summary.proofSubmissionId" class="custom-control custom-checkbox checkbox-center">
                            <input type="checkbox" [ngModel]="enableSelectAll"
                              [disabled]="isDisabled || summary.proofSubmissionId" (change)="
                              onSelectCheckBoxPrevious(summary, $event, i, j);
                        enableCheckboxFlag = j
                       " class="custom-control-input" value="option{{ summary.housePropertyTransactionId }}" />
                            <span class="custom-control-label"></span>
                          </label>
                        </td>
                        <td *ngIf="previousEmployeeList?.length">
                          <select name="Previous Employer Name" class="form-control custom-select"
                            (change)="updatePreviousEmpId($event, i, j)" [disabled]="
                       isDisabled || summary.transactionStatus === 'Submitted'
                     ">
                          <option [ngValue]="null">Select</option>
                            <option *ngFor="let previousEmployee of previousEmployeeList"
                              [value]="previousEmployee.value" [selected]="
                        previousEmployee.value == summary.previousEmployerId
                      ">
                              {{ previousEmployee.label }}
                            </option>
                          </select>
                        </td>
                        <!-- <td>
                          <select name="particulars" class="form-control custom-select" [disabled]="
                          isDisabled || summary.transactionStatus === 'Submitted'">
                            [ngModel]="summary.particulars"
                            <option *ngFor="let particulars of previousEmpParticularList" [value]="particulars.value">
                              {{particulars.label}}
                            </option>
                          </select>  [disabled]="summary.particulars"
                        </td> -->
                          <td>
                            <select name="particulars" class="form-control custom-select"  [disabled]="isDisabled || summary.transactionStatus === 'Submitted'"
                            [ngModel]="summary.particulars" (change)="OnParticularsChange($event, i, j)">
                            <option [ngValue]="null">Select</option>
                              <option *ngFor="let particulars of previousEmpParticularList"
                              [value]="particulars.value">
                              {{particulars.label}}
                            </option>
                            </select>
                          </td>


                        <td>
                          <div class="custom_icon_badge">
                            <input type="text" id="actualAmount{{ summary.housePropertyTransactionId }}"
                              name="actualAmount{{ summary.housePropertyTransactionId }}"
                              [(ngModel)]="summary.actualAmount" class="form-control align-right"
                              (change)="onActualAmountChangePre(summary, i, j)" [disabled]="initialArrayIndex[j] > i"
                              [disabled]="
                              isDisabled || summary.transactionStatus === 'Submitted'
                            " />
                          </div>
                        </td>
                        <td>
                          <input type="text" [ngModel]="summary.amountRejected | number: '1.2-2'"
                            class="form-control align-right" disabled />
                        </td>
                        <td>
                          <input type="text" [ngModel]="summary.amountApproved | number: '1.2-2'"
                            class="form-control align-right" disabled />
                        </td>
                        <td class="wd-6">
                          <div class="d-flex">
                            <!-- <input
                            style="width:100px;"
                              type="text"
                              class="form-control"
                              [disabled]=" isDisabled || summary.transactionStatus === 'Submitted'"
                              
                              (change)="
                              onChangeDocumentRemark(
                                  summary, i,
                                  $event
                                )
                              "
                            
                            /> -->
                            <div
                              _ngcontent-ykc-c443=""
                              class="
                                custom_Label_badge
                                mr-2
                                ml-2
                              "
                            >
                              <b>
                                <i
                                  (click)="
                                    remarkModal(
                                      'PreviousEmployer',
                                      template8,
                                      summary.housePropertyTransactionId,
                                    summary, i
                                    )
                                  "
                                  class="
                                    fa fa-commenting
                                    text-dark-green
                                    fa-2x
                                    cursor-pointer
                                  "
                                >
                                </i
                              ></b>
                              <span
                                _ngcontent-ykc-c443=""
                                class="Label_badge"
                                >{{
                                
                                  summary?.bubbleRemarkCount
                                }}</span
                              >
                            </div>
                          </div>
                          <!-- <span tooltip="{{ summary.remark }}">
                            {{ summary.remark }}
                          </span> -->
                        </td>
                        <td>
                          <span tooltip="{{ summary.proofSubmissionId }}">
                            <i class="fa fa-clipboard"></i>
                          </span>
                        </td>
                        <td class="text-orange font700">
                          <span class="badge" [ngClass]="{'badge-primary': summary.transactionStatus=='Re-Open',
                ' badge-success': summary.transactionStatus=='Approved',
                'badge-danger': summary.transactionStatus=='SendBack',
                'badge-info': summary.transactionStatus=='Submitted',
                'badge-warning': summary.transactionStatus=='Pending'}" tooltip="{{ summary.transactionStatus }}">
                  {{ summary.transactionStatus }}
                </span>
                          <!-- <span tooltip="{{ summary.transactionStatus }}">
                            {{ summary.transactionStatus }}
                          </span> -->
                        </td>
                      </tr>
                      <tr *ngIf="!isDisabled ">
                        <td *ngIf="previousEmployeeList?.length" colspan="9"
                          class="align-right font700 font-16 text-light-green cursor-pointer">
                          <i class="fa fa-plus-circle font-20" tooltip="Add"
                            (click)="addRowInList(PreviousEmployeeService, j)"></i>
                          <span tooltip="Add Row">Add</span>&nbsp;&nbsp;
                          <i class="fa fa-times font-16 text-red cursor-pointer" *ngIf="hideRemoveRow" tooltip="Cancel"
                            (click)="deleteRow(j)"></i>
                        </td>
                        <td *ngIf="!previousEmployeeList?.length" colspan="9"
                          class="align-right font700 font-16 text-light-green cursor-pointer">
                          <i class="fa fa-plus-circle font-20" tooltip="Add"
                            (click)="addRowInList(PreviousEmployeeService, j)"></i>
                          <span tooltip="Add Row">Add</span>&nbsp;&nbsp;
                          <i class="fa fa-times font-16 text-red cursor-pointer" *ngIf="hideRemoveRow" tooltip="Cancel"
                            (click)="deleteRow(j)"></i>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row mt-15">
          <div class="col-12">
            <!-- *ngIf="previousEmployeeList?.length" -->
            <table class="table table-striped table-hover table-bordered m-b-0">
              <tbody>
                <tr>
                  <td class="bg-color-light_gray font-20 font700 wd-12">
                    Income
                  </td>
                  <td class="bg-color-light_gray font-10 font700 align-right wd-6">
                    <span class="padding-right-12 text-link" tooltip="Click to View Computation" (click)="
                      ComputationforIncome(
                        template5,
                        item.housePropertyTransactionLossOrIncomeDeclaredCalculation,
                        item.housePropertyUsageTypeList
                      )
                    ">
                      {{
                      item.housePropertyTransactionLossOrIncomeDeclaredAmount
                      | number: "1.2-2"
                      }}
                    </span>
                  </td>
                  <td class="bg-color-light_gray font-10 font700 align-right wd-6">
                    <span class="padding-right-12 text-link" tooltip="Click to View Computation" (click)="
                      ComputationforIncome(
                        template5,
                        item.housePropertyTransactionLossOrIncomeActualAmountCalculation,
                        item.housePropertyUsageTypeList
                      )
                    ">
                      {{
                      item.housePropertyTransactionLossOrIncomeActualAmount
                      | number: "1.2-2"
                      }}
                    </span>
                  </td>

                  <td class="bg-color-light_gray font-10 font700 align-right wd-6">
                    <span class="padding-right-12 text-link" tooltip="Click to View Computation" (click)="
                      ComputationforIncome(
                        template5,
                        item.housePropertyTransactionLossOrIncomeApprovedCalculation,
                        item.housePropertyUsageTypeList
                      )
                    ">
                      {{
                      item.housePropertyTransactionLossOrIncomeApprovedAmount
                      | number: "1.2-2"
                      }}
                    </span>
                  </td>
                  <td class="bg-color-light_gray font-10 font700 align-right wd-14">
                    <span class="padding-right-12 text-link" tooltip="Click to View Computation" 
                    (click)="ComputationforIncome(template5,
                    item.housePropertyTransactionLossOrIncomeApprovedCalculation,
                    item.housePropertyUsageTypeList
                    )">
                      {{ grandApprovedTotal | number: "1.2-2" }}
                    </span>
                  </td>
                </tr>
              </tbody>
            </table>
            <!-- <table class="table table-striped table-hover table-bordered m-b-0" *ngIf="!previousEmployeeList?.length">
              <tbody>
                <tr>
                  <td class="bg-color-light_gray font-25 font700 wd-14">
                    Loss/Income
                  </td>
                  <td class="bg-color-light_gray font-18 font700 align-right wd-9">
                    <span class="padding-right-12 text-link" tooltip="{{
                      item.housePropertyTransactionLossOrIncomeActualAmount
                        | number: '1.2-2'
                    }}" (click)="ComputationforIncome(template5,
                        item.housePropertyTransactionLossOrIncomeApprovedCalculation)">
                      {{
                      item.housePropertyTransactionLossOrIncomeActualAmoun
                      | number: "1.2-2"
                      }}
                    </span>
                  </td>
                  <td class="bg-color-light_gray font-10 font700 align-right wd-9">
                    <span class="padding-right-12 text-link" tooltip="{{
                      item.housePropertyTransactionLossOrIncomeDeclaredAmount
                        | number: '1.2-2'
                    }}" (click)="ComputationforIncome(template5,
                        item.housePropertyTransactionLossOrIncomeApprovedCalculation)">
                      {{
                      item.housePropertyTransactionLossOrIncomeDeclaredAmount
                      | number: "1.2-2"
                      }}
                    </span>
                  </td>
                  <td class="bg-color-light_gray font-10 font700 align-right wd-9">
                    <span class="padding-right-12 text-link" tooltip=" {{
                      item.housePropertyTransactionLossOrIncomeApprovedAmount
                        | number: '1.2-2'
                    }}" (click)="ComputationforIncome(template5,
                        item.housePropertyTransactionLossOrIncomeApprovedCalculation)">
                      {{
                      item.housePropertyTransactionLossOrIncomeApprovedAmount
                      | number: "1.2-2"
                      }}
                    </span>
                  </td>
                  <td class="bg-color-light_gray font-10 font700 align-right wd-9">
                    <span class="padding-right-12 text-link" tooltip="{{ grandApprovedTotal | number: '1.2-2' }}"
                      (click)="ComputationforIncome(template5,
                        item.housePropertyTransactionLossOrIncomeApprovedCalculation)">
                      {{ grandApprovedTotal | number: "1.2-2" }}
                    </span>
                  </td>
                </tr>
              </tbody>
            </table> -->
          </div>
        </div>
        <div class="card">
          <div class="card-body box-solid-border">
            <div class="msg font-13 font400">
              <p>
                I <b>Rahul J</b> hereby declare that the said housing loan has
                been sanctioned to me along with other co-borrower/s against
                the property located at <b>{{ item.houseAddress }}</b>.I hereby declare that I am claiming benefit u/s
                24 (b) for
                ,<b>{{
                  item
                  .housePropertyTransactionLossOrIncomeActualAmountCalculation
                  .percentageClaimedByEmployee
                  }}%</b>
                as my share of the EMI and remaining
                <b>{{
                  100 -
                  item
                  .housePropertyTransactionLossOrIncomeActualAmountCalculation
                  .percentageClaimedByEmployee
                  }}
                  %</b>
                share of EMI shall be claimed by other co-borrower/s. I
                undertake to Indemnify the company against any liability
                arising out of disallowance of above exemption/ deduction by
                the Income Tax Authorities.
              </p>
            </div>
            <div class="float-left">
              <label class="custom-control custom-checkbox custom-control-inline TermsButton">
                <input [(ngModel)]="iAgree" type="checkbox" class="custom-control-input" name="example-inline-checkbox1"
                  value="option1" />
                <span class="custom-control-label">I Agree </span>
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>

    <hr />
  </div>

  <div class="row mt-30">
    <div class="col-12">

      <div class="row">
        <div class="col-md-12">

        </div>
        <div class="card">
          <div class="mb-10 row">
            <div class="col-md-6">
              <h3 class="font-14 text-purple font-bold">Upload Documents</h3>
            </div>
            <div class="col-md-6">
              <span class="font-bold text-link float-right"></span>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="table-responsive Custom_Table">
                <table class="table table-striped table-hover table-bordered m-b-0">
                  <thead class="thead-dark">
                    <tr>
                      <th scope="col" class="font700 wd-10">Sr No.</th>
                      <th scope="col" class="font700 wd-30">Document Name</th>
                      <th scope="col" class="font700 wd-50">Attachment</th>
                      <!-- <th scope="col" class="font700 wd-15">Total Selected Amount </th>
                      <th scope="col" class="font700 wd-15"> Receipt Amount</th> -->
                      <th scope="col" class="font700 wd-10">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <th scope="row"><span tooltip="1">1</span></th>
                      <td>
                        <span tooltip="Bank Provisional Certificate"></span>Bank Provisional Certificate
                      </td>
                      <td>
                        <span *ngFor="let item of bankCertificate; let j = index" class="text-orange"
                          tooltip="{{ item.name }}">
                          <i class="fa fa-paperclip" aria-hidden="true"></i>&nbsp; {{ item.name }},
                        </span>
                      </td>

                      <td>
                        <i class="fa fa-upload font-16 text-blue cursor-pointer" tooltip="Upload" (click)="
                            !enableFileUpload
                              ? sweetalertWarning(
                                  'Please select transaction to Upload Document'
                                )
                              : UploadModal(template4)
                          "></i>&nbsp;&nbsp;
                      </td>
                    </tr>
                    <tr *ngIf="rentReceiptBankStatement">
                      <th scope="row"><span tooltip="2">2</span></th>
                      <td>
                        <span tooltip="Rent Receipt / Bank Statement"></span>Rent Receipt / Bank Statement
                      </td>
                      <td>
                        <span *ngFor="let item of rentalIncomeReceipt; let j = index" class="text-orange"
                          tooltip="{{ item.name }}">
                          <i class="fa fa-paperclip" aria-hidden="true"></i>&nbsp; {{ item.name }},
                        </span>
                      </td>

                      <td>
                        <i class="fa fa-upload font-16 text-blue cursor-pointer" tooltip="Upload" (click)="
                            !enableFileUpload
                              ? sweetalertWarning(
                                  'Please select transaction to Upload Document'
                                )
                              : UploadModalRental(template6)
                          "></i>&nbsp;&nbsp;
                        <!-- <i class="fa fa-times font-16 text-red cursor-pointer" tooltip="Cancel" (click)="removeDocument()"></i> -->
                      </td>
                    </tr>
                    <tr *ngIf="rentReceiptBankStatement">
                      <th scope="row"><span tooltip="3">3</span></th>
                      <td>
                        <span tooltip="Municipal Tax Receipt"></span>Municipal Tax Receipt 
                      </td>
                      <td>
                        <span *ngFor="let item of municipalTaxReceipt; let j = index" class="text-orange"
                          tooltip="{{ item.name }}">
                          <i class="fa fa-paperclip" aria-hidden="true"></i>&nbsp; {{ item.name }},
                        </span>
                      </td>
                      <td>
                        <i class="fa fa-upload font-16 text-blue cursor-pointer" tooltip="Upload" (click)="
                            !enableFileUpload
                              ? sweetalertWarning(
                                  'Please select transaction to Upload Document'
                                )
                              : UploadModalMuniciple(template7)
                          "></i>&nbsp;&nbsp;
                        <!-- <i class="fa fa-times font-16 text-red cursor-pointer" tooltip="Cancel" (click)="removeDocument()"></i> -->
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row mt-10" *ngIf="transactionDetail?.length && !isDisabled">
    <div class="col-12">
      <div class="float-right mb-15">
        <button type="button" (click)="upload()
             " class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple">
          <b><i class="fa fa-floppy-o"></i></b> Save
        </button>
      </div>
    </div>
  </div>

  <!-- <div class="row mt-10">
    <div class="col-12">
      <div class="float-right mb-15">
        <button
          type="button"
          (click)="
            receiptAmount < globalSelectedAmount
              ? sweetalertError('Receipt Amount should be equal or greater than Actual Amount of Selected lines')
              : upload()"
          class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple"
        >
          <b><i class="fa fa-floppy-o"></i></b> Save
        </button>
      </div>
    </div>
  </div> -->


  <!-- (click)="
              receiptAmount < globalSelectedAmount
                ? sweetalertError('Receipt Amount should be equal or greater than Actual Amount of Selected lines')
                : upload()" -->


  <div class="row mt-30">
    <div class="col-12">
      <div class="card">
        <div class="mb-10">
          <h3 class="card-title text-cyan font-bold">Document Details</h3>
        </div>
        <div class="">
          <div class="table-responsive Custom_Table">
            <table class="table table-striped table-hover table-bordered m-b-0">
              <thead class="thead-dark">
                <tr>
                  <th scope="col" class="font700 wd-20">PS. ID.</th>
                  <th scope="col" class="font700 wd-40">House Name & Usage Type</th>
                  <th scope="col" class="font700 wd-10">Date of Submission</th>

                  <th scope="col" class="font700 wd-20">Document Name</th>
                  <!-- <th scope="col" class="font700 wd-10">PS. ID. Status</th> -->
                  <th scope="col" class="font700 wd-10">Action</th>
                </tr>
              </thead>
              <tbody>
                <!-- <ng-container *ngFor="
              let documentSummary of documentDetailList;
              let documentIndex = index
            "> -->
                <tr *ngFor="
                      let documentSummary of documentDetailList;
                      let documentIndex = index
                    ">
                  <td>
                    <span tooltip="{{ documentSummary.proofSubmissionId }}">
                      {{ documentSummary.proofSubmissionId }}
                    </span>
                  </td>
                  <td>
                    {{documentSummary.houseName}} :: {{ documentSummary.housePropertyUsageTypeList[0].usageType }}
                  </td>
                  <td>
                    <span tooltip="{{
                          documentSummary.dateOfSubmission | date: 'dd-MMM-yyyy'
                        }}">
                      {{
                      documentSummary.dateOfSubmission | date: "dd-MMM-yyyy"
                      }}</span>
                  </td>
                  <td>
                    <div class="custom_Label_badge" style="top: -8px;">
                      <a class="changeColor"
                        (click)="docViewer(template3, documentSummary.documentDetailList)">
                        <span class="Label_badge">{{
                          documentSummary.documentDetailList.length
                          }}</span>
                    </a>
                    </div>
                  </td>
                  <!-- <td>
                    <span class="badge" [ngClass]="{'badge-primary': documentSummary.documentDetailList[0].status=='Re-Open',
                ' badge-success': documentSummary.documentDetailList[0].status=='Approved',
                'badge-danger': documentSummary.documentDetailList[0].status=='SendBack',
                'badge-info': documentSummary.documentDetailList[0].status=='Submitted',
                'badge-warning': documentSummary.documentDetailList[0].status=='Pending'}" tooltip="{{ documentSummary.documentDetailList[0].status }}">
                {{documentSummary.documentDetailList[0].status}}
                </span>
                  </td> -->
                  <!-- <td>
                    <i class="fa fa-eye font-16 text-blue cursor-pointer" (click)="
                      editViewTransaction(
                          template2,
                          documentSummary.proofSubmissionId
                        );
                        viewTransactionDetail = false
                      " tooltip="view"></i>



                    &nbsp;&nbsp;
                    <i class="fa fa-edit font-16 text-dark-green cursor-pointer" (click)="
                        editViewTransaction(
                            template2,
                            documentSummary.proofSubmissionId
                          );
                          viewTransactionDetail = true
                        " tooltip="Edit"></i>
                  </td> -->
                  <td>
                    <i *ngIf="canEdit"
                    class="fa fa-eye font-16 text-blue cursor-pointer"
                    (click)="
                    editViewTransaction(
                        template2,
                        documentSummary.proofSubmissionId
                      );
                      viewTransactionDetail = false
                    "
                    tooltip="view"
                  ></i>



                    &nbsp;&nbsp;
                    <i *ngIf="canEdit"
                      class="fa fa-edit font-16 text-dark-green cursor-pointer"
                      (click)="
                      editViewTransaction(
                          template2,
                          documentSummary.proofSubmissionId
                        );
                        viewTransactionDetail = true
                      "
                      tooltip="Edit"
                    ></i>
                  </td>
                </tr>

              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #template1>
  <div class="modal-header">
    <h5 class="modal-title" id="UploadedDocumentModalLabel">
      Uploaded Document Details
    </h5>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="card">
      <div class="card-body pb-0 mt-0 mb-0">
        <div class="row clearfix" *ngFor="let proofSubmissionFile of proofSubmissionFileList">
          <div class="col-md-11">
            <div class="labelbox" tooltip="Document">
              <i class="fa fa-paperclip text-orange"></i> &nbsp;
              {{ proofSubmissionFile.fileName }}
            </div>
          </div>
          <div class="col-md-1">
            <i class="fa fa-eye font-16 text-blue font-900 mt-2" tooltip="View Document"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">
      Ok
    </button>
  </div>
</ng-template>
<ng-template #template2>
  <!-- <div class="modal-header">
    <h5 class="modal-title" id="jasdjgh" *ngIf="viewTransactionDetail">
      Edit Document Details
    </h5>
    <h5 class="modal-title" id="jasdjgh" *ngIf="!viewTransactionDetail">
      View Document Details
    </h5>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
  </div> -->
      <div class="modal-header">
      <h6 class="modal-title" style="margin: auto;"><b>PS.ID. : </b>
        <label>
          {{ editProofSubmissionId }}</label>
      </h6>
      <h6 class="modal-title" style="margin: auto;"><b>Creation Date : </b>
        <label>
          {{ createDateTime | date:'dd-MMM-yyyy' }}</label>
      </h6>
      <h6 class="modal-title" style="margin: auto;"><b>Last Modified Date & Time : </b>
        <label>
          {{ lastModifiedDateTime | date: 'dd-MMM-yyyy HH:mm' }}</label>
      </h6>
      <h6 class="modal-title" style="margin: auto;"><b>Status : </b>
        <label>
          <span class="badge" [ngClass]="{'badge-primary': transactionStatus=='Re-Open',
            ' badge-success': transactionStatus=='Approved',
            'badge-danger': transactionStatus=='SendBack',
            'badge-info': transactionStatus=='Submitted',
            'badge-warning': transactionStatus=='Pending'}" tooltip="{{transactionStatus}}">
          {{ transactionStatus }}</span></label>
      </h6>
      
      <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">×</span>
      </button>
    </div>
  <div class="card-body Box-Spacing">
    <div *ngFor="let item of editTransactionUpload; let j = index">
      <div class="row pt-10 mt-10 bg-color-light_gray d-flex">
        <div class="ml-2 pl-1 pr-0">
          <label class="form-label mt-1">House Name</label>
        </div>
        <div class="ml-2 pl-1 pr-0 col-md-2">
          <label class="font-12 text-ellipsis mt-1" placement="left" [adaptivePosition]="false"
            tooltip=" {{ item.houseName }}">
            {{ item.houseName }}
          </label>
        </div>
        <div class="ml-2 pl-1 pr-0">
          <label class="form-label mt-1 pl-10">House Address</label>
        </div>
        <div class="ml-2 pl-1 pr-0 col-md-2">
          <label class="font-12 text-ellipsis mt-1" placement="left" [adaptivePosition]="false"
            tooltip="{{ item.houseAddress }}">
            {{ item.houseAddress }}
          </label>
        </div>
        <div class="ml-2 pl-1 pr-0">
          <label class="form-label mt-1">Usage Type</label>
        </div>
        <div class="ml-2 pl-1 pr-0 col-md-0" *ngFor="let usage of item.housePropertyUsageTypeList">
          <label class="font-12 text-ellipsis mt-1" placement="left" [adaptivePosition]="false" tooltip="{{
            (usage.fromDate | date: 'dd-MMM-yyyy') +
              ' to ' +
              (usage.toDate | date: 'dd-MMM-yyyy')
          }}">
            {{ usage.usageType }}
          </label>
        </div>
        <div class="ml-2 pl-1 pr-0">
          <label class="form-label mt-1">Loan</label>
        </div>
        <div class="ml-2 pl-1 pr-0 col-md-2">
          <label class="font-12 text-ellipsis mt-1" placement="left" [adaptivePosition]="false"
            tooltip="{{ item.loanTaken? 'Yes': 'No' }}">
            {{ item.loanTaken? 'Yes': 'No'}}
          </label>
        </div>
      </div>
      <div class="row mt-15">
        <div class="col-12">
          <div class="table-responsive Custom_Table">
            <table class="table table-striped table-hover table-bordered m-b-0">
              <thead class="thead-dark">
                <tr>
                  <th rowspan="2" class="wd-4">
                    <label class="custom-control custom-checkbox checkbox-center" tooltip="Select All">
                      <input type="checkbox" class="custom-control-input" name="select" />
                      <span class="custom-control-label"></span>
                    </label>
                  </th>
                  <th rowspan="2" class="wd-18 font700">
                    <span tooltip="Particular">Particular</span>
                  </th>
                  <th rowspan="2" class="wd-12 font700">Declared</th>
                  <th rowspan="2" class="wd-12 font700">Actual Amount</th>
                  <th colspan="2" class="wd-16 font700">Approval Amount</th>
                  <th rowspan="2" class="wd-6 font700">Remark</th>
                  <th rowspan="2" class="wd-8">PS. ID.</th>
                  <th rowspan="2" class="wd-10 font700">Status</th>
                </tr>
                <tr>
                  <th>Rejected</th>
                  <th>Approved</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="
                  let summary of item.housePropertyTransactionList;
                  let i = index;
                  count as c
                ">
                  <td scope="row">
                    <label class="custom-control custom-checkbox checkbox-center" *ngIf="isDisabled"
                      tooltip="Select institution for proof submission">
                      <input type="checkbox" [ngModel]="enableSelectAll" (change)="
                        onSelectCheckBox(summary, $event, i, j);
                        enableCheckboxFlag = j
                      " [disabled]="summary.proofSubmissionId || isDisabled" class="custom-control-input"
                        value="option{{ summary.housePropertyTransactionId }}" />
                      <span class="custom-control-label"></span>
                    </label>
                    <label *ngIf="!isDisabled && !summary.proofSubmissionId" class="custom-control custom-checkbox checkbox-center">
                      <input type="checkbox" [ngModel]="enableSelectAll"
                        [disabled]="summary.proofSubmissionId || isDisabled " (change)="
                        onSelectCheckBox(summary, $event, i, j);
                        enableCheckboxFlag = j
                      " class="custom-control-input" value="option{{ summary.housePropertyTransactionId }}" />
                      <span class="custom-control-label"></span>
                    </label>
                  </td>
                  <td>
                    <span>{{ summary.particulars }}</span>
                  </td>
                  <td>
                    <div class="custom_icon_badge">
                      <input type="text" id="declaredAmount{{ summary.housePropertyTransactionId }}"
                        onkeypress="return /[0-9 ]/i.test(event.key)"
                        name="declaredAmount{{ summary.housePropertyTransactionId }}"
                        [(ngModel)]="summary.declaredAmount" class="form-control align-right"
                        (change)="ondeclaredAmountChange(summary, i, j)"
                        [disabled]="initialArrayIndex[j] > i" [disabled]=" isDisabled ||  summary.transactionStatus === 'Submitted'" />
                    </div>
                  </td>
                  <!-- <td>
                    <input type="text" id="actualAmount{{ summary.housePropertyTransactionId }}"
                      onkeypress="return /[0-9 ]/i.test(event.key)"
                      name="actualAmount{{ summary.housePropertyTransactionId }}"
                      [disabled]="initialArrayIndex[j] > i" [disabled]=" isDisabled ||  summary.transactionStatus === 'Submitted'"
                      [(ngModel)]="summary.actualAmount" (change)="onactualAmountChange(summary, i, j)"
                      class="form-control align-right" />
                  </td> -->
                  <td>
                    <input type="text" id="actualAmount{{ summary.housePropertyTransactionId }}"
                      name="actualAmount{{ summary.housePropertyTransactionId }}" [(ngModel)]="summary.actualAmount"
                      (change)="onActualAmountChangeInEditCase(summary, i)" class="form-control align-right"
                      />
                  </td>


                  <td>
                    <input type="text" [ngModel]="summary.amountRejected | number: '1.2-2'"
                      [disabled]="initialArrayIndex[j] > i || isDisabled " class="form-control align-right" disabled />
                  </td>
                  <td>
                    <input type="text" [ngModel]="summary.amountApproved | number: '1.2-2'"
                      [disabled]="initialArrayIndex[j] > i || isDisabled " class="form-control align-right" disabled />
                  </td>
                  <td class="wd-6">
                    <div class="d-flex">
                      <!-- <input
                      style="width:100px;"
                        type="text"
                        class="form-control"
                        [disabled]=" isDisabled || summary.transactionStatus === 'Submitted'"
                        
                        (change)="
                        onChangeDocumentRemark(
                            summary, i,
                            $event
                          )
                        "
                      
                      /> -->
                      <div
                        _ngcontent-ykc-c443=""
                        class="
                          custom_Label_badge
                          mr-2
                          ml-2
                        "
                      >
                        <b>
                          <i
                            (click)="
                              remarkModal(
                                'Transaction',
                                template8,
                                summary?.housePropertyTransactionId,
                              summary, i
                              )
                            "
                            class="
                              fa fa-commenting
                              text-dark-green
                              fa-2x
                              cursor-pointer
                            "
                          >
                          </i
                        ></b>
                        <span
                          _ngcontent-ykc-c443=""
                          class="Label_badge"
                          >{{
                          
                            summary?.bubbleRemarkCount
                          }}</span
                        >
                      </div>
                    </div>
                    <!-- <span tooltip="{{ summary.remark }}">
                      {{ summary.remark }}
                    </span> -->
                  </td>
                  <td>
                    <span *ngIf="summary.transactionStatus == 'Submitted'" tooltip="{{ summary.proofSubmissionId }}">
                      <i class="fa fa-clipboard"></i>
                    </span>
                  </td>
                  <td class="text-orange font700">
                    <span class="badge" [ngClass]="{'badge-primary': summary.transactionStatus=='Re-Open',
                ' badge-success': summary.transactionStatus=='Approved',
                'badge-danger': summary.transactionStatus=='SendBack',
                'badge-info': summary.transactionStatus=='Submitted',
                'badge-warning': summary.transactionStatus=='Pending'}" tooltip="{{ summary.transactionStatus }}">
                  {{ summary.transactionStatus }}
                </span>
                    <!-- <span tooltip="{{ summary.transactionStatus }}">
                      {{ summary.transactionStatus }}
                    </span> -->
                  </td>
                </tr>

              </tbody>
            </table>
          </div>
          <div class="row mt-15" *ngIf="previousEmployeeList?.length">
            <div class="col-12">
              <!-- <Previous Employer1> -->
              <h3 class="font-14 text-purple font-bold">Previous Employer</h3>
              <div class="row mt-15">
                <div class="col-12">
                  <div class="table-responsive Custom_Table">
                    <table class="table table-striped table-hover table-bordered m-b-0"
                      *ngIf="previousEmployeeList?.length">
                      <thead class="thead-dark">
                        <tr>
                          <th rowspan="2" class="wd-4">
                            <label class="custom-control custom-checkbox checkbox-center" placement="bottom"  tooltip="Select All">
                              <input type="checkbox" class="custom-control-input" [ngModel]="isCheckAll"
                                [disabled]="isDisabled" name="select" value="isCheckAll{{ j }}"
                                (change)="checkUncheckAll(item, j)" />
                              <span class="custom-control-label"></span>
                            </label>
                          </th>
                          <th rowspan="2" class="wd-20 font700">
                            Previous Employer Name
                          </th>
                          <th rowspan="2" class="wd-15 font700">Particulars</th>
                          <th rowspan="2" class="wd-15 font700">Actual Amount</th>
                          <th colspan="2" class="wd-16 font700">Approval Amount</th>
                          <th rowspan="2" class="wd-6 font700">Remark</th>
                          <th rowspan="2" class="wd-8">PS. ID.</th>
                          <th rowspan="2" class="wd-10 font700">Status</th>
                        </tr>
                        <tr>
                          <th>Rejected</th>
                          <th>Approved</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="
                        let summary of item.housePropertyTransactionPreviousEmployerList;
                        let i = index;
                        count as c">
                          <td scope="row">
                            <label class="custom-control custom-checkbox checkbox-center" *ngIf="isDisabled"
                              tooltip="Select institution for proof submission">
                              <input type="checkbox" [ngModel]="enableSelectAll"
                                [disabled]="isDisabled || summary.proofSubmissionId" (change)="
                              onSelectCheckBoxPrevious(summary, $event, i, j);
                         enableCheckboxFlag = j
                       " class="custom-control-input" value="option{{ summary.housePropertyTransactionId }}" />
                              <span class="custom-control-label"></span>
                            </label>
                            <label *ngIf="!isDisabled && !summary.proofSubmissionId" class="custom-control custom-checkbox checkbox-center">
                              <input type="checkbox" [ngModel]="enableSelectAll"
                                [disabled]="isDisabled || summary.proofSubmissionId" (change)="
                              onSelectCheckBoxPrevious(summary, $event, i, j);
                        enableCheckboxFlag = j
                       " class="custom-control-input" value="option{{ summary.housePropertyTransactionId }}" />
                              <span class="custom-control-label"></span>
                            </label>
                          </td>
                          <td *ngIf="previousEmployeeList?.length">
                            <select name="Previous Employer Name" class="form-control custom-select"
                              (change)="updatePreviousEmpId($event, i, j)" [disabled]="
                       isDisabled || summary.transactionStatus === 'Submitted'
                     ">
                              <option [ngValue]="0">Select</option>
                              <option *ngFor="let previousEmployee of previousEmployeeList"
                                [value]="previousEmployee.value" [selected]="
                        previousEmployee.value == summary.previousEmployerId
                      ">
                                {{ previousEmployee.label }}
                              </option>
                            </select>
                          </td>
                          <!-- <td>
                            <select name="previousEmpParticular" class="form-control custom-select" [disabled]="
                          isDisabled || summary.transactionStatus === 'Submitted'">
                              [ngModel]="summary.particulars"
                              <option *ngFor="let previousEmpParticular of previousEmpParticularList" [value]="previousEmpParticular.value">
                                {{previousEmpParticular.label}}
                              </option>
                            </select>
                          </td> -->
                          <td>
                            <select name="particulars" class="form-control custom-select"  [disabled]="isDisabled || summary.transactionStatus === 'Submitted'"
                            [ngModel]="summary.particulars" (change)="OnParticularsChange($event, i, j)">
                              <option [ngValue]="0">Select</option>
                              <option *ngFor="let particulars of previousEmpParticularList"
                              [value]="particulars.value">
                              {{particulars.label}}
                            </option>
                            </select>
                          </td>
                          <td>
                            <input type="text" id="actualAmount{{ summary.housePropertyTransactionId }}"
                              name="actualAmount{{ summary.housePropertyTransactionId }}" [(ngModel)]="summary.actualAmount"
                              (change)="onActualAmountChangeInEditCasePreviousEMP(summary, i)" class="form-control align-right"
                              />
                          </td>

                          <td>
                            <input type="text" [ngModel]="summary.amountRejected | number: '1.2-2'"
                              class="form-control align-right" disabled />
                          </td>
                          <td>
                            <input type="text" [ngModel]="summary.amountApproved | number: '1.2-2'"
                              class="form-control align-right" disabled />
                          </td>
                          <td class="wd-6">
                            <div class="d-flex">
                              <!-- <input
                              style="width:100px;"
                                type="text"
                                class="form-control"
                                [disabled]=" isDisabled || summary.transactionStatus === 'Submitted'"
                                
                                (change)="
                                onChangeDocumentRemark(
                                    summary, i,
                                    $event
                                  )
                                "
                              
                              /> -->
                              <div
                                _ngcontent-ykc-c443=""
                                class="
                                  custom_Label_badge
                                  mr-2
                                  ml-2
                                "
                              >
                                <b>
                                  <i
                                    (click)="
                                      remarkModal(
                                        'PreviousEmployer',
                                        template8,
                                        summary.housePropertyTransactionId,
                                      summary, i
                                      )
                                    "
                                    class="
                                      fa fa-commenting
                                      text-dark-green
                                      fa-2x
                                      cursor-pointer
                                    "
                                  >
                                  </i
                                ></b>
                                <span
                                  _ngcontent-ykc-c443=""
                                  class="Label_badge"
                                  >{{
                                  
                                    summary?.bubbleRemarkCount
                                  }}</span
                                >
                              </div>
                            </div>
                            <!-- <span tooltip="{{ summary.remark }}">
                              {{ summary.remark }}
                            </span> -->
                          </td>
                          <td>
                            <span tooltip="{{ summary.proofSubmissionId }}">
                              <i class="fa fa-clipboard"></i>
                            </span>
                          </td>
                          <td class="text-orange font700">
                            <span tooltip="{{ summary.transactionStatus }}">
                              {{ summary.transactionStatus }}
                            </span>
                          </td>
                        </tr>
                        <tr *ngIf="!isDisabled ">
                          <td *ngIf="previousEmployeeList?.length" colspan="9"
                            class="align-right font700 font-16 text-light-green cursor-pointer">
                            <i class="fa fa-plus-circle font-20" tooltip="Add"
                              (click)="addRowInList(PreviousEmployeeService, j)"></i>
                            <span tooltip="Add Row">Add</span>&nbsp;&nbsp;
                            <i class="fa fa-times font-16 text-red cursor-pointer" *ngIf="hideRemoveRow"
                              tooltip="Cancel" (click)="deleteRow(j)"></i>
                          </td>
                          <td *ngIf="!previousEmployeeList?.length" colspan="9"
                            class="align-right font700 font-16 text-light-green cursor-pointer">
                            <i class="fa fa-plus-circle font-20" tooltip="Add"
                              (click)="addRowInList(PreviousEmployeeService, j)"></i>
                            <span tooltip="Add Row">Add</span>&nbsp;&nbsp;
                            <i class="fa fa-times font-16 text-red cursor-pointer" *ngIf="hideRemoveRow"
                              tooltip="Cancel" (click)="deleteRow(j)"></i>
                          </td>
                        </tr>



                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
      <hr />
    </div>

    <hr/>
   

    <!-- <tbody>
      <tr>
        <th scope="row"><span tooltip="1">1</span></th>
        <td>
          <span tooltip="Bank Certificate"></span>Bank Certificate
        </td>
        <td>
          <span *ngFor="let item of bankCertificate; let j = index" class="text-orange"
            tooltip="{{ item.name }}">
            <i class="fa fa-paperclip" aria-hidden="true"></i>&nbsp; {{ item.name }},
          </span>
        </td>

        <td>
          <i class="fa fa-upload font-16 text-blue cursor-pointer" tooltip="Upload" (click)="
              !enableFileUpload
                ? sweetalertWarning(
                    'Please select transaction to Upload Document'
                  )
                : UploadModal(template4)
            "></i>&nbsp;&nbsp;
        </td>
      </tr>
      <tr *ngIf="transactionDetail[0].housePropertyUsageTypeList[0].usageType !== 'selfOccupied'">
        <th scope="row"><span tooltip="2">2</span></th>
        <td>
          <span tooltip="Rental Income Receipt"></span>Rental
          Income Receipt
        </td>
        <td>
          <span *ngFor="let item of rentalIncomeReceipt; let j = index" class="text-orange"
            tooltip="{{ item.name }}">
            <i class="fa fa-paperclip" aria-hidden="true"></i>&nbsp; {{ item.name }},
          </span>
        </td>

        <td>
          <i class="fa fa-upload font-16 text-blue cursor-pointer" tooltip="Upload" (click)="
              !enableFileUpload
                ? sweetalertWarning(
                    'Please select transaction to Upload Document'
                  )
                : UploadModalRental(template6)
            "></i>&nbsp;&nbsp;
        </td>
      </tr>
      <tr *ngIf="transactionDetail[0].housePropertyUsageTypeList[0].usageType !== 'selfOccupied'">
        <th scope="row"><span tooltip="3">3</span></th>
        <td>
          <span tooltip="Bank Certificate"></span>Municipal Tax
          Receipt
        </td>
        <td>
          <span *ngFor="let item of municipalTaxReceipt; let j = index" class="text-orange"
            tooltip="{{ item.name }}">
            <i class="fa fa-paperclip" aria-hidden="true"></i>&nbsp; {{ item.name }},
          </span>
        </td>
        <td>
          <i class="fa fa-upload font-16 text-blue cursor-pointer" tooltip="Upload" (click)="
              !enableFileUpload
                ? sweetalertWarning(
                    'Please select transaction to Upload Document'
                  )
                : UploadModalMuniciple(template7)
            "></i>&nbsp;&nbsp;
        </td>
      </tr>
    </tbody> -->
    <div class="row clearfix mt-10" *ngIf="viewTransactionDetail">
      <div class="col-md-12">
        <div class="row clearfix">
          <div  class="col-md-3" *ngIf="transactionDetail[0].housePropertyTransactionList[0].particulars == 'InterestAmount'">
            <div class="row" *ngIf="viewTransactionDetail">
              <div class="col-12">
                <h3 class="font-14 text-purple font-bold" id="UploadModalLabel">
                  Upload Document
                </h3>
              </div>
            </div>
            <div class="fileuploadbox bg-color-lightgray">
              <label class="filelabel">
                <i class="fa fa-upload"> </i>
                <span class="title"> Choose file </span>
                <input class="FileUpload1" class="dropify" (change)="onUploadInEditCaseBank($event)"
                  accept=".jpg , .jpeg, .pdf , .png" id="FileInput" type="file" multiple />
              </label>
            </div>
            <div *ngIf="editBankCertificate?.length > 0" class="fileuploadbox">
              Selected Files
              <label *ngFor="let item of editBankCertificate; let index = index" class="filelabeldisplay">
                <div class="text-ellipsis">
                  <i class="fa fa-paperclip"> </i>
                  <span class="title">
                    {{ item.name }}
                  </span>
                </div>
                <div>
                  <i class="fa fa-times text-red font-18" (click)="
                        removeSelectedTransactionDocumentInEditCaseBank(index)
                      "></i>
                </div>
              </label>
            </div>
          </div>
          
          <!-- transactionDetail[0].housePropertyUsageTypeList[0].usageType !== 'selfOccupied' -->
          <div *ngIf="transactionDetail[0].housePropertyTransactionList[0].particulars == 'MunicipalTax'">
            <!-- *ngIf="editMunicipalTaxReceipt.length == 0" -->
          <div class="col-md-12" >
            <div class="row" *ngIf="viewTransactionDetail">
              <div class="col-12">
                <h3 class="font-14 text-purple font-bold" id="UploadModalLabel">
                  Upload Document
                </h3>
              </div>
            </div>
            <div class="fileuploadbox bg-color-lightgray">
              <label class="filelabel">
                <i class="fa fa-upload"> </i>
                <span class="title"> Choose file </span>
                <input class="FileUpload1" class="dropify" (change)="onUploadInEditCaseMunciple($event)"
                  accept=".jpg , .jpeg, .pdf , .png" id="FileInput" type="file" multiple />
              </label>
            </div>
            <div *ngIf="editMunicipalTaxReceipt.length > 0" class="fileuploadbox">
              Selected Files
              <label *ngFor="let item of editMunicipalTaxReceipt; let index = index" class="filelabeldisplay">
                <div class="text-ellipsis">
                  <i class="fa fa-paperclip"> </i>
                  <span class="title">
                    {{ item.name }}
                  </span>
                </div>
                <div>
                  <i class="fa fa-times text-red font-18" (click)="
                        removeSelectedLicTransactionDocumentInEditCaseMuniciple(index)
                      "></i>
                </div>
              </label>
            </div>

          </div>
        </div>
        <!-- transactionDetail[0].housePropertyUsageTypeList[0].usageType !== 'selfOccupied' -->
        <div  *ngIf="transactionDetail[0].housePropertyTransactionList[0].particulars == 'Rent'">
          <!-- *ngIf="editRentalIncomeReceipt.length > 0" -->
          <div class="col-md-12" >
            <div class="row clearfix" *ngIf="viewTransactionDetail">
              <div class="col-12">
                <h3 class="font-14 text-purple font-bold" id="UploadModalLabel">
                  Upload Document
                </h3>
              </div>
            </div>
            <div class="fileuploadbox bg-color-lightgray">
              <label class="filelabel">
                <i class="fa fa-upload"> </i>
                <span class="title"> Choose file </span>
                <input class="FileUpload1" class="dropify" (change)="onUploadInEditCaseRental($event)"
                  accept=".jpg , .jpeg, .pdf , .png" id="FileInput" type="file" multiple />
              </label>
            </div>
            <div *ngIf="editRentalIncomeReceipt.length > 0" class="fileuploadbox">
              Selected Files
              <label *ngFor="let item of editRentalIncomeReceipt; let index = index" class="filelabeldisplay">
                <div class="text-ellipsis">
                  <i class="fa fa-paperclip"> </i>
                  <span class="title">
                    {{ item.name }}
                  </span>
                </div>
                <div>
                  <i class="fa fa-times text-red font-18" (click)="
                        removeSelectedLicTransactionDocumentInEditCaseRental(index)
                      "></i>
                </div>
              </label>
            </div>

          </div>
        </div>
          <div class="col-md-12 mt-6">
            <label class="form-label">Remark</label>
          </div>
          <div class="col-md-6">
            <textarea class="form-control" [(ngModel)]="documentRemark" rows="2"></textarea>
          </div>
        </div>
      </div>
    </div>


    <!-- <div class="row clearfix mt-10" *ngIf="viewTransactionDetail">
      <div class="col-md-12">
        <div class="row clearfix">
          <div class="col-md-3">
            <div class="fileuploadbox bg-color-lightgray">
              <label class="filelabel">
                <i class="fa fa-upload"> </i>
                <span class="title"> Choose file </span>
                <input class="FileUpload1" class="dropify" (change)="onUploadInEditCaseBank($event)"
                  accept=".jpg , .jpeg, .pdf , .png" id="FileInput" type="file" multiple />
              </label>
            </div>
            <div *ngIf="editBankCertificate?.length > 0" class="fileuploadbox">
              Selected Files
              <label *ngFor="let item of editBankCertificate; let index = index" class="filelabeldisplay">
                <div class="text-ellipsis">
                  <i class="fa fa-paperclip"> </i>
                  <span class="title">
                    {{ item.name }}
                  </span>
                </div>
                <div>
                  <i class="fa fa-times text-red font-18" (click)="
                        removeSelectedTransactionDocumentInEditCaseBank(index)
                      "></i>
                </div>
              </label>
            </div>
          </div>
          <div class="col-md-3" *ngIf="editMunicipalTaxReceipt.length == 0">
            <div class="fileuploadbox bg-color-lightgray">
              <label class="filelabel">
                <i class="fa fa-upload"> </i>
                <span class="title"> Choose file </span>
                <input class="FileUpload1" class="dropify" (change)="onUploadInEditCaseMunciple($event)"
                  accept=".jpg , .jpeg, .pdf , .png" id="FileInput" type="file" multiple />
              </label>
            </div>
            <div *ngIf="editMunicipalTaxReceipt.length > 0" class="fileuploadbox">
              Selected Files
              <label *ngFor="let item of editMunicipalTaxReceipt; let index = index" class="filelabeldisplay">
                <div class="text-ellipsis">
                  <i class="fa fa-paperclip"> </i>
                  <span class="title">
                    {{ item.name }}
                  </span>
                </div>
                <div>
                  <i class="fa fa-times text-red font-18" (click)="
                        removeSelectedLicTransactionDocumentInEditCaseMuniciple(index)
                      "></i>
                </div>
              </label>
            </div>

          </div>
          <div class="col-md-3" *ngIf="editRentalIncomeReceipt?.length > 0">
            <div class="fileuploadbox bg-color-lightgray">
              <label class="filelabel">
                <i class="fa fa-upload"> </i>
                <span class="title"> Choose file </span>
                <input class="FileUpload1" class="dropify" (change)="onUploadInEditCaseRental($event)"
                  accept=".jpg , .jpeg, .pdf , .png" id="FileInput" type="file" multiple />
              </label>
            </div>
            <div *ngIf="editRentalIncomeReceipt.length > 0" class="fileuploadbox">
              Selected Files
              <label *ngFor="let item of editRentalIncomeReceipt; let index = index" class="filelabeldisplay">
                <div class="text-ellipsis">
                  <i class="fa fa-paperclip"> </i>
                  <span class="title">
                    {{ item.name }}
                  </span>
                </div>
                <div>
                  <i class="fa fa-times text-red font-18" (click)="
                        removeSelectedLicTransactionDocumentInEditCaseRental(index)
                      "></i>
                </div>
              </label>
            </div>

          </div>
          <div class="col-md-12 mt-6">
            <label class="form-label">Remark</label>
          </div>
          <div class="col-md-6">
            <textarea class="form-control" [(ngModel)]="documentRemark" rows="2"></textarea>
          </div>
        </div>
      </div>
    </div> -->
    <hr class="mt-20" />
    <div class="row">
      <div class="col-md-12">
        <div class="border-box">
          <div class="row mt-30">
            <div class="col-12">
              <div class="card">
                <div class="col-md-12">
                  <h3 class="font-14 text-purple font-bold">
                    Document Summary
                  </h3>
                </div>
                <div class="col-9 col-md-10 col-sm-12">
                  <div
                    class="table-responsive Custom_Table"
                  >
                    <p-table
                      *ngIf="urlArray"
                      #dt2
                      [value]="urlArray"
                      [paginator]="true"
                      [rows]="10"
                      [showCurrentPageReport]="true"
                      (sortFunction)="customSort($event)"
                      [customSort]="true"
                      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                      [rowsPerPageOptions]="[10, 25, 50]"
                      [globalFilterFields]="[
                    'empcode',
                    'empName',
                    'Group',
                    'Frequency',
                    'Type',
                    'proofsubmission',
                    'PSIdDetails',
                    'SubmissionDate',
                    'Status'
                  ]"
                    >
                      <ng-template pTemplate="header">
                        <tr>
                          <!-- <th style="width: 3rem">
                            <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                          </th> -->

                          <!-- <th>
                            <div
                              class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                            > -->
                              <!-- Date Of Submission -->
                              <!-- Creation Date
                              <div
                                class="Sort_Filter_Position"
                              >
                                <p-sortIcon
                                  field="empcode"
                                  pSortableColumn="empcode"
                                ></p-sortIcon>
                                <p-columnFilter
                                  field="empcode"
                                  display="menu"
                                  class="p-ml-auto"
                                >
                                </p-columnFilter>
                              </div>
                            </div>
                          </th> -->
                          <th>
                            <div
                              class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                            >
                              <!-- Time -->
                              Document Submission Date & Time
                              <div
                                class="Sort_Filter_Position"
                              >
                                <p-sortIcon
                                  field="empcode"
                                  pSortableColumn="empcode"
                                ></p-sortIcon>
                                <p-columnFilter
                                  field="empcode"
                                  display="menu"
                                  class="p-ml-auto"
                                >
                                </p-columnFilter>
                              </div>
                            </div>
                          </th>
                          <th>
                            <div
                              class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                            >
                              Document Type
                              <div
                                class="Sort_Filter_Position"
                              >
                                <p-sortIcon
                                  field="documentType"
                                  pSortableColumn="documentType"
                                ></p-sortIcon>
                                <p-columnFilter
                                  field="documentType"
                                  display="menu"
                                  class="p-ml-auto"
                                >
                                </p-columnFilter>
                              </div>
                            </div>
                          </th>
                          <th>
                            <div
                              class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                            >
                              Document Name
                              <div
                                class="Sort_Filter_Position"
                              >
                                <p-sortIcon
                                  field="fileName"
                                  pSortableColumn="fileName"
                                ></p-sortIcon>
                                <p-columnFilter
                                  field="fileName"
                                  display="menu"
                                  class="p-ml-auto"
                                >
                                </p-columnFilter>
                              </div>
                            </div>
                          </th>
                          <!-- <th>
                            <div
                              class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                            >
                              Document Type
                              <div
                                class="Sort_Filter_Position"
                              >
                                <p-sortIcon
                                  field="documentType"
                                  pSortableColumn="documentType"
                                ></p-sortIcon>
                                <p-columnFilter
                                  field="documentType"
                                  display="menu"
                                  class="p-ml-auto"
                                >
                                </p-columnFilter>
                              </div>
                            </div>
                          </th> -->
                          <th>
                            <div
                              class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                            >
                              Password
                              <div
                                class="Sort_Filter_Position"
                              >
                                <p-sortIcon
                                  field="empcode"
                                  pSortableColumn="empcode"
                                ></p-sortIcon>
                                <p-columnFilter
                                  field="empcode"
                                  display="menu"
                                  class="p-ml-auto"
                                >
                                </p-columnFilter>
                              </div>
                            </div>
                          </th>
                          <th>
                            <div
                              class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                            >
                              Remark
                              <div
                                class="Sort_Filter_Position"
                              >
                                <p-sortIcon
                                  field="empcode"
                                  pSortableColumn="empcode"
                                ></p-sortIcon>
                                <p-columnFilter
                                  field="empcode"
                                  display="menu"
                                  class="p-ml-auto"
                                >
                                </p-columnFilter>
                              </div>
                            </div>
                          </th>
                          <th>
                            <div
                              class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                            >
                              Status
                              <div
                                class="Sort_Filter_Position"
                              >
                                <p-sortIcon
                                  field="empcode"
                                  pSortableColumn="empcode"
                                ></p-sortIcon>
                                <p-columnFilter
                                  field="empcode"
                                  display="menu"
                                  class="p-ml-auto"
                                >
                                </p-columnFilter>
                              </div>
                            </div>
                          </th>
                          <!-- <th>
                            <div
                              class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                            >
                              Approver Name
                              <div
                                class="Sort_Filter_Position"
                              >
                                <p-sortIcon
                                  field="empcode"
                                  pSortableColumn="empcode"
                                ></p-sortIcon>
                                <p-columnFilter
                                  field="empcode"
                                  display="menu"
                                  class="p-ml-auto"
                                >
                                </p-columnFilter>
                              </div>
                            </div>
                          </th> -->
                          <!-- <th>
                            <div
                              class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                            > -->
                              <!-- Time -->
                              <!-- Last Modified Date & Time
                              <div
                                class="Sort_Filter_Position"
                              >
                                <p-sortIcon
                                  field="empcode"
                                  pSortableColumn="empcode"
                                ></p-sortIcon>
                                <p-columnFilter
                                  field="empcode"
                                  display="menu"
                                  class="p-ml-auto"
                                >
                                </p-columnFilter>
                              </div>
                            </div>
                          </th> -->
                        </tr>
                      </ng-template>
                      <ng-template
                        pTemplate="body"
                        let-document
                        let-documentIndex = "rowIndex"
                      >
                        <tr class="p-selectable-row">
                          <!-- <td>
                            <p-tableCheckbox
                              [value]="customer"
                            >
                            </p-tableCheckbox>
                          </td> -->
                          <!-- <td>
                            {{dateofsubmission | date:'dd-MMM-yyyy' }}
                          </td> -->
                          <!-- <td>{{ document.lastModifiedTime| date:'dd-MMM-yyyy, h:mm a'  }}</td> -->
                          <td>{{ document.lastModifiedTime| date: 'dd-MMM-yyyy HH:mm'}}</td>
                          <!-- {{ todayDate | date: 'dd/MM/yyyy HH:mm'}} -->
                          <td>{{ document.documentType }}</td>
                          <td>
                            <a
                              (click)=" docViewer1(template3,documentIndex, document)"

                            >
                              <i
                                class="
                              fa fa-paperclip
                              text-orange
                            "
                              ></i>
                              &nbsp;
                              {{ document.fileName }}
                            </a>
                          </td>
                          <!-- <td>{{ document.documentType }}</td> -->
                          <td>{{ document.password }}</td>
                          <td>
                            <!-- <div class="custom_Label_badge">
                              <button
                                class="
                                  btn btn-bg-green
                                  text-white
                                "
                                (click)="
                                  docViewer(template3)
                                "
                              >
                                PSEmp
                              </button>
                              <span class="Label_badge"
                                >2</span
                              >
                            </div> -->
                            {{document.remark}}
                          </td>
                          <td class="wd-6"><span class="badge" [ngClass]="{'badge-primary': document.status=='Re-Open',
                            ' badge-success': document.status=='Approved',
                            'badge-danger': document.status=='SendBack',
                            'badge-info': document.status=='Submitted',
                            'badge-warning': document.status=='Pending'}">{{ document.status }}</span></td>
                          <!-- <td>{{ document.lastModifiedBy }}</td> -->
                          <!-- <td>{{ document.lastModifiedTime| date:'h:mm a'  }}</td> -->
                          <!-- <td>{{ document.lastModifiedTime| date:'dd-MMM-yyyy, h:mm a'  }}</td> -->
                          
                        </tr>
                      </ng-template>
                    </p-table>
                  </div>
                </div>
                <!-- <div class="row mt-25">
                  <div class="col-md-12">
                    <div class="float-right">
                      <button
                        type="submit"
                        class="
                          custom_button custom_btn
                          btn-bg-green
                          btn-labeled
                          btn-labeled-left
                          ripple
                          mr-2
                        "
                        tooltip="Approve"
                      >
                        <b>
                          <i class="fa fa-floppy-o"></i
                        ></b>
                        Approve
                      </button>

                      <button
                        type="button"
                        tooltip="Send Back"
                        class="
                          custom_button custom_btn
                          bg-btn-red
                          btn-labeled btn-labeled-left
                          mr-2
                        "
                      >
                        <b><i class="fa fa-times"></i></b>
                        Discard
                      </button>
                    </div>
                  </div>
                </div> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
<!--     <hr class="mt-20" />
    <div class="row mt-20">
      <div class="col-12">
        <h3 class="font-14 text-purple font-bold" id="UploadModalLabel">
          Uploaded Documents
        </h3>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="row clearfix mt-10">
          <div class="col-md-12" *ngFor="let doc of urlArray">
            <div class="labelbox" placement="left" tooltip="{{ doc.fileName }}">
              <i class="fa fa-paperclip text-orange"></i> &nbsp;
              {{ doc.fileName }}
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr class="mt-20" /> -->
  </div>

  <div class="modal-footer">
   <!--  <button type="button" tooltip="View Document" (click)="modalRef.hide(); docViewer(template3,urlArray)"
      class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left">
      <b><i class="fa fa-eye"></i></b> View
    </button>
    &nbsp;&nbsp; -->
    <button *ngIf="viewTransactionDetail" type="button" tooltip="View Document"
      (click)="modalRef.hide(); uploadUpdateTransaction()"
      class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left">
      <b><i class="fa fa-save"></i></b> Update
    </button>
  </div>
</ng-template>
<!-- dOC VIEWER -->
<ng-template #template3>
  <div class="modal-header">
    <h5 class="modal-title" id="jasdjgh">Document Viewer</h5>
    <button
      type="button"
      (click)="modalRef.hide()"
      class="close"
      data-dismiss="modal"
      aria-label="Close"
    >
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <!-- <button (click)="previousDocViewer()" [disabled]="urlIndex == 0">previous</button>
<button (click)="nextDocViewer()" [disabled]="urlIndex == (urlArray.length-1)">next</button> -->
  <div class="card-body">
    <div class="row">
      <div class="col-md-1">
        <button
          type="button"
          class="btn active Next_Previous_Btn"
          tooltip="Previous Document"
          (click)="previousDocViewer()"
          [disabled]="urlIndex == 0"
        >
          <i class="fa fa-angle-left text-white font-30 p-10"></i>
        </button>
      </div>
      <div class="col-md-10">
        <iframe style="height: 100vh; width: 100%; display: block" [src]="urlSafe" provider="google"></iframe>
      </div>
      <div class="col-md-1">
        <button
          type="button"
          class="btn active Next_Previous_Btn"
          tooltip="Next Document"
          (click)="nextDocViewer()"
          [disabled]="urlIndex == urlArray.length - 1"
        >
          <i class="fa fa-angle-right text-white font-30 p-10"></i>
        </button>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <!-- <button type="button" class="btn btn-primary">Save</button>  -->
    <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">
      Ok
    </button>
  </div>
</ng-template>


<ng-template #template4>
  <div class="modal-header">
    <h5 class="modal-title" id="UploadModalLabel">Upload Document</h5>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="card">
      <div class="card-body">
        <div class="row clearfix">
          <!-- <div class="col-md-12">
           <label class="form-label">Upload File here :</label>
        </div> -->
          <div class="col-md-12">
            <div class="fileuploadbox bg-color-lightgray">
              <label class="filelabel">
                <i class="fa fa-upload"> </i>
                <span class="title"> Choose file </span>
                <input class="FileUpload1" class="dropify" (change)="onUpload($event)"
                  accept=".jpg , .jpeg, .pdf , .png" id="FileInput" type="file" multiple />
              </label>
            </div>
            <div *ngIf="bankCertificate.length > 0 " class="fileuploadbox">
              Selected files
              <label *ngFor="let item of bankCertificate;  let index = index;" class="filelabeldisplay">
                <div class="text-ellipsis"><i class="fa fa-paperclip">
                  </i>
                  <span class="title">
                    {{ item.name }}
                  </span>
                  <div>
                    <div style="float: left; width: 40%;">
                      <div class="col-md-8 mt-10">
                        <label class="form-label">Password</label>
                      </div>
                      <div class="col-md-12">
                        <input class="form-control" [(ngModel)]="bankDocumentPassword[index]" rows="1">
                      </div>

                    </div>
                    <div style="float: right; width: 40%; margin-right: 59px">
                      <div class="col-md-8 mt-10">
                        <label class="form-label">Remark</label>
                      </div>
                      <div class="col-md-12">
                        <input class="form-control" [(ngModel)]="bankRemarkList[index]" rows="1">
                      </div>
                    </div>
                  </div>
                </div>
                <div>
                  <i class="fa fa-times text-red font-18"
                    (click)="removeSelectedLicTransactionDocument(index)"></i>
                </div>
              </label>
            </div>

            <!-- <div *ngIf="bankCertificate.length > 0" class="fileuploadbox">
              Selected Files
              <label *ngFor="let item of bankCertificate; let index = index" class="filelabeldisplay">
                <div class="text-ellipsis">
                  <i class="fa fa-paperclip"> </i>
                  <span class="title">
                    {{ item.name }}
                  </span>
                </div>
                <div>
                  <i class="fa fa-times text-red font-18" (click)="removeSelectedLicTransactionDocument(index)"></i>
                </div>
              </label>
            </div> -->
          </div>
          <!-- <div class="col-md-12 mt-10">
            <label class="form-label">Remark</label>
          </div> -->
          <!-- <div class="col-md-12">
            <textarea class="form-control" [(ngModel)]="documentRemark" rows="2"></textarea>
          </div> -->
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <!-- <button type="button" class="btn btn-primary">Save</button>  -->
    <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">
      Ok
    </button>
  </div>
</ng-template>


<ng-template #template6>
  <div class="modal-header">
    <h5 class="modal-title" id="UploadModalLabel">Upload Document</h5>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="card">
      <div class="card-body">
        <div class="row clearfix">
          <div class="col-md-12">
            <div class="fileuploadbox bg-color-lightgray">
              <label class="filelabel">
                <i class="fa fa-upload"> </i>
                <span class="title"> Choose file </span>
                <input class="FileUpload1" class="dropify" (change)="onUploadRental($event)"
                  accept=".jpg , .jpeg, .pdf , .png" id="FileInput" type="file" multiple />
              </label>
            </div>
            <div *ngIf="rentalIncomeReceipt.length > 0 " class="fileuploadbox">
              Selected files
              <label *ngFor="let item of rentalIncomeReceipt;  let index = index;" class="filelabeldisplay">
                <div class="text-ellipsis"><i class="fa fa-paperclip">
                  </i>
                  <span class="title">
                    {{ item.name }}
                  </span>
                  <div>
                    <div style="float: left; width: 40%;">
                      <div class="col-md-8 mt-10">
                        <label class="form-label">Password</label>
                      </div>
                      <div class="col-md-12">
                        <input class="form-control" [(ngModel)]="rentDocumentPassword[index]" rows="1">
                      </div>

                    </div>
                    <div style="float: right; width: 40%; margin-right: 59px">
                      <div class="col-md-8 mt-10">
                        <label class="form-label">Remark</label>
                      </div>
                      <div class="col-md-12">
                        <input class="form-control" [(ngModel)]="rentRemarkList[index]" rows="1">
                      </div>
                    </div>
                  </div>
                </div>
                <div>
                  <i class="fa fa-times text-red font-18"
                    (click)="removeSelectedTransactionDocumentRental(index)"></i>
                </div>
              </label>
            </div>
            <!-- <div *ngIf="rentalIncomeReceipt.length > 0" class="fileuploadbox">
              Selected Files
              <label *ngFor="let item of rentalIncomeReceipt; let index = index" class="filelabeldisplay">
                <div class="text-ellipsis">
                  <i class="fa fa-paperclip"> </i>
                  <span class="title">
                    {{ item.name }}
                  </span>
                </div>
                <div>
                  <i class="fa fa-times text-red font-18" (click)="removeSelectedTransactionDocumentRental(index)"></i>
                </div>
              </label>
            </div> -->
          </div>
          <!-- <div class="col-md-12 mt-10">
            <label class="form-label">Remark</label>
          </div> -->
          <!-- <div class="col-md-12">
            <textarea class="form-control" [(ngModel)]="documentRemark" rows="2"></textarea>
          </div> -->
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">
      Ok
    </button>
  </div>
</ng-template>

<ng-template #template7>
  <div class="modal-header">
    <h5 class="modal-title" id="UploadModalLabel">Upload Document</h5>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="card">
      <div class="card-body">
        <div class="row clearfix">
          <!-- <div class="col-md-12">
           <label class="form-label">Upload File here :</label>
        </div> -->
          <div class="col-md-12">
            <div class="fileuploadbox bg-color-lightgray">
              <label class="filelabel">
                <i class="fa fa-upload"> </i>
                <span class="title"> Choose file </span>
                <input class="FileUpload1" class="dropify" (change)="onUploadMuniciple($event)"
                  accept=".jpg , .jpeg, .pdf , .png" id="FileInput" type="file" multiple />
              </label>
            </div>
            <div *ngIf="municipalTaxReceipt.length > 0 " class="fileuploadbox">
              Selected files
              <label *ngFor="let item of municipalTaxReceipt;  let index = index;" class="filelabeldisplay">
                <div class="text-ellipsis"><i class="fa fa-paperclip">
                  </i>
                  <span class="title">
                    {{ item.name }}
                  </span>
                  <div>
                    <div style="float: left; width: 40%;">
                      <div class="col-md-8 mt-10">
                        <label class="form-label">Password</label>
                      </div>
                      <div class="col-md-12">
                        <input class="form-control" [(ngModel)]="municipleDocumentPassword[index]" rows="1">
                      </div>

                    </div>
                    <div style="float: right; width: 40%; margin-right: 59px">
                      <div class="col-md-8 mt-10">
                        <label class="form-label">Remark</label>
                      </div>
                      <div class="col-md-12">
                        <input class="form-control" [(ngModel)]="municipleRemarkList[index]" rows="1">
                      </div>
                    </div>
                  </div>
                </div>
                <div>
                  <i class="fa fa-times text-red font-18"
                    (click)="removeSelectedTransactionDocumentMunciple(index)"></i>
                </div>
              </label>
            </div>
            <!-- <div *ngIf="municipalTaxReceipt.length > 0" class="fileuploadbox">
              Selected Files
              <label *ngFor="let item of municipalTaxReceipt; let index = index" class="filelabeldisplay">
                <div class="text-ellipsis">
                  <i class="fa fa-paperclip"> </i>
                  <span class="title">
                    {{ item.name }}
                  </span>
                </div>
                <div>
                  <i class="fa fa-times text-red font-18"
                    (click)="removeSelectedTransactionDocumentMunciple(index)"></i>
                </div>
              </label>
            </div> -->
          </div>
         <!--  <div class="col-md-12 mt-10">
            <label class="form-label">Remark</label>
          </div>
          <div class="col-md-12">
            <textarea class="form-control" [(ngModel)]="documentRemark" rows="2"></textarea>
          </div> -->
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <!-- <button type="button" class="btn btn-primary">Save</button>  -->
    <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">
      Ok
    </button>
  </div>
</ng-template>
<ng-template #template5>
  <div class="modal-header">
    <h5 class="modal-title" id="UploadModalLabelas">
      Computation on Income/ Loss on Housing Property
    </h5>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="card">
      <div class="card-body pt-0">
        <div class="row clearfix">
          <!-- <div class="col-md-12">
                  <label class="form-label">Upload File here :</label>
                  </div> -->
          <div class="col-md-12">
            <div class="row pt-10 mt-10 bg-color-light_gray d-flex">
              <div class="ml-2 pl-1 pr-0">
                <label class="form-label mt-1">Usage Type</label>
              </div>
              <div class="ml-2 pl-1 pr-0 col-md-0" *ngFor="let usage of showUsageType">
                <label class="font-12 text-ellipsis mt-1" placement="left" [adaptivePosition]="false" tooltip="{{
                  (usage.fromDate | date: 'dd-MMM-yyyy') +
                    ' to ' +
                    (usage.toDate | date: 'dd-MMM-yyyy')
                }}">
                  {{ usage.usageType }}
                </label>
              </div>
              <div class="ml-2 pl-1 pr-0">
                <label class="form-label mt-1 pl-10">% Claimed</label>
              </div>
              <div class="ml-2 pl-1 pr-0 col-md-1">
                <label class="font-12 text-ellipsis mt-1" placement="left" [adaptivePosition]="false" tooltip="{{lossIncomeAmountCalculation.percentageClaimedByEmployee}}%">
                  {{
                    lossIncomeAmountCalculation.percentageClaimedByEmployee
                    }}%
                </label>
              </div>
              <div class="ml-2 pl-1 pr-0">
                <label class="form-label mt-1">Loan Sanctioned Date</label>
              </div>
              <div class="ml-2 pl-1 pr-0 col-md-2">
                <label class="font-12 text-ellipsis mt-1" placement="left" [adaptivePosition]="false"
                  tooltip="{{lossIncomeAmountCalculation.loanSanctionedDate | date: 'dd-MMM-yyyy'}}">
                  {{
                    lossIncomeAmountCalculation.loanSanctionedDate | date: 'dd-MMM-yyyy'
                    }}
                </label>
              </div>
              <div class="ml-2 pl-1 pr-0">
                <label class="form-label mt-1">Purpose of Loan</label>
              </div>
              <div class="ml-2 pl-1 pr-0 col-md-2">
                <label class="font-12 text-ellipsis mt-1" placement="left" [adaptivePosition]="false"
                  tooltip="Purchase or Construction">
                  Purchase or Construction
                </label>
              </div>
            </div>
            <div class="row mt-20">
              <div class="col-md-12">
                <h3 class="font-14 text-purple font-bold">
                  Computation on Income/ Loss on Housing Property
                </h3>
              </div>
              <div class="col-md-12">
                <div class="table-responsive Custom_Table">
                  <table class="table table-striped table-hover table-bordered mb-0">
                    <tr class="table-light-color">
                      <td class="align-right font700">
                        Rental Income Minus Municipal Tax &nbsp;
                        <span class="Letterbadge">A</span>
                      </td>
                      <td class="align-right bg-color-lightgray font700">
                        {{
                        lossIncomeAmountCalculation.rentalMinusMuncipalTax
                        | number: "1.2-2"
                        }}
                      </td>
                    </tr>
                    <tr class="table-light-color">
                      <td class="align-right font700">
                        Standard Deduction &nbsp;
                        <span class="Letterbadge">B</span> &nbsp;= 30 % of
                        &nbsp; <span class="Letterbadge">A</span>
                      </td>
                      <td class="align-right bg-color-lightgray">
                        {{
                        lossIncomeAmountCalculation.standardDeduction
                        | number: "1.2-2"
                        }}
                      </td>
                    </tr>
                    <tr class="table-light-color">
                      <td class="align-right font700">
                        Interest Payment &nbsp;
                        <span class="Letterbadge">C</span>
                      </td>
                      <td class="align-right bg-color-lightgray">
                        {{
                        lossIncomeAmountCalculation.interestPayment
                        | number: "1.2-2"
                        }}
                      </td>
                    </tr>
                    <tr class="table-light-color">
                      <td class="align-right font700">
                        Total Pre - EMI Interest Paid &nbsp;
                        <span class="Letterbadge">D</span>
                      </td>
                      <td class="align-right bg-color-lightgray text-dark">
                        {{
                        lossIncomeAmountCalculation.totalPreEMIInterestPaid
                        | number: "1.2-2"
                        }}
                      </td>
                    </tr>
                    <tr class="table-light-color">
                      <td class="align-right font700">
                        Pre EMI Interest Claimed &nbsp;
                        <span class="Letterbadge">E</span> &nbsp; = 20 % of
                        &nbsp; <span class="Letterbadge">D</span>
                      </td>
                      <td class="align-right bg-color-lightgray">
                        {{
                        lossIncomeAmountCalculation.preEMIInterestClaimed
                        | number: "1.2-2"
                        }}
                      </td>
                    </tr>
                    <tr class="table-light-color">
                      <td class="align-right font700">
                        Total Interest &nbsp;
                        <span class="Letterbadge">F</span>&nbsp; =&nbsp;<span class="Letterbadge">C</span>
                        + &nbsp; <span class="Letterbadge">E</span>
                      </td>
                      <td class="align-right bg-color-lightgray">
                        {{
                        lossIncomeAmountCalculation.totalInterest
                        | number: "1.2-2"
                        }}
                      </td>
                    </tr>
                    <tr class="table-light-color">
                      <td class="align-right font700">
                        Balance &nbsp;
                        <span class="Letterbadge">G</span>&nbsp; =
                        <span class="Letterbadge">A</span> &nbsp; Minus (
                        <span class="Letterbadge">B</span> &nbsp; +
                        <span class="Letterbadge">F</span> )
                      </td>
                      <td class="align-right bg-color-lightgray">
                        {{
                        lossIncomeAmountCalculation.balance
                        | number: "1.2-2"
                        }}
                      </td>
                    </tr>
                    <tr class="table-light-color">
                      <td class="align-right font700">
                        % Claimed by Employee &nbsp;
                        <span class="Letterbadge">H</span>
                      </td>
                      <td class="align-right bg-color-lightgray">
                        {{
                        lossIncomeAmountCalculation.percentageClaimedByEmployee
                        | number: "1.2-2"
                        }}
                      </td>
                    </tr>
                    <tr class="table-light-color">
                      <td class="align-right font700">
                        Proportionate Balance: &nbsp;
                        <span class="Letterbadge">I</span> &nbsp; =
                        <span class="Letterbadge">G</span> &nbsp; *
                        <span class="Letterbadge">H</span> &nbsp; / &nbsp; 100
                      </td>
                      <td class="align-right bg-color-lightgray">
                        {{
                        lossIncomeAmountCalculation.interestRepaymentBenefit
                        | number: "1.2-2"
                        }}
                      </td>
                    </tr>
                    <tr class="table-light-color">
                      <td class="align-right font700">
                        Limit &nbsp; <span class="Letterbadge">J</span>
                      </td>
                      <td class="align-right bg-color-lightgray">
                        {{
                        lossIncomeAmountCalculation.limit | number: "1.2-2"
                        }}
                      </td>
                    </tr>
                    <tr class="table-light-color">
                      <td class="align-right font700">
                        Income/ ( Loss ) from House Property &nbsp;
                        <span class="Letterbadge">K</span> &nbsp; = &nbsp;
                        Minimum of &nbsp;
                        <span class="Letterbadge">I</span> &nbsp; and &nbsp;
                        <span class="Letterbadge">J</span> &nbsp;
                      </td>
                      <td class="align-right bg-color-lightgray">
                        {{
                        lossIncomeAmountCalculation.incomeOrLossFromHouseProperty
                        | number: "1.2-2"
                        }}
                      </td>
                    </tr>
                    <tr class="bg-color-white">
                      <td colspan="2" class="align-left font700 text-purple font-18">
                        Proportionate Principal Repayment
                      </td>
                    </tr>
                    <tr class="table-light-color">
                      <td class="align-right font700">
                        Principal Repayment &nbsp;
                        <span class="Letterbadge">L</span>
                      </td>
                      <td class="align-right bg-color-lightgray">
                        {{
                        lossIncomeAmountCalculation.principalRepayment
                        | number: "1.2-2"
                        }}
                      </td>
                    </tr>
                    <tr class="table-light-color">
                      <td class="align-right font700">
                        % Claimed by Employee &nbsp;
                        <span class="Letterbadge">M</span>
                      </td>
                      <td class="align-right bg-color-lightgray">
                        {{
                        lossIncomeAmountCalculation.percentageClaimedByEmployee
                        | number: "1.2-2"
                        }}
                      </td>
                    </tr>
                    <tr class="table-light-color">
                      <td class="align-right font700">
                        Proportionate Balance &nbsp;
                        <span class="Letterbadge">N</span> &nbsp; = &nbsp;
                        <span class="Letterbadge">L</span> * &nbsp;
                        <span class="Letterbadge">M</span> &nbsp; / &nbsp; 100
                      </td>
                      <td class="align-right bg-color-lightgray font700">
                        {{
                        lossIncomeAmountCalculation.principalRepaymentBenefit
                        | number: "1.2-2"
                        }}
                      </td>
                    </tr>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <!-- <button type="button" class="btn btn-primary">Save</button>  -->
    <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">
      Close
    </button>
  </div>
</ng-template>
<ng-template #template8>
  <div class="modal-header">
    <h5 class="modal-title" id="jasdjgh">Remark</h5>
    <button
      type="button"
      (click)="modalRef.hide()"
      class="close"
      data-dismiss="modal"
      aria-label="Close"
    >
      <span aria-hidden="true">×</span>
    </button>
  </div>

  <div class="card-body">
    <div *ngFor="let documentRemark of documentRemarkList">
      <div class="row">
        <div class="col-md-6">
          <span class="form-label"
            >{{ documentRemark.role }}:
            <b class="text-gray">{{
              documentRemark.remarkBy
            }}</b></span
          >
        </div>
        <div class="col-md-6">
          <div class="float-right">
            <span class="form-label">
              Date:
              <b class="text-gray">{{
                documentRemark.remarkDate
                  | date: "dd-MMM-yyyy HH:mm"
              }}</b>
            </span>
          </div>
        </div>
      </div>
      <div class="row">
        <textarea class="form-control remarktext" disabled>
        {{ documentRemark.remark }}
        </textarea>
      </div>
    </div>
    <div class="row mt-25">
      <div class="col-md-12">
        <h6 class="modal-title" id="jasdjgh">Enter New Remark</h6>
        <textarea type="text" [(ngModel)]="enteredRemark"  
        (change)= "
        onChangeDocumentRemark(
          this.summaryDetails, this.indexCount,
            $event
          )
        "  class="form-control" placeholder="Remark"></textarea>
      </div>
    </div>
  </div>
  <div *ngIf="!this.summaryDetails?.proofSubmissionId" class="modal-footer">
    <button
      type="button"
      class="btn btn-secondary"
      (click)="onResetRemarkDetails()"
    >
    Reset
    </button>
    <button
      type="button"
      class="btn btn-secondary"
      (click)="modalRef.hide()"
    >
      Ok
    </button>
  </div>
  <div *ngIf="this.summaryDetails?.proofSubmissionId" class="modal-footer">
    <button
      type="button"
      class="btn btn-secondary"
      (click)="onResetRemarkDetails()"
    >
    Reset
    </button>
    <button
      type="button"
      class="btn btn-secondary"
      (click)="onSaveRemarkDetails(this.indexCount)"
    >
      Save
    </button>
  </div>
</ng-template>