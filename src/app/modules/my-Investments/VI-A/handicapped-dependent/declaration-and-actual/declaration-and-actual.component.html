<div class="tabview-contents">
  <div>
    <div class="row mt-15" *ngIf="visibilityFlagCurrent">
      <div class="col-12">
        <div class="table-responsive Custom_Table">
          <table class="table table-striped table-hover table-bordered m-b-0">
            <thead class="thead-dark">
              <tr>
                <th rowspan="2" class="wd-4">
                  <label class="custom-control custom-checkbox checkbox-center" tooltip="Select All">
                    <input type="checkbox" class="custom-control-input" [ngModel]="isCheckAll" [disabled]="disableOnView"
                      name="select" (change)="checkUncheckAll()" />
                    <span class="custom-control-label"></span>
                  </label>
                </th>
                <!-- <th rowspan="2" class="wd-4 font700">Select</th> -->
                <th rowspan="2" class="wd-10 font700">Family Member Name</th>
                <!-- <th rowspan="2" class="wd-11 font700">Severity Lavel % and Disability Type</th> -->
               
                <th rowspan="2" class="wd-11 font700">Disability Type</th>
                <th rowspan="2" class="wd-11 font700">Severity Level %</th>
                <th rowspan="2" class="wd-9 font700">Declared Amount</th>
                <th rowspan="2" class="wd-9 font700">Actual Amount</th>
                <th colspan="2" class="wd-11 font700">Approval Amount</th>
                <th rowspan="2" class="wd-7 font700">Remark</th>
                <th rowspan="2" class="wd-6"><span tooltip="PS. ID.">PS. ID.</span></th>
                <th rowspan="2" class="wd-7 font700">Status</th>
                <th rowspan="2" class="wd-7 font700">Action</th>
              </tr>
              <tr>
                <th>Rejected</th>
                <th>Approved</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let element of currentEmployerHandicappedDependentResponseList;
                 let i = index; let j = index">
                <td>
                  <label class="custom-control custom-checkbox checkbox-center" *ngIf="isDisabled && element.transactionStatus !== 'Submitted'  && element.transactionStatus !== 'Approved' && element.transactionStatus !== 'SendBack'"
                    tooltip="Select institution for proof submission">
                    <input type="checkbox" [ngModel]="enableSelectAll"
                      [disabled]="element.transactionStatus == 'Submitted' || disableOnView" (change)="
                      onSelectCurrentEmp(element, $event, i);
                     " class="custom-control-input" value="option{{ element.handicappedDependentTransactionId }}" />
                    <span class="custom-control-label"></span>
                  </label>
                </td>
<!-- 
                <td>
                  <label class="custom-control custom-checkbox checkbox-center"
                    tooltip="Select institution for proof submission">
                    <input type="checkbox" [ngModel]="enableSelectAll" [name]='test'  [checked]="currentlyChecked == element.handicappedDependentTransactionId"
                      [disabled]="element.transactionStatus == 'Submitted'" (change)="
                      onSelectCurrentEmp(element, $event, i, element.handicappedDependentTransactionId);
                     " class="custom-control-input" value="option{{ element.handicappedDependentTransactionId }}" />
                    <span class="custom-control-label"></span>
                  </label>
                </td> -->
                <!-- <td>
                  <label class="custom-control custom-checkbox checkbox-center"
                    tooltip="Select institution for proof submission">
                    <input type="checkbox"
                      (change)="onEmployerCheckboxSelect(currEmpFormArrayElement, currEmpFormArrayElement.value.handicappedDependentTransactionId, $event)"
                      class="custom-control-input" formControlName="checkboxx" />
                    <span class="custom-control-label"></span>
                  </label>
                </td> -->
                <td class="align-left">
                  <!-- <select class="form-control custom-select"
                    [(ngModel)]="element.handicappedDependentDetailMaster.familyMemberInfoId"
                    [disabled]="element.transactionStatus == 'Submitted'">
                    <option *ngFor="let familyMember of familyMemberName" [value]="familyMember.value" [selected]="
                       familyMember.value == element.handicappedDependentDetailMaster.familyMemberInfoId">
                      {{ familyMember.label}}
                    </option>

                  </select> -->
                  <span tooltip="{{ element.handicappedDependentDetailMaster.familyMemberName }}">{{
                    element.handicappedDependentDetailMaster.familyMemberName }}</span>
                </td>
                <!-- <td>
                  {{ element.handicappedDependentDetailMaster.severity }} <br /> {{
                  element.handicappedDependentDetailMaster.disabilityType }}
                </td> -->
              
                <td>
                  {{element.handicappedDependentDetailMaster.disabilityType}}
                </td>
                <td>
                  {{ element.handicappedDependentDetailMaster.severity}}
                </td>
                <td class="align-right">
                  <!-- <input type="text" value="{{element.declaredAmount}}" disabled class="form-control align-right"
                    (change)="onDeclaredAmountChange(element, i, j)" /> -->
                  {{ element.declaredAmount}}
                </td>



                <td class="align-right">
                  <!-- <input type="text" value="{{element.actualAmount}}" disabled class="form-control align-right" /> -->
                {{element.actualAmount}}

                </td>
                <!-- <td>
                  
                  <input type="text" value="{{ element.amountRejected | number: '1.2-2' }}"
                    class="form-control align-right" disabled />
                </td> -->
                <td class="wd-6 align-right">
                  <span  class="padding-right-5" tooltip="{{element.amountRejected | number:'1.2-2'}}">
                  {{element.amountRejected | number:'1.2-2'}}
                  </span>
               </td>
               <td class="wd-6 align-right">
                <span  class="padding-right-5" tooltip="{{element.amountApproved | number:'1.2-2'}}">
                {{element.amountApproved | number:'1.2-2'}}
                </span>
             </td>
                <!-- <td>
                  <input type="text" value="{{ element.amountApproved | number: '1.2-2' }}"
                    class="form-control align-right" disabled />
                </td> -->
                <!-- <td>
                  <span tooltip="{{ element.remark }}">
                    {{ element.remark }}
                  </span>
                </td> -->
                <td>
                  <div class="d-flex"
                  class="align-center">
                    <!-- <input
                    style="width:100px;"
                      type="text"
                      class="form-control"
                      [disabled]=" isDisabled || summary.transactionStatus === 'Submitted'"
                      
                      (change)="
                      onChangeDocumentRemark(
                          summary, i,
                          $event
                        )
                      "
                    
                    /> -->
                    <div
                      _ngcontent-ykc-c443=""
                      class="
                        custom_Label_badge
                        mr-2
                        ml-2
                      "
                    >
                      <b>
                        <i
                          (click)="
                            docRemarkModal1(
                              template8,
                              documentDetailIndex,
                              element?.handicappedDependentTransactionId,
                              element, i
                            )
                          "
                          class="
                            fa fa-commenting
                            text-dark-green
                            fa-2x
                            cursor-pointer
                          "
                        >
                        </i
                      ></b>
                      <span
                        _ngcontent-ykc-c443=""
                        class="Label_badge"
                        >{{
                          element?.bubbleRemarkCount
                        }}</span
                      >
                    </div>
                  </div>
                </td>
                <!-- <td>
                  <span tooltip="{{ element.proofSubmissionId }}"
                    *ngIf="element.transactionStatus === 'Submitted'">
                    <i class="fa fa-clipboard font-16 text-cyan" aria-hidden="true"></i>
                    {{ summary.proofSubmissionId }}
                  </span>
                </td> -->
                <td>
                  <!-- <span tooltip="{{ element.proofSubmissionId }}">
                    {{ element.proofSubmissionId }}
                  </span> -->
                  <span tooltip="{{element.proofSubmissionId }}" *ngIf="element.transactionStatus === 'Submitted'  || element.transactionStatus === 'Approved' || element.transactionStatus === 'Re-Open' || element.transactionStatus === 'SendBack'">
                    <i class="fa fa-clipboard font-16 text-cyan" aria-hidden="true"></i>
                    <!-- {{ summary.proofSubmissionId }} -->
                  </span>
                  <!-- <span tooltip="{{ physicallyHandicappedDetail.proofSubmissionId }}"
                    *ngIf="physicallyHandicappedDetail.transactionStatus === 'Submitted'">
                    <i class="fa fa-clipboard font-16 text-cyan" aria-hidden="true"></i>
                  </span> -->
                </td>
                <td class="wd-6">
                  <span class="badge" [ngClass]="{'badge-primary': element.transactionStatus=='Re-Open',
                  ' badge-success': element.transactionStatus=='Approved',
                  'badge-danger': element.transactionStatus=='SendBack',
                  'badge-info': element.transactionStatus=='Submitted',
                  'badge-warning': element.transactionStatus=='Pending'}" tooltip="{{ element.transactionStatus }}">
                    {{ element.transactionStatus }}
                  </span>
                </td>
                <td>

                  <!-- <i class="fa fa-times text-red font700 font-16" (click)="deleteRows(i)" tooltip="Delete Record"></i> -->
                </td>

              </tr>
              <!-- <tr role="form" (ngSubmit)="upload(formDirective)" #formDirective="ngForm" method="post" novalidate
                *ngFor="let currEmpFormArrayElement of currEmpFormArray['controls']; let i=index"
                [formGroup]="currEmpFormArrayElement">
                <td>
                  <label class="custom-control custom-checkbox checkbox-center"
                    tooltip="Select institution for proof submission">
                    <input type="checkbox"
                      (change)="onEmployerCheckboxSelect(currEmpFormArrayElement, currEmpFormArrayElement.value.handicappedDependentDetailMasterId, $event)"
                      class="custom-control-input" formControlName="checkboxx" />
                    <span class="custom-control-label"></span>
                  </label>
                </td>
                <td>
                  <select formControlName="familyMemberInfoId" class="form-control custom-select"
                    (change)="OnSelectionfamilyMemberGroup(currEmpFormArrayElement, $event)"
                    [ngClass]="{
                     'is-invalid': submitted && currEmpFormArrayElement.get('familyMemberInfoId').hasError('required') }">
                    <option [ngValue]="null">Select</option>
                    <option *ngFor="let element of remainingFamilyMemberName" [value]="element.value">
                      {{ element.label }}
                    </option>
                  </select>
                </td>
                <td>
                  <span>
                    {{ currEmpFormArrayElement.value.severity }} <br />
                    {{ currEmpFormArrayElement.value.disabilityType }}
                  </span>
                </td>
                <td>
                  <span tooltip="{{ currEmpFormArrayElement.value.limit }}">
                    {{ currEmpFormArrayElement.value.limit }}
                  </span>
                </td>
                <td>
                  <span tooltip="{{ currEmpFormArrayElement.value.limit }}">
                    {{ currEmpFormArrayElement.value.limit }}
                  </span>
                </td>
                <td>
                  <input type="text" formControlName="accepted" class="form-control align-right" />
                </td>
                <td>
                  <input type="text" formControlName="rejected" class="form-control align-right" />
                </td>
                <td>
                </td>
                <td>
                  <span tooltip="{{ currEmpFormArrayElement.value.proofSubmissionId }}">
                    {{ currEmpFormArrayElement.value.proofSubmissionId }}
                  </span>
                </td>
                <td class="text-orange font700">
                  <span tooltip="{{ currEmpFormArrayElement.value.transactionStatus }}">
                    {{ currEmpFormArrayElement.value.transactionStatus }}
                  </span>
                </td>
                <td>
                  <i class="fa fa-times text-red font700 font-16" (click)="deleteRows(i)" tooltip="Delete Record"></i>
                </td>
              </tr> -->
              <!-- <tr>
                <td colspan="11" class="align-right font700 font-16 text-light-green cursor-pointer">
                  <i class="fa fa-plus-circle font-20" tooltip="Add" (click)="addCurrentEmployerRow()"></i>
                  <span tooltip="Add Row">Add</span>&nbsp;&nbsp;
                  <i class="fa fa-times font-16 text-red cursor-pointer" *ngIf="hideRemoveRow" tooltip="Cancel"
                   (click)="deleteRow(currentEmployerHandicappedDependentResponseList.length + 1)"></i>
                </td>
              </tr> -->
              <!-- <tr>
               <td
                 *ngIf="previousEmployeeList?.length"
                 class="bg-lightgray font-18 font700 align-right"
               ></td>
               <td class="bg-lightgray font-18 font700 align-right">Total</td>
               <td class="bg-lightgray font-18 font700 align-right"></td>
               <td class="bg-lightgray font-18 font700 align-right">
                 <span tooltip=" {{ grandDeclarationTotal | number: '1.2-2' }}" class="padding-right-12">
                   {{ grandDeclarationTotal | number: "1.2-2" }}
                 </span>
               </td>
               <td class="bg-lightgray font-18 font700 align-right">
                 <span tooltip="{{ grandActualTotal | number: '1.2-2' }}" class="padding-right-12">
                   {{ grandActualTotal | number: "1.2-2" }}
                 </span>
               </td>
               <td class="bg-lightgray font-18 font700 align-right">
                 <span tooltip=" {{ grandRejectedTotal | number: '1.2-2' }}" class="padding-right-12">
                   {{ grandRejectedTotal | number: "1.2-2" }}
                 </span>
               </td>
               <td class="bg-lightgray font-18 font700 align-right">
                 <span tooltip="{{ grandApprovedTotal | number: '1.2-2' }}" class="padding-right-12">
                   {{ grandApprovedTotal | number: "1.2-2" }}
                 </span>
               </td>
               <td class="bg-lightgray font-18 font700"></td>
                <td class="bg-lightgray font-18 font700"></td>
                <td class="bg-lightgray font-18 font700"></td>
             </tr> -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <hr />
  </div>
  <div *ngIf="previousEmployeeList.length > 0">
  <h3 class="font-14 text-purple font-bold">Previous Employer</h3>
  <div>
    <div class="row mt-15">
      <div class="col-12">
        <div class="table-responsive Custom_Table">
          <table class="table table-striped table-hover table-bordered m-b-0">
            <thead class="thead-dark">
              <tr>
                <th rowspan="2" class="wd-4">
                  <label class="custom-control custom-checkbox checkbox-center" tooltip="Select All">
                    <input type="checkbox" class="custom-control-input" [ngModel]="isCheckAll" [disabled]="disableOnView"
                      name="select" (change)="checkUncheckAll()" />
                    <span class="custom-control-label"></span>
                  </label>
                </th>
                <!-- <th rowspan="2" class="wd-4 font700">Select</th> -->
                <th rowspan="2" class="wd-15 font700">Previous Employer Name</th>
                <th rowspan="2" class="wd-11 font700">Family Member Name</th>
                <th rowspan="2" class="wd-11 font700">Severity Lavel % and Disability Type</th>
                <th rowspan="2" class="wd-9 font700">Actual Amount</th>
                <th colspan="2" class="wd-11 font700">Receipt Amount</th>
                <th rowspan="2" class="wd-15 font700">Remark</th>
                <th rowspan="2" class="wd-5">PS. ID.</th>
                <th rowspan="2" class="wd-7 font700">Status</th>
                <th rowspan="2" class="wd-7 font700">Action</th>
              </tr>
              <tr>
                <th>Rejected</th>
                <th>Approved</th>
              </tr>
            </thead>

            <tbody>
              <tr *ngFor="let summary of previousEmployerHandicappedDependentResponseList;
                 let i = index;  count as c">
                <td>
                  <label class="custom-control custom-checkbox checkbox-center" *ngIf="!disableOnView && summary.transactionStatus !== 'Submitted'  && summary.transactionStatus !== 'Approved' && summary.transactionStatus !== 'SendBack'"
                    tooltip="Select institution for proof submission">
                    <input type="checkbox" [ngModel]="enableSelectAll"
                      
                      [disabled]="disableOnView ||  summary.transactionStatus == 'Submitted'" (change)="
                      onSelectCheckBoxPrevious(summary, $event, i);
                   " class="custom-control-input" value="option{{ summary.handicappedDependentTransactionId }}" />
                    <span class="custom-control-label"></span>
                  </label>
                  <!-- <label *ngIf="!isDisabled" class="custom-control custom-checkbox checkbox-center">
                 <input type="checkbox" [ngModel]="enableSelectAll"
                   [disabled]="isDisabled || summary.proofSubmissionId" (change)="
                     onSelectCheckBox(summary, $event, i);"
                     class="custom-control-input" value="option{{ summary.handicappedDependentTransactionId }}" />
                 <span class="custom-control-label"></span>
               </label> -->
                </td>
                <!-- [disabled]="summary.transactionStatus == 'Submitted' || disableOnView" -->
                <td *ngIf="previousEmployeeList?.length">
                  <select class="form-control custom-select" disabled [(ngModel)]="summary.previousEmployerId">


                    <option [ngValue]="0">Select Previous Emp.</option>
                    <option *ngFor="let previousEmployee of previousEmployeeList" [value]="previousEmployee.value"
                      [selected]="
                       previousEmployee.value == summary.previousEmployerId">
                      {{ previousEmployee.label }}
                    </option>

                  </select>
                </td>
                <td>
                  <!-- <select class="form-control custom-select" disabled
                    [(ngModel)]="summary.handicappedDependentDetailMaster.familyMemberInfoId">
                    <option [ngValue]="0">Select </option>
                    <option *ngFor="let familyMember of familyMemberName" [value]="familyMember.value" [selected]="
                       familyMember.value == summary.handicappedDependentDetailMaster.familyMemberInfoId">
                      {{ familyMember.label }}
                    </option>>
                  </select> -->
                  <span>
                    {{ summary.handicappedDependentDetailMaster.familyMemberName}}
                  </span>
                </td>
                <td>
                  <span>
                    {{ summary.handicappedDependentDetailMaster.severity }} <br />
                    {{ summary.handicappedDependentDetailMaster.disabilityType }}
                  </span>
                </td>
                <td>
                  <label  tooltip="{{summary.actualAmount}}"  placement="bottom">
                  <input type="text" value="{{ summary.actualAmount }}" class="form-control align-right" disabled />
                </label>
                </td>
                <!-- <td>
                  <input type="text" value="{{ summary.amountRejected | number: '1.2-2' }}"
                    class="form-control align-right" disabled />
                </td> -->
                <td class="wd-6 align-right">
                  <span  class="padding-right-5" tooltip="{{summary.amountRejected | number:'1.2-2'}}">
                  {{summary.amountRejected | number:'1.2-2'}}
                  </span>
               </td>
                <!-- <td>
                  <input type="text" value="{{ summary.amountApproved | number: '1.2-2' }}"
                    class="form-control align-right" disabled />
                </td> -->
                <td class="wd-6 align-right">
                  <span  class="padding-right-5" tooltip="{{summary.amountApproved | number:'1.2-2'}}">
                  {{summary.amountApproved | number:'1.2-2'}}
                  </span>
               </td>
                <!-- <td>
                  <span tooltip="{{ summary.remark }}">
                    {{ summary.remark }}
                  </span>
                </td> -->
                <td>
                  <div class="d-flex"
                  class="align-center">
                    <!-- <input
                    style="width:100px;"
                      type="text"
                      class="form-control"
                      [disabled]=" isDisabled || summary.transactionStatus === 'Submitted'"
                      
                      (change)="
                      onChangeDocumentRemark(
                          summary, i,
                          $event
                        )
                      "
                    
                    /> -->
                    <div
                      _ngcontent-ykc-c443=""
                      class="
                        custom_Label_badge
                        mr-2
                        ml-2
                      "
                    >
                      <b>
                        <i
                          (click)="
                          docRemarkModal(
                            template9,
                            documentDetailIndex,
                            summary?.handicappedDependentTransactionId,
                            summary, i
                          )
                          "
                          class="
                            fa fa-commenting
                            text-dark-green
                            fa-2x
                            cursor-pointer
                          "
                        >
                        </i
                      ></b>
                      <span
                        _ngcontent-ykc-c443=""
                        class="Label_badge"
                        >{{
                          summary?.bubbleRemarkCount
                        }}</span
                      >
                    </div>
                  </div>
                </td>
                <td>
                  <span tooltip="{{ summary.proofSubmissionId }}" *ngIf="summary.transactionStatus === 'Submitted' || summary.transactionStatus === 'Approved' || summary.transactionStatus === 'Re-Open' || summary.transactionStatus === 'SendBack'">
                    <i class="fa fa-clipboard font-16 text-cyan" aria-hidden="true"></i>
                    <!-- {{ summary.proofSubmissionId }} -->
                  </span>
                </td>
                <td class="wd-6">
                  <span class="badge" [ngClass]="{'badge-primary': summary.transactionStatus=='Re-Open',
                  ' badge-success': summary.transactionStatus=='Approved',
                  'badge-danger': summary.transactionStatus=='SendBack',
                  'badge-info': summary.transactionStatus=='Submitted',
                  'badge-warning': summary.transactionStatus=='Pending'}" tooltip="{{ summary.transactionStatus }}">
                    {{ summary.transactionStatus }}
                  </span>
                </td>
                <td>
                  <!-- <button id="remove" (click)="deletePreviousEmployerRow(priviousEmpFormArrayElement)">DELETE</button> -->
                </td>
              </tr>

              <tr role="form" (ngSubmit)="upload(formDirective)" #formDirective="ngForm" method="post" novalidate
                *ngFor="let priviousEmpFormArrayElement of priviousEmpFormArray['controls']; let i=index"
                [formGroup]="priviousEmpFormArrayElement">
                <td>
                  <label class="custom-control custom-checkbox checkbox-center"
                    tooltip="Select institution for proof submission">
                    <input type="checkbox"
                      (change)="onEmployerCheckboxSelect(priviousEmpFormArrayElement, priviousEmpFormArrayElement.value.handicappedDependentTransactionId, $event)"
                      class="custom-control-input" formControlName="checkbox1" />
                    <span class="custom-control-label"></span>
                  </label>
                </td>
                <td>
                  <select formControlName="previousEmployerId" class="form-control custom-select"
                    (change)="updatePreviousEmpId(priviousEmpFormArrayElement, $event)"
                    [ngClass]="{
                       'is-invalid': submitted && priviousEmpFormArrayElement.get('previousEmployerId').hasError('required') }">
                    <option [ngValue]="null">Select</option>
                    <option *ngFor="let previousEmployee of previousEmployeeList" [value]="previousEmployee.value">
                      {{ previousEmployee.label }}
                    </option>
                  </select>
                </td>
                <!-- <td>
                  <select formControlName="familyMemberInfoId" class="form-control custom-select"
                    (change)="OnSelectionPreviousfamilyMemberGroup(priviousEmpFormArrayElement, $event)"
                    [ngClass]="{
                     'is-invalid': submitted && priviousEmpFormArrayElement.get('familyMemberInfoId').hasError('required') }">
                    <option [ngValue]="null">Select</option>
                    <option *ngFor="let element of familyMemberName" [value]="element.value">
                      {{ element.familyMemberName }}
                    </option>
                  </select>
                </td> -->

                <td>
                  <select formControlName="familyMemberInfoId" class="form-control custom-select"
                    (change)="OnSelectionfamilyMemberGroup(priviousEmpFormArrayElement, $event)"
                    [ngClass]="{
                     'is-invalid': submitted && priviousEmpFormArrayElement.get('familyMemberInfoId').hasError('required') }">
                    <option [ngValue]="null">Select</option>
                    <option *ngFor="let element of familyMemberName" [value]="element.value">
                      {{ element.label }}
                    </option>
                  </select>
                </td>

                <td>
                  <span>
                    {{ priviousEmpFormArrayElement.value.severity }} <br />
                    {{ priviousEmpFormArrayElement.value.disabilityType }}
                  </span>
                </td>
                <td>
                  <input type="text" formControlName="actualAmount" class="form-control align-right"
                    (change)="onEmployerActualAmountChange(priviousEmpFormArrayElement, $event)"
                    [ngClass]="{
                   'is-invalid': submitted && priviousEmpFormArrayElement.get('actualAmount').hasError('required') }" />
                </td>
                <td>
                  <input type="text" formControlName="accepted" class="form-control align-right" />
                </td>
                <td>
                  <input type="text" formControlName="rejected" class="form-control align-right" />
                </td>
                <td>
                  <!-- <span tooltip="{{ element.remark }}">
                     {{ element.remark }}
                   </span> -->
                </td>
                <td>
                  <span tooltip="{{ priviousEmpFormArrayElement.value.proofSubmissionId }}"
                    *ngIf="priviousEmpFormArrayElement.value.transactionStatus === 'Submitted'">
                    <i class="fa fa-clipboard font-16 text-cyan" aria-hidden="true"></i>
                    <!-- {{ summary.proofSubmissionId }} -->
                  </span>
                </td>
                <td class="text-orange font700">
                  <!-- <span tooltip="{{ priviousEmpFormArrayElement.value.transactionStatus }}">
                    {{ priviousEmpFormArrayElement.value.transactionStatus }}
                  </span> -->
                  <span class="badge" [ngClass]="{'badge-primary': priviousEmpFormArrayElement.value.transactionStatus=='Re-Open',
                  ' badge-success': priviousEmpFormArrayElement.value.transactionStatus=='Approved',
                  'badge-danger': priviousEmpFormArrayElement.value.transactionStatus=='SendBack',
                  'badge-info': priviousEmpFormArrayElement.value.transactionStatus=='Submitted',
                  'badge-warning': priviousEmpFormArrayElement.value.transactionStatus=='Pending'}" tooltip="{{ priviousEmpFormArrayElement.value.transactionStatus }}">
                  {{ priviousEmpFormArrayElement.value.transactionStatus }}</span>
                </td>
                <td>
                  <i class="fa fa-times text-red font700 font-16" (click)="deletePreviousEmployerRow(i)"
                    tooltip="Delete Record"></i>
                  <!-- <button id="remove" (click)="deletePreviousEmployerRow(priviousEmpFormArrayElement)">DELETE</button> -->
                </td>
              </tr>
              <tr>
                <td colspan="11" class="align-right font700 font-16 text-light-green cursor-pointer">
                  <i class="fa fa-plus-circle font-20" tooltip="Add" (click)="addPreviousEmployerRow()"></i>
                  <span tooltip="Add Row">Add</span>&nbsp;&nbsp;
                  <i class="fa fa-times font-16 text-red cursor-pointer" *ngIf="hideRemoveRow" tooltip="Cancel"
                    (click)="deleteRow(previousEmployerHandicappedDependentResponseList.length + 1)"></i>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>


 <div class="row mt-30">
  <div class="col-12">
    <div class="card">
      <div class="mb-0 row">
        <div class="col-md-6">
          <h3 class="font-14 text-purple font-bold">Upload Documents</h3>
        </div>
        <div class="col-md-6">
          <span class="font-bold text-link float-right"></span>
        </div>
      </div>
      <div class="row">
        <div class="col-md-9">
          <div class="table-responsive Custom_Table">
            <table class="table table-striped table-hover table-bordered m-b-0">
              <thead class="thead-dark">
                <tr>
                  <th scope="col" class="font700 wd-8">Sr No.</th>
                  <th scope="col" class="font700 wd-40">Document Type</th>
                  <th scope="col" class="font700 wd-40">Attachments</th>
                  <th scope="col" class="font700 wd-12">Action</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row"><span tooltip="1">1</span></th>
                  <td>
                    <span tooltip="Medical Certificate/Form 10-1A"></span> Medical Certificate/Form 10-1A
                  </td>
                  <td>
                    <span *ngFor="let item of filesArray; let j = index" class="text-orange"
                      tooltip="{{ item.name }}">
                      <i class="fa fa-paperclip" aria-hidden="true"></i>&nbsp;
                      {{ item.name }},
                    </span>
                  </td>
                  <td [disabled] ="disableOnView">
                    <i   [ngClass]="{ 'disabled': disableOnView}" class="fa fa-upload font-16 text-blue cursor-pointer" 
                    tooltip="Upload"
                      (click)="uploadModal(template4)" data-toggle="modal" data-target="#uploadModal"></i>&nbsp;&nbsp;
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row" *ngIf="isVisibleTable" >
  <div class="col-md-12">
    <div class="border-box">
      <div class="row mt-30">
        <div class="col-12">
          <div class="card">
            <div class="mb-0">
              <h3 class="font-14 text-purple font-bold">
                Document
              </h3>
            </div>
            <div class="col-12 col-md-12 col-sm-12">
              <div
                class="table-responsive Custom_Table"
              >
                <p-table
                  *ngIf="documentArray"
                  #dt2
                  [value]="documentArray"
                  [paginator]="true"
                  [rows]="10"
                  [showCurrentPageReport]="true"
                  (sortFunction)="customSort($event)"
                  [customSort]="true"
                  currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                  [rowsPerPageOptions]="[10, 25, 50]"
                  [globalFilterFields]="[
                    'empcode',
                    'empName',
                    'Group',
                    'Frequency',
                    'Type',
                    'proofsubmission',
                    'PSIdDetails',
                    'SubmissionDate',
                    'Status'
                  ]"
                >
                  <ng-template pTemplate="header">
                    <tr>
                      <!-- <th style="width: 3rem">
                        <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                      </th> -->

                      <th>
                        <div
                          class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                        >
                          Date Of Submission
                          <div
                            class="Sort_Filter_Position"
                          >
                            <p-sortIcon
                              field="empcode"
                              pSortableColumn="empcode"
                            ></p-sortIcon>
                            <p-columnFilter
                              field="empcode"
                              display="menu"
                              class="p-ml-auto"
                            >
                            </p-columnFilter>
                          </div>
                        </div>
                      </th>
                      <th>
                        <div
                          class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                        >
                          Document Name
                          <div
                            class="Sort_Filter_Position"
                          >
                            <p-sortIcon
                              field="documentName"
                              pSortableColumn="documentName"
                            ></p-sortIcon>
                            <p-columnFilter
                              field="documentName"
                              display="menu"
                              class="p-ml-auto"
                            >
                            </p-columnFilter>
                          </div>
                        </div>
                      </th>
                      <th>
                        <div
                          class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                        >
                          Document Type
                          <div
                            class="Sort_Filter_Position"
                          >
                            <p-sortIcon
                              field="documentType"
                              pSortableColumn="documentType"
                            ></p-sortIcon>
                            <p-columnFilter
                              field="documentType"
                              display="menu"
                              class="p-ml-auto"
                            >
                            </p-columnFilter>
                          </div>
                        </div>
                      </th>
                      <th>
                        <div
                          class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                        >
                          Password
                          <div
                            class="Sort_Filter_Position"
                          >
                            <p-sortIcon
                              field="empcode"
                              pSortableColumn="empcode"
                            ></p-sortIcon>
                            <p-columnFilter
                              field="empcode"
                              display="menu"
                              class="p-ml-auto"
                            >
                            </p-columnFilter>
                          </div>
                        </div>
                      </th>
                      <th>
                        <div
                          class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                        >
                          Remark
                          <div
                            class="Sort_Filter_Position"
                          >
                            <p-sortIcon
                              field="empcode"
                              pSortableColumn="empcode"
                            ></p-sortIcon>
                            <p-columnFilter
                              field="empcode"
                              display="menu"
                              class="p-ml-auto"
                            >
                            </p-columnFilter>
                          </div>
                        </div>
                      </th>
                      <th>
                        <div
                          class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                        >
                          Status
                          <div
                            class="Sort_Filter_Position"
                          >
                            <p-sortIcon
                              field="empcode"
                              pSortableColumn="empcode"
                            ></p-sortIcon>
                            <p-columnFilter
                              field="empcode"
                              display="menu"
                              class="p-ml-auto"
                            >
                            </p-columnFilter>
                          </div>
                        </div>
                      </th>
                      <th>
                        <div
                          class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                        >
                          Approver Name
                          <div
                            class="Sort_Filter_Position"
                          >
                            <p-sortIcon
                              field="empcode"
                              pSortableColumn="empcode"
                            ></p-sortIcon>
                            <p-columnFilter
                              field="empcode"
                              display="menu"
                              class="p-ml-auto"
                            >
                            </p-columnFilter>
                          </div>
                        </div>
                      </th>
                      <th>
                        <div
                          class="
                            p-d-flex
                            p-jc-between
                            p-ai-center
                          "
                        >
                          Time
                          <div
                            class="Sort_Filter_Position"
                          >
                            <p-sortIcon
                              field="empcode"
                              pSortableColumn="empcode"
                            ></p-sortIcon>
                            <p-columnFilter
                              field="empcode"
                              display="menu"
                              class="p-ml-auto"
                            >
                            </p-columnFilter>
                          </div>
                        </div>
                      </th>
                    </tr>
                  </ng-template>
                  <ng-template
                    pTemplate="body"
                    let-document
                    let-documentIndex = "rowIndex"
                  >
                    <tr class="p-selectable-row">
                      <!-- <td>
                        <p-tableCheckbox
                          [value]="customer"
                        >
                        </p-tableCheckbox>
                      </td> -->
                      <td>
                        {{ document.dateofsubmission | date:'dd-MMM-yyyy' }}
                      </td>
                      <td>
                        <a
                          (click)=" docViewer(template3,documentIndex)"

                        >
                          <i
                            class="
                              fa fa-paperclip
                              text-orange
                            "
                          ></i>
                          &nbsp;
                          {{ document.documentName }}
                        </a>
                      </td>
                      <td>{{ document.documentType }}</td>
                      <td>{{ document.documentPassword }}</td>
                      <td>
                        <!-- <div class="custom_Label_badge">
                          <button
                            class="
                              btn btn-bg-green
                              text-white
                            "
                            (click)="
                              docViewer(template3)
                            "
                          >
                            PSEmp
                          </button>
                          <span class="Label_badge"
                            >2</span
                          >
                        </div> -->
                        {{document.documentRemark}}
                      </td>
                      <td>{{ document.status }}</td>
                      <td>{{ document.lastModifiedBy }}</td>
                      <td>{{ document.lastModifiedTime | date:'dd-MMM-yyyy HH:mm'  }}</td>
                    </tr>
                  </ng-template>
                </p-table>
              </div>
            </div>
            <!-- <div class="row mt-25">
              <div class="col-md-12">
                <div class="float-right">
                  <button
                    type="submit"
                    class="
                      custom_button custom_btn
                      btn-bg-green
                      btn-labeled
                      btn-labeled-left
                      ripple
                      mr-2
                    "
                    tooltip="Approve"
                  >
                    <b>
                      <i class="fa fa-floppy-o"></i
                    ></b>
                    Approve
                  </button>

                  <button
                    type="button"
                    tooltip="Send Back"
                    class="
                      custom_button custom_btn
                      bg-btn-red
                      btn-labeled btn-labeled-left
                      mr-2
                    "
                  >
                    <b><i class="fa fa-times"></i></b>
                    Discard
                  </button>
                </div>
              </div>
            </div> -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


  <div class="row mt-15">
    <div class="col-12">
      <div class="float-right mb-15">
        <!-- (click)="formDirective.ngSubmit.emit() "  -->
        <button (click)="upload()" type="button"
          class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple" tooltip="Save">
          <b> <i class="fa fa-floppy-o"></i></b> Save
        </button>
        <!-- <input (click)="upload()" type="button" value="Save"> -->
      </div>
    </div>
  </div>
  <div class="row mt-10" *ngIf="!isDisabled">
    <div class="col-12">
      <div class="float-right mb-15">
        <button type="button" (click)="upload()"
          class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple">
          <b><i class="fa fa-floppy-o"></i></b> Save
        </button>
      </div>
    </div>
  </div>
  <!-- <div class="row mt-10">
  <div class="col-12">
     <p-messages [(value)]="msgs2" [enableService]="false" width=100></p-messages>
  </div>
  </div> -->
  <div class="row mt-30">
    <div class="col-12">
      <div class="card">
        <div class="mb-10">
          <h3 class="font-14 text-purple font-bold">Summary - PS. ID.</h3>
        </div>
        <div class="">
          <div class="table-responsive Custom_Table">
            <table class="table table-striped table-hover table-bordered m-b-0">
              <thead class="thead-dark">
                <tr>
                  <th scope="col" class="font700 wd-6">PS. ID.</th>
                  <th scope="col" class="font700 wd-6">Date of Submission</th>
                  <th scope="col" class="font700 wd-6">Family Member Name</th>
                  <!-- <th scope="col" class="font700 wd-6">Disability Type & Severity % </th> -->
                  <th scope="col" class="font700 wd-6">Disability Type</th>
                  <th scope="col" class="font700 wd-6">Severity Level % </th>
                 
                  <!-- <th scope="col" class="font700 wd-15">Date of Submission</th> -->
                  <!-- <th scope="col" class="font700 wd-15">Policy No.</th> -->
                  <!-- <th scope="col" class="font700 wd-10">Receipt Amount</th> -->
                   <th scope="col" class="font700 wd-10">Actual Amount</th>
                   <th scope="col" class="font700 wd-10">Rejected Amount</th>
                   <th scope="col" class="font700 wd-10">Approved Amount</th>
                  <th scope="col" class="font700 wd-6"> No. of Documents</th>
                  <th scope="col" class="font700 wd-15">PS. ID. Status</th>
                  <th scope="col" class="font700 wd-15">Action</th>
                  <!-- <th scope="col" class="font700 wd-15">PS. ID. Status</th> -->
                  <!-- <th scope="col" class="font700 wd-10">Action</th> -->
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="
                   let documentSummary of documentInformationResponseList;
                   let documentIndex = index
                 ">
                  <td class="align-left wd-6">
                    <span tooltip="{{ documentSummary.proofSubmissionId }}">
                      {{ documentSummary.proofSubmissionId }}
                    </span>
                  </td>
                  <td class="align-left wd-6">
                    <span tooltip="{{
                       documentSummary.dateOfSubmission | date: 'dd-MMM-yyyy'
                     }}">
                      {{
                      documentSummary.dateOfSubmission | date: "dd-MMM-yyyy"
                      }}</span>
                  </td>
                  <td class="align-left wd-6">
                    <span tooltip="{{ documentSummary.familyMemberName }}">
                      {{ documentSummary.familyMemberName }}
                    </span>
                  </td>
                  <!-- <td class="align-left wd-6">
                    <span>
                      {{documentSummary.severity}} <br /> {{documentSummary.disabilityType}}
                    </span>
                  </td> -->
                  <td class="align-left wd-6">
                    <span>
                    {{documentSummary.disabilityType}}
                    </span>
                  </td>
                  <td class="align-left wd-6">
                    <span>
                      {{documentSummary.severity}}
                    </span>
                  </td>
                  <td class="align-right">
                    <span tooltip="{{ documentSummary.actualAmount | number: '1.2-2' }}">
                      {{ documentSummary.actualAmount | number: '1.2-2' }}
                    </span>
                  </td>
                  <td class="align-right">
                    <span tooltip="{{ documentSummary.amountRejected | number: '1.2-2' }}">
                      {{ documentSummary.amountRejected | number: '1.2-2' }}
                    </span>
                  </td>
                  <td class="align-right">
                    <span tooltip="{{ documentSummary.amountApproved | number: '1.2-2' }}">
                      {{ documentSummary.amountApproved | number: '1.2-2' }}
                    </span>
                  </td>
                  <td class="align-right">
                    <span tooltip="{{ documentSummary.actualAmount | number: '1.2-2' }}">
                      {{ documentSummary.actualAmount | number: '1.2-2' }}
                    </span>
                  </td>
                  <td class="align-right">
                    <span tooltip="{{ documentSummary.amountRejected | number: '1.2-2' }}">
                      {{ documentSummary.amountRejected | number: '1.2-2' }}
                    </span>
                  </td>
                  <td class="align-right">
                    <span tooltip="{{ documentSummary.amountApproved | number: '1.2-2' }}">
                      {{ documentSummary.amountApproved | number: '1.2-2' }}
                    </span>
                  </td>
                  <td>
                    <div class="custom_Label_badge"  style="top: -8px;">
                      <a  class="changeColor"
                            (click)="docViewer(template3, documentSummary.documentInformationResponseList)">
                            <span class="Label_badge">{{
                              documentSummary.documentInformationResponseList.length
                              }}</span>
                              
    
                            </a>
                    </div>
                  </td>
                  <td class="align-center">
                    <span class="badge" [ngClass]="{'badge-primary': documentSummary.transactionStatus=='Re-Open',
                    ' badge-success': documentSummary.transactionStatus=='Approved',
                    'badge-danger': documentSummary.transactionStatus=='SendBack',
                    'badge-info': documentSummary.transactionStatus=='Submitted',
                    'badge-warning': documentSummary.transactionStatus=='Pending'}" tooltip="{{documentSummary.transactionStatus}}">
                      {{documentSummary.transactionStatus}}
                      </span>
                </td>
                <td>
                  <i class="fa fa-eye font-16 text-blue cursor-pointer" (click)="
                  editViewTransaction(
                      template2,
                      documentSummary.proofSubmissionId
                    );
                    viewTransactionDetail = true
                  " tooltip="view"></i> &nbsp;&nbsp;
                  <i  class="fa fa-edit font-16 text-dark-green cursor-pointer" (click)="
                    editViewTransaction(
                        template2,
                        documentSummary.proofSubmissionId
                      );
                      viewTransactionDetail = true
                    " tooltip="Edit"></i>
                </td>
                    <!-- <td>
                    <div class="custom_Label_badge">
                      <button class="btn btn-bg-green text-white"
                        (click)="docViewer(template3, documentSummary.documentInformationResponseList)">
                        Documents
                      </button>
                      <span class="Label_badge">{{
                        documentSummary.documentInformationResponseList.length
                        }}</span>
                    </div>
                  </td> -->
                  <!-- <td class="wd-6">
                    <span class="badge" [ngClass]="{'badge-primary': documentSummary.transactionStatus=='Re-Open',
                    ' badge-success': documentSummary.transactionStatus=='Approved',
                    'badge-danger': documentSummary.transactionStatus=='SendBack',
                    'badge-info': documentSummary.transactionStatus=='Submitted',
                    'badge-warning': documentSummary.transactionStatus=='Pending'}" tooltip="{{documentSummary.transactionStatus}}">
                      {{documentSummary.transactionStatus}}
                      </span>
                </td> -->
                  <!-- <td>
                    <span tooltip="{{
                       documentSummary.dateOfSubmission | date: 'dd-MMM-yyyy'
                     }}">
                      {{
                      documentSummary.dateOfSubmission | date: "dd-MMM-yyyy"
                      }}</span>
                  </td> -->
                  <!-- <td>
                    <div class="custom_Label_badge">
                      <button class="btn btn-bg-green text-white"
                        (click)="docViewer(template3, documentSummary.documentInformationResponseList)">
                        Documents
                      </button>
                      <span class="Label_badge">{{
                        documentSummary.documentInformationResponseList.length
                        }}</span>
                    </div>
                  </td> -->
                  <!-- <td>
                   <i
                     class="fa fa-eye font-16 text-blue cursor-pointer"
                     tooltip="View"
                   ></i
                   >&nbsp;&nbsp;
                   <i
                     class="fa fa-download font-16 text-blue cursor-pointer"
                     tooltip="Download"
                   ></i>
                   <div *ngFor="let doc of urlArray" hidden>
                     <iframe
                       style="height: 100vh; width: 100%; display: block"
                       [src]="doc.blobURI"
                       provider="google"
                     ></iframe>
                   </div>
                   &nbsp;&nbsp;
                   <i
                     class="fa fa-edit font-16 text-dark-green cursor-pointer"
                     (click)="
                       declarationEditUpload(
                         template2,
                         documentSummary.proofSubmissionId
                       );
                       viewDocumentDetail = true
                     "
                     tooltip="Edit"
                   ></i>
                 </td> -->
                </tr>
                <tr *ngIf="!documentInformationResponseList?.length">
                  <td colspan="6">
                    <span class="font-14 font500 align-center text-red">No Data
                      Available</span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #template1>
  <div class="modal-header">
    <h5 class="modal-title" id="UploadedDocumentModalLabel">
      Uploaded Document Details
    </h5>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true"></span>
    </button>
  </div>
  <div class="modal-body">
    <div class="card">
      <div class="card-body pb-0 mt-0 mb-0">
        <div class="row clearfix" *ngFor="let proofSubmissionFile of proofSubmissionFileList">
          <div class="col-md-11">
            <div class="labelbox" tooltip="Document 1">
              <i class="fa fa-paperclip text-orange"></i> &nbsp; {{ proofSubmissionFile.fileName }}
            </div>
          </div>
          <div class="col-md-1">
            <i class="fa fa-eye font-16 text-blue font-900 mt-2" tooltip="View Document"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">
      Ok
    </button>
  </div>
</ng-template>

<ng-template #template2>
  <div class="modal-header">
    <!-- <h5 class="modal-title" id="jasdjgh" *ngIf="viewDocumentDetail">
      Edit Document Details
    </h5>
    <h5 class="modal-title" id="jasdjgh" *ngIf="!viewDocumentDetail">
      View Document Details
    </h5> -->
    <h6 class="modal-title" style="margin: auto;"><b>PS.ID. : </b>
      <label>
        {{ editProofSubmissionId }}</label>
    </h6>
    <h6 class="modal-title" style="margin: auto;"><b>Creation Date : </b>
      <label>
        {{ this.createDateTime | date:'dd-MMM-yyyy' }}</label>
    </h6>
    <h6 class="modal-title" style="margin: auto;"><b>Last Modified Date & Time : </b>
      <label>
        {{ lastModifiedDateTime | date: 'dd-MMM-yyyy HH:mm' }}</label>
    </h6>
    <h6 class="modal-title" style="margin: auto;"><b>Status : </b>
      <label>
        <span class="badge" [ngClass]="{'badge-primary': transactionStatus=='Re-Open',
          ' badge-success': transactionStatus=='Approved',
          'badge-danger': transactionStatus=='SendBack',
          'badge-info': transactionStatus=='Submitted',
          'badge-warning': transactionStatus=='Pending'}" tooltip="{{transactionStatus}}">
        {{ transactionStatus }}</span></label>
    </h6>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true"></span>
    </button>
  </div>
  <div class="card-body Box-Spacing">
    <div *ngFor="let item of editTransactionUpload; let j = index">
      <div class="row mt-15">
        <div class="col-12">
          <div class="table-responsive Custom_Table">

            <table class="table table-striped table-hover table-bordered m-b-0">
              <thead class="thead-dark">
                <tr>
                  <!-- <th rowspan="2" class="wd-10 font700">
                    Previous Employer Name
                  </th>
                  <th rowspan="2" class="wd-10 font700">
                    <span tooltip="Electronic Clearing Service">Disability Type</span>
                  </th>
                  <th rowspan="2" class="wd-11 font700">Severity</th>
                  <th rowspan="2" class="wd-9 font700">Declared</th>
                  <th rowspan="2" class="wd-9 font700">Actual</th>
                  <th colspan="2" class="wd-17 font700">Receipt Amount</th>
                  <th rowspan="2" class="wd-7 font700">Remark</th>
                  <th rowspan="2" class="wd-8">Proof Submission ID</th>
                  <th rowspan="2" class="wd-10 font700">Transaction Status</th> -->
                   <!-- <tr>
                <th rowspan="2" class="wd-4">
                    <label class="custom-control custom-checkbox checkbox-center" tooltip="Select All">
                      <input type="checkbox" class="custom-control-input" [ngModel]="isCheckAll" [disabled]="isDisabled"
                        name="select" value="isCheckAll{{ j }}" (change)="checkUncheckAllCurrentEmp(item, j)" />
                      <span class="custom-control-label"></span>
                    </label>
                  </th>  -->
                  <th rowspan="2" class="wd-10 font700">
                    <span tooltip="Family Member Name">Family Member Name</span>
                  </th>
                  <th rowspan="2" class="wd-10 font700">
                    <span tooltip="Disability Type">Disability Type</span>
                  </th>
                  <th rowspan="2" class="wd-11 font700">Severity Level %</th>
                  <th rowspan="2" class="wd-9 font700">Declared Amount</th>
                  <th rowspan="2" class="wd-9 font700">Actual Amount</th>
                  <th colspan="2" class="wd-17 font700">Approval Amount</th>
                  <th rowspan="2" class="wd-7 font700">Remark</th>
                  <th rowspan="2" class="wd-8">PS. ID.</th>
                  <th rowspan="2" class="wd-10 font700">Status</th>
                </tr>
                <tr>
                  <th>Rejected</th>
                  <th>Approved</th>
                </tr>
           
                <!-- <tr>
                  <th>Rejected</th>
                  <th>Approved</th>
                </tr> -->
              </thead>
              <!-- <thead class="thead-dark" *ngIf="!previousEmployeeList.length">
                <tr>
                  <th rowspan="2" class="wd-10 font700">
                    <span tooltip="Electronic Clearing Service">Disability Type</span>
                  </th>
                  <th rowspan="2" class="wd-11 font700">Severity</th>
                  <th rowspan="2" class="wd-9 font700">Declared</th>
                  <th rowspan="2" class="wd-9 font700">Actual</th>
                  <th colspan="2" class="wd-17 font700">Receipt Amount</th>
                  <th rowspan="2" class="wd-7 font700">Remark</th>
                  <th rowspan="2" class="wd-8">Proof Submission ID</th>
                  <th rowspan="2" class="wd-10 font700">Transaction Status</th>

                </tr>
                <tr>
                  <th>Rejected</th>
                  <th>Approved</th>
                </tr>
              </thead> -->
              <tbody>
                <tr *ngFor="
                   let element of editTransactionData;
                   let i = index;
                   count as c
                 ">
                  <!-- <td *ngIf="previousEmployeeList?.length">
                    <select name="Previous Employer Name" class="form-control custom-select"
                      (change)="updatePreviousEmpId($event, i)" [disabled]="
                       isDisabled || summary.transactionStatus === 'Submitted'
                     " [(ngModel)]="summary.previousEmployerId">
                      <option [ngValue]="0">Select Previous Emp.</option>
                      <option *ngFor="let previousEmployee of previousEmployeeList" [value]="previousEmployee.value">
                        {{ previousEmployee.label }}
                      </option>
                    </select>
                  </td> -->
                  <td class="align-left">
                    <span tooltip="{{ element.handicappedDependentDetailMaster.familyMemberName }}">{{
                      element.handicappedDependentDetailMaster.familyMemberName }}</span>
                  </td>
            
                  <!-- <td>
                    <input type="text" [ngModel]="summary.disabilityType" disabled />
                  </td> -->
                  <!-- <td>
                    <div class="custom_icon_badge">
                      <input type="text" class="form-control" [ngModel]="summary.severity" />
                    
                    </div>
                  </td> -->
                  <td class="align-left">
                    {{element.handicappedDependentDetailMaster.disabilityType}}
                  </td>
                  <td class="align-left">
                    {{ element.handicappedDependentDetailMaster.severity}}
                  </td>
                  <!-- <td>
                    <div class="custom_icon_badge">
                      <input type="text" id="declaredAmount{{
                         summary.handicappedDependentDetailMasterId
                       }}" name="declaredAmount{{
                         summary.handicappedDependentDetailMasterId
                       }}" [(ngModel)]="summary.declaredAmount" (change)="setActualAmoutInEditModal($event)"
                        class="form-control align-right" />
                    
                    </div>
                  </td> -->
                  <td class="align-right">
                    <!-- <input type="text" value="{{element.declaredAmount}}" disabled class="form-control align-right"
                      (change)="onDeclaredAmountChange(element, i, j)" /> -->
                    {{ element.declaredAmount | number: '1.2-2'}}
                  </td>

                  <!-- <td>
                    <input type="text" id="actualAmount{{ summary.handicappedDependentDetailMasterId }}" name="actualAmount{{
                       summary.handicappedDependentDetailMasterId
                     }}" [(ngModel)]="summary.actualAmount" class="form-control align-right" />
                
                  </td> -->
                  <!-- <td>
                    <input type="text" [ngModel]="summary.amountRejected | number: '1.2-2'"
                      class="form-control align-right" disabled />
                  </td>
                  <td>
                    <input type="text" [ngModel]="summary.amountApproved | number: '1.2-2'"
                      class="form-control align-right" disabled />
                  </td> -->
                  
                <td class="align-right">
                  <!-- <input type="text" value="{{element.actualAmount}}" disabled class="form-control align-right" /> -->
                {{element.actualAmount | number: '1.2-2'}}

                </td>
                <!-- <td>
                  
                  <input type="text" value="{{ element.amountRejected | number: '1.2-2' }}"
                    class="form-control align-right" disabled />
                </td> -->
                <td class="wd-6 align-right">
                  <span  class="padding-right-5" tooltip="{{element.amountRejected | number:'1.2-2'}}">
                  {{element.amountRejected | number:'1.2-2'}}
                  </span>
               </td>
               <td class="wd-6 align-right">
                <span  class="padding-right-5" tooltip="{{element.amountApproved | number:'1.2-2'}}">
                {{element.amountApproved | number:'1.2-2'}}
                </span>
             </td>
                <!-- <td>
                  <input type="text" value="{{ element.amountApproved | number: '1.2-2' }}"
                    class="form-control align-right" disabled />
                </td> -->
                <td>
                  <div class="d-flex"
                  class="align-center">
                    <!-- <input
                    style="width:100px;"
                      type="text"
                      class="form-control"
                      [disabled]=" isDisabled || summary.transactionStatus === 'Submitted'"
                      
                      (change)="
                      onChangeDocumentRemark(
                          summary, i,
                          $event
                        )
                      "
                    
                    /> -->
                    <div
                      _ngcontent-ykc-c443=""
                      class="
                        custom_Label_badge
                        mr-2
                        ml-2
                      "
                    >
                      <b>
                        <i
                          (click)="
                            docRemarkModal1(
                              template8,
                              documentDetailIndex,
                              element?.handicappedDependentTransactionId,
                              element, i
                            )
                          "
                          class="
                            fa fa-commenting
                            text-dark-green
                            fa-2x
                            cursor-pointer
                          "
                        >
                        </i
                      ></b>
                      <span
                        _ngcontent-ykc-c443=""
                        class="Label_badge"
                        >{{
                          element?.bubbleRemarkCount
                        }}</span
                      >
                    </div>
                  </div>
                </td>
                  <!-- <td>
                    <span tooltip="{{ element.proofSubmissionId }}">
                      {{ element.proofSubmissionId }}
                    </span>
                  </td>
                  <td class="text-orange font700">
                    <span tooltip="{{ element.transactionStatus }}">
                      {{ element.transactionStatus }}
                    </span>
                  </td> -->
                  <td>
                    <!-- <span tooltip="{{ element.proofSubmissionId }}">
                      {{ element.proofSubmissionId }}
                    </span> -->
                    <span tooltip="{{element.proofSubmissionId }}" *ngIf="element.transactionStatus === 'Submitted'  || element.transactionStatus === 'Approved' || element.transactionStatus === 'Re-Open' || element.transactionStatus === 'SendBack'">
                      <i class="fa fa-clipboard font-16 text-cyan" aria-hidden="true"></i>
                      <!-- {{ summary.proofSubmissionId }} -->
                    </span>
                    <!-- <span tooltip="{{ physicallyHandicappedDetail.proofSubmissionId }}"
                      *ngIf="physicallyHandicappedDetail.transactionStatus === 'Submitted'">
                      <i class="fa fa-clipboard font-16 text-cyan" aria-hidden="true"></i>
                    </span> -->
                  </td>
                  <td class="wd-6">
                    <span class="badge" [ngClass]="{'badge-primary': element.transactionStatus=='Re-Open',
                    ' badge-success': element.transactionStatus=='Approved',
                    'badge-danger': element.transactionStatus=='SendBack',
                    'badge-info': element.transactionStatus=='Submitted',
                    'badge-warning': element.transactionStatus=='Pending'}" tooltip="{{ element.transactionStatus }}">
                      {{ element.transactionStatus }}
                    </span>
                  </td>
                </tr>
              </tbody>
            </table>
           
          </div>
        </div>
      </div>
      <br>
      <br>
      <div *ngIf="previousEmployeeList.length > 0">
        <h3 class="font-14 text-purple font-bold">Previous Employer</h3>
      <div class="row mt-15">
        <div class="col-12">
          <div class="table-responsive Custom_Table">
            <table class="table table-striped table-hover table-bordered m-b-0">
              <thead class="thead-dark" *ngIf="previousEmployeeList?.length">
                <tr>
                  <!-- <th rowspan="2" class="wd-4">
                    <label class="custom-control custom-checkbox checkbox-center" tooltip="Select All">
                      <input type="checkbox" class="custom-control-input" [ngModel]="isCheckAll" [disabled]="isDisabled"
                        name="select" value="isCheckAll{{ j }}" (change)="checkUncheckAllPreviousEmp(item, j)" />
                      <span class="custom-control-label"></span>
                    </label>
                  </th> -->
                  <!-- <th rowspan="2" class="wd-10 font700">
                    Previous Employer Name
                  </th>
                  <th rowspan="2" class="wd-9 font700">Actual Amount</th>
                  <th colspan="2" class="wd-11 font700">Approval Amount</th>
                  <th rowspan="2" class="wd-7 font700">Remark</th>
                  <th rowspan="2" class="wd-10">PS. ID.</th>
                  <th rowspan="2" class="wd-10 font700">Status</th>
                </tr> -->
                <th rowspan="2" class="wd-15 font700">Previous Employer Name</th>
                <th rowspan="2" class="wd-11 font700">Family Member Name</th>
                <!-- <th rowspan="2" class="wd-11 font700">Severity Level % and Disability Type</th> -->
                <th rowspan="2" class="wd-11 font700">Severity Level %</th>
                <th rowspan="2" class="wd-11 font700">Disability Type</th>
                <th rowspan="2" class="wd-9 font700">Actual Amount</th>
                <th colspan="2" class="wd-11 font700">Receipt Amount</th>
                <th rowspan="2" class="wd-15 font700">Remark</th>
                <th rowspan="2" class="wd-5">PS. ID.</th>
                <th rowspan="2" class="wd-7 font700">Status</th>
                <!-- <th rowspan="2" class="wd-7 font700">Action</th> -->
                <tr>
                  <th>Rejected</th>
                  <th>Approved</th>
                </tr>
              </thead>
              <thead class="thead-dark" *ngIf="!previousEmployeeList?.length">
                <tr>
                  <!-- <th rowspan="2" class="wd-4">
                    <label class="custom-control custom-checkbox checkbox-center" tooltip="Select All">
                      <input type="checkbox" class="custom-control-input" name="select" />
                      
                      <span class="custom-control-label"></span>
                    </label>
                  </th> -->
                  <!-- <th rowspan="2" class="wd-9 font700">Actual</th>
                  <th colspan="2" class="wd-11 font700">Receipt Amount</th>
                  <th rowspan="2" class="wd-7 font700">Remark</th>
                  <th rowspan="2" class="wd-10">PS.ID.</th>
                  <th rowspan="2" class="wd-10 font700">Transaction Status</th> -->
                  <th rowspan="2" class="wd-11 font700">Family Member Name</th>
                  <!-- <th rowspan="2" class="wd-11 font700">Severity Level % and Disability Type</th> -->
                  <th rowspan="2" class="wd-11 font700">Severity Level %</th>
                  <th rowspan="2" class="wd-11 font700">Disability Type</th>
                  <th rowspan="2" class="wd-9 font700">Actual Amount</th>
                  <th colspan="2" class="wd-11 font700">Receipt Amount</th>
                  <th rowspan="2" class="wd-15 font700">Remark</th>
                  <th rowspan="2" class="wd-5">PS. ID.</th>
                  <th rowspan="2" class="wd-7 font700">Status</th>
                  <!-- <th rowspan="2" class="wd-7 font700">Action</th> -->
                </tr>
                <tr>
                  <th>Rejected</th>
                  <th>Approved</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="
                    let summary of previousEmployerHandicappedDependentResponseList;
                    let i = index;
                    count as c
                  ">

                  <td *ngIf="previousEmployeeList?.length">
                    <select name="Previous Employer Name" class="form-control custom-select"
                      (change)="updatePreviousEmpId($event, i, j)" [disabled]="
                        isDisabled || summary.transactionStatus === 'Submitted'
                      ">
                      <option [ngValue]="0">Select</option>
                      <option *ngFor="let previousEmployee of previousEmployeeList" [value]="previousEmployee.value"
                        [selected]="
                          previousEmployee.value == summary.previousEmployerId
                        ">
                        {{ previousEmployee.label }}
                      </option>
                    </select>
                  </td>
                  <td class="align-left">
                  <span>
                    {{ summary.handicappedDependentDetailMaster.familyMemberName}}
                  </span>
                </td>
                <td class="align-left">
                  <span>
                    {{ summary.handicappedDependentDetailMaster.severity }}</span></td>
                    <td class="align-left"><span>{{ summary.handicappedDependentDetailMaster.disabilityType }}
                  </span>
                </td>
                  <!-- <td>
                    <div class="custom_icon_badge">
                      

                      <p-inputNumber id="actualAmount{{ summary.handicappedDependentTransactionId }}"
                        name="actualAmount{{ summary.handicappedDependentTransactionId }}"
                        [disabled]="summary.transactionStatus=='Approved' || !viewDocumentDetail"
                        [(ngModel)]="summary.actualAmount"
                        (change)="onActualAmountChangeInEditCasePreviEmp(summary, i, j)" disabled mode="decimal"
                        locale="en-IN" [minFractionDigits]="2"></p-inputNumber>
                    </div>
                  </td> -->
                  <td>
                    <div class="custom_icon_badge">

                      <p-inputNumber id="actualAmount{{ summary.handicappedDependentTransactionId }}"
                        name="actualAmount{{ summary.handicappedDependentTransactionId }}"
                        [disabled]="summary.transactionStatus=='Approved' || !viewDocumentDetail"
                        [(ngModel)]="summary.actualAmount"
                        (change)="onActualAmountChangeInEditCasePreviEmp(summary, i, j)" disabled mode="decimal"
                        locale="en-IN" [minFractionDigits]="2"></p-inputNumber>
                    </div>
                  </td>

                  <!-- <td>
                    <input type="text" [ngModel]="summary.rejectedAmount | number: '1.2-2'"
                      class="form-control align-right" disabled />
                  </td>
                  <td>
                    <input type="text" [ngModel]="summary.approvedAmount | number: '1.2-2'"
                      class="form-control align-right" disabled />
                  </td> -->
                  <td class="wd-6 align-right">
                    <span  class="padding-right-5" tooltip="{{summary.amountRejected | number:'1.2-2'}}">
                    {{summary.amountRejected | number:'1.2-2'}}
                    </span>
                 </td>
                    <td class="wd-6 align-right">
                      <span  class="padding-right-5" tooltip="{{summary.amountApproved | number:'1.2-2'}}">
                      {{summary.amountApproved | number:'1.2-2'}}
                      </span>
                   </td>
                  <!-- <td>
                    <span tooltip="{{ summary.remark }}">
                      {{ summary.remark }}
                    </span>
                  </td> -->
                  <td>
                    <div class="d-flex"
                    class="align-center">
                      <!-- <input
                      style="width:100px;"
                        type="text"
                        class="form-control"
                        [disabled]=" isDisabled || summary.transactionStatus === 'Submitted'"
                        
                        (change)="
                        onChangeDocumentRemark(
                            summary, i,
                            $event
                          )
                        "
                      
                      /> -->
                      <div
                        _ngcontent-ykc-c443=""
                        class="
                          custom_Label_badge
                          mr-2
                          ml-2
                        "
                      >
                        <b>
                          <i
                            (click)="
                            docRemarkModal(
                              template9,
                              documentDetailIndex,
                              summary?.handicappedDependentTransactionId,
                              summary, i
                            )
                            "
                            class="
                              fa fa-commenting
                              text-dark-green
                              fa-2x
                              cursor-pointer
                            "
                          >
                          </i
                        ></b>
                        <span
                          _ngcontent-ykc-c443=""
                          class="Label_badge"
                          >{{
                            summary?.bubbleRemarkCount
                          }}</span
                        >
                      </div>
                    </div>
                  </td>
                  <td>
                    <span tooltip="{{ summary.proofSubmissionId }}" *ngIf="summary.transactionStatus === 'Submitted' || summary.transactionStatus === 'Approved' || summary.transactionStatus === 'SendBack' || summary.transactionStatus === 'Re-Open'">
                      <i class="fa fa-clipboard font-16 text-cyan" aria-hidden="true"></i>
                      <!-- {{ summary.proofSubmissionId }} -->
                    </span>
                  </td>
                  <!-- <td class="text-orange font700">
                    <span tooltip="{{ summary.transactionStatus }}">
                      {{ summary.transactionStatus }}
                    </span>
                  </td> -->
                  <td class="wd-6">
                    <span class="badge" [ngClass]="{'badge-primary': summary.transactionStatus=='Re-Open',
                    ' badge-success': summary.transactionStatus=='Approved',
                    'badge-danger': summary.transactionStatus=='SendBack',
                    'badge-info': summary.transactionStatus=='Submitted',
                    'badge-warning': summary.transactionStatus=='Pending'}" tooltip="{{ summary?.transactionStatus }}">
                      {{ summary.transactionStatus }}
                    </span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      </div>
      <hr />
    </div>

    <hr />
    <div class="row" *ngIf="viewDocumentDetail">
      <div class="col-12">
        <h3 class="font-14 text-purple font-bold" id="UploadModalLabel">
          Upload Documents
        </h3>
      </div>
    </div>
    <div class="row clearfix mt-10" *ngIf="viewDocumentDetail">
      <div class="col-md-12">
        <div class="row clearfix">
          <div class="col-md-3">
            <div class="fileuploadbox bg-color-lightgray">
              <label class="filelabel">
                <i class="fa fa-upload"> </i>
                <span class="title"> Choose file </span>
                <input class="FileUpload1" class="dropify" (change)="onUploadInEditCase($event)"
                  accept=".jpg , .jpeg, .pdf , .png" id="FileInput" type="file" multiple />
              </label>
            </div>

            <div *ngIf="editfilesArray.length > 0" class="fileuploadbox">
              Selected Files
              <label *ngFor="let item of editfilesArray; let index = index" class="filelabeldisplay">
                <div class="text-ellipsis">
                  <i class="fa fa-paperclip"> </i>
                  <span class="title">
                    {{ item.name }}
                  </span>
                  <div>
                    <div style="float: left; width: 40%;">
                      <div class="col-md-8 mt-10">
                        <label class="form-label">Password</label>
                      </div>
                      <div class="col-md-12">
                        <input class="form-control" [(ngModel)]="editdocumentPassword[index]" rows="1">
                      </div>
                    </div>
                    <div style="float: right; width: 40%; margin-right: 15px">
                      <div class="col-md-8 mt-10">
                        <label class="form-label">Remark</label>
                      </div>
                      <div class="col-md-12">
                        <input class="form-control" [(ngModel)]="editremarkList[index]" rows="1"
                          [disabled]="this.disableRemark =='Approved' || this.disableRemark =='WIP'">
                      </div>
                    </div>
                  </div>
                </div>
                <div>
                  <i class="fa fa-times text-red font-18"
                    (click)="removeSelectedLicTransactionDocumentInEditCase(index)"></i>
                </div>
              </label>
            </div>
            <!-- </div> -->
            <!-- <div class="col-md-12 mt-6">
            <label class="form-label">Remark</label>
          </div>
          <div class="col-md-6">
            <textarea
              class="form-control"
              [(ngModel)]="documentRemark"
              rows="2"
            ></textarea>
          </div> -->
          </div>
        </div>
      </div>

      <hr class="mt-20" />
      <!-- <div class="row mt-20">
      <div class="col-12">
        <h3 class="font-14 text-purple font-bold" id="UploadModalLabel">
          Uploaded Documents
        </h3>
      </div>
    </div> -->
      <div class="row">
        <div class="col-md-12">
          <!-- <div class="row clearfix mt-10">
          <div class="col-md-12" *ngFor="let doc of urlArray">
            <div class="labelbox" placement="left" tooltip="{{ doc.fileName }}">
              <i class="fa fa-paperclip text-orange"></i> &nbsp;
              {{ doc.fileName }}
            </div>
          </div>
        </div> -->
          <div class="row">
            <div class="col-md-12">
              <div class="border-box">
                <div class="row mt-30">
                  <div class="col-12">
                    <div class="card">
                      <div class="col-md-12">
                        <h3 class="font-14 text-purple font-bold">
                          Document Summary
                        </h3>
                      </div>
                      <div class="col-9 col-md-10 col-sm-12">
                        <div
                          class="table-responsive Custom_Table"
                        >
                          <p-table
                            *ngIf="documentArray"
                            #dt2
                            [value]="documentArray"
                            [paginator]="true"
                            [rows]="10"
                            [showCurrentPageReport]="true"
                            (sortFunction)="customSort($event)"
                            [customSort]="true"
                            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                            [rowsPerPageOptions]="[10, 25, 50]"
                            [globalFilterFields]="[
                          'empcode',
                          'empName',
                          'Group',
                          'Frequency',
                          'Type',
                          'proofsubmission',
                          'PSIdDetails',
                          'SubmissionDate',
                          'Status'
                        ]"
                          >
                            <ng-template pTemplate="header">
                              <tr>
                                <!-- <th style="width: 3rem">
                                  <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                                </th> -->
  
                                <!-- <th>
                                  <div
                                    class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                "
                                  > -->
                                    <!-- Date Of Submission -->
                                    <!-- Creation Date
                                    <div
                                      class="Sort_Filter_Position"
                                    >
                                      <p-sortIcon
                                        field="empcode"
                                        pSortableColumn="empcode"
                                      ></p-sortIcon>
                                      <p-columnFilter
                                        field="empcode"
                                        display="menu"
                                        class="p-ml-auto"
                                      >
                                      </p-columnFilter>
                                    </div>
                                  </div>
                                </th> -->
                                <th>
                                  <div
                                    class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                "
                                  >
                                    <!-- Time -->
                                    Document Submission Date & Time
                                    <div
                                      class="Sort_Filter_Position"
                                    >
                                      <p-sortIcon
                                        field="empcode"
                                        pSortableColumn="empcode"
                                      ></p-sortIcon>
                                      <p-columnFilter
                                        field="empcode"
                                        display="menu"
                                        class="p-ml-auto"
                                      >
                                      </p-columnFilter>
                                    </div>
                                  </div>
                                </th>
                                <th>
                                  <div
                                    class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                "
                                  >
                                    Document Type
                                    <div
                                      class="Sort_Filter_Position"
                                    >
                                      <p-sortIcon
                                        field="documentType"
                                        pSortableColumn="documentType"
                                      ></p-sortIcon>
                                      <p-columnFilter
                                        field="documentType"
                                        display="menu"
                                        class="p-ml-auto"
                                      >
                                      </p-columnFilter>
                                    </div>
                                  </div>
                                </th>
                                <th>
                                  <div
                                    class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                "
                                  >
                                    Document Name
                                    <div
                                      class="Sort_Filter_Position"
                                    >
                                      <p-sortIcon
                                        field="documentName"
                                        pSortableColumn="documentName"
                                      ></p-sortIcon>
                                      <p-columnFilter
                                        field="documentName"
                                        display="menu"
                                        class="p-ml-auto"
                                      >
                                      </p-columnFilter>
                                    </div>
                                  </div>
                                </th>
                                <!-- <th>
                                  <div
                                    class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                "
                                  >
                                    Document Type
                                    <div
                                      class="Sort_Filter_Position"
                                    >
                                      <p-sortIcon
                                        field="documentType"
                                        pSortableColumn="documentType"
                                      ></p-sortIcon>
                                      <p-columnFilter
                                        field="documentType"
                                        display="menu"
                                        class="p-ml-auto"
                                      >
                                      </p-columnFilter>
                                    </div>
                                  </div>
                                </th> -->
                                <th>
                                  <div
                                    class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                "
                                  >
                                    Password
                                    <div
                                      class="Sort_Filter_Position"
                                    >
                                      <p-sortIcon
                                        field="empcode"
                                        pSortableColumn="empcode"
                                      ></p-sortIcon>
                                      <p-columnFilter
                                        field="empcode"
                                        display="menu"
                                        class="p-ml-auto"
                                      >
                                      </p-columnFilter>
                                    </div>
                                  </div>
                                </th>
                                <th>
                                  <div
                                    class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                "
                                  >
                                    Remark
                                    <div
                                      class="Sort_Filter_Position"
                                    >
                                      <p-sortIcon
                                        field="empcode"
                                        pSortableColumn="empcode"
                                      ></p-sortIcon>
                                      <p-columnFilter
                                        field="empcode"
                                        display="menu"
                                        class="p-ml-auto"
                                      >
                                      </p-columnFilter>
                                    </div>
                                  </div>
                                </th>
                                <th>
                                  <div
                                    class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                "
                                  >
                                    Status
                                    <div
                                      class="Sort_Filter_Position"
                                    >
                                      <p-sortIcon
                                        field="empcode"
                                        pSortableColumn="empcode"
                                      ></p-sortIcon>
                                      <p-columnFilter
                                        field="empcode"
                                        display="menu"
                                        class="p-ml-auto"
                                      >
                                      </p-columnFilter>
                                    </div>
                                  </div>
                                </th>
                                <!-- <th>
                                  <div
                                    class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                "
                                  >
                                    Approver Name
                                    <div
                                      class="Sort_Filter_Position"
                                    >
                                      <p-sortIcon
                                        field="empcode"
                                        pSortableColumn="empcode"
                                      ></p-sortIcon>
                                      <p-columnFilter
                                        field="empcode"
                                        display="menu"
                                        class="p-ml-auto"
                                      >
                                      </p-columnFilter>
                                    </div>
                                  </div>
                                </th> -->
                                <!-- <th>
                                  <div
                                    class="
                                  p-d-flex
                                  p-jc-between
                                  p-ai-center
                                "
                                  > -->
                                    <!-- Time -->
                                    <!-- Last Modified Date & Time
                                    <div
                                      class="Sort_Filter_Position"
                                    >
                                      <p-sortIcon
                                        field="empcode"
                                        pSortableColumn="empcode"
                                      ></p-sortIcon>
                                      <p-columnFilter
                                        field="empcode"
                                        display="menu"
                                        class="p-ml-auto"
                                      >
                                      </p-columnFilter>
                                    </div>
                                  </div>
                                </th> -->
                              </tr>
                            </ng-template>
                            <ng-template
                              pTemplate="body"
                              let-document
                              let-documentIndex = "rowIndex"
                            >
                              <tr class="p-selectable-row">
                                <!-- <td>
                                  <p-tableCheckbox
                                    [value]="customer"
                                  >
                                  </p-tableCheckbox>
                                </td> -->
                                <!-- <td>
                                  {{dateofsubmission | date:'dd-MMM-yyyy' }}
                                </td> -->
                                <!-- <td>{{ document.lastModifiedTime| date:'dd-MMM-yyyy, h:mm a'  }}</td> -->
                                <td>{{ document.lastModifiedTime| date: 'dd-MMM-yyyy HH:mm'}}</td>
                                <!-- {{ todayDate | date: 'dd/MM/yyyy HH:mm'}} -->
                                <td>{{ document.documentType }}</td>
                                <td>
                                  <a
                                    (click)=" docViewer1(template3,documentIndex, document)"
  
                                  >
                                    <i
                                      class="
                                    fa fa-paperclip
                                    text-orange
                                  "
                                    ></i>
                                    &nbsp;
                                    {{ document.documentName }}
                                  </a>
                                </td>
                                <!-- <td>{{ document.documentType }}</td> -->
                                <td>{{ document.documentPassword }}</td>
                                <td>
                                  <!-- <div class="custom_Label_badge">
                                    <button
                                      class="
                                        btn btn-bg-green
                                        text-white
                                      "
                                      (click)="
                                        docViewer(template3)
                                      "
                                    >
                                      PSEmp
                                    </button>
                                    <span class="Label_badge"
                                      >2</span
                                    >
                                  </div> -->
                                  {{document.documentRemark}}
                                </td>
                                <td><span class="badge" [ngClass]="{'badge-primary': document.status=='Re-Open',
                                  ' badge-success': document.status=='Approved',
                                  'badge-danger': document.status=='SendBack',
                                  'badge-info': document.status=='Submitted',
                                  'badge-warning': document.status=='Pending'}">{{ document.status }}</span></td>
                                <!-- <td>{{ document.lastModifiedBy }}</td> -->
                                <!-- <td>{{ document.lastModifiedTime| date:'h:mm a'  }}</td> -->
                                <!-- <td>{{ document.lastModifiedTime| date:'dd-MMM-yyyy, h:mm a'  }}</td> -->
                                
                              </tr>
                            </ng-template>
                          </p-table>
                        </div>
                      </div>
                      <!-- <div class="row mt-25">
                      <div class="col-md-12">
                        <div class="float-right">
                          <button
                            type="submit"
                            class="
                              custom_button custom_btn
                              btn-bg-green
                              btn-labeled
                              btn-labeled-left
                              ripple
                              mr-2
                            "
                            tooltip="Approve"
                          >
                            <b>
                              <i class="fa fa-floppy-o"></i
                            ></b>
                            Approve
                          </button>

                          <button
                            type="button"
                            tooltip="Send Back"
                            class="
                              custom_button custom_btn
                              bg-btn-red
                              btn-labeled btn-labeled-left
                              mr-2
                            "
                          >
                            <b><i class="fa fa-times"></i></b>
                            Discard
                          </button>
                        </div>
                      </div>
                    </div> -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  <div class="modal-footer">
    <button
      type="button"
      tooltip="View Document"
      (click)="modalRef.hide(); docViewer(template3,urlArray)"
      class="custom_button custom_btn btn-bg-add btn-labeled btn-labeled-left"
    >
      <b><i class="fa fa-eye"></i></b> View
    </button>
    &nbsp;&nbsp;
    &nbsp;&nbsp;
    <button
      *ngIf="viewTransactionDetail"
      type="button"
      tooltip="Save Document"
      (click)="modalRef1?.hide(); uploadUpdateTransaction()"
      class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left">
      <b><i class="fa fa-save"></i></b> Save
    </button>
    &nbsp;&nbsp;
    <button
    
      type="button"
      tooltip="Close Document"
      (click)="modalRef1?.hide()"
      class="custom_button custom_btn btn-bg-grey btn-labeled btn-labeled-left"
    >
    <b><i class="fa fa-times"></i></b> Close
    </button>
   <!-- <button
      *ngIf="viewTransactionDetail"
      type="button"
      tooltip="Save"
      (click)="modalRef.hide(); uploadUpdateTransaction()"
      class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left">
      <b><i class="fa fa-save"></i></b> Save
    </button> -->
    </div>
    <!-- <div class="modal-footer">
      <button type="button" tooltip="View Document" (click)="modalRef.hide(); docViewer(template3,urlArray)"
        class="custom_button custom_btn btn-bg-add btn-labeled btn-labeled-left">
        <b><i class="fa fa-eye"></i></b> View All
      </button>
      &nbsp;&nbsp;
      <button *ngIf="viewDocumentDetail" type="button" tooltip="Save Document"
        (click)="modalRef1?.hide(); uploadUpdateTransaction()"
        class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left">
        <b><i class="fa fa-save"></i></b> Save
      </button>
      &nbsp;&nbsp;
      <button
      
        type="button"
        tooltip="Close Document"
        (click)="modalRef1?.hide()"
        class="custom_button custom_btn btn-bg-grey btn-labeled btn-labeled-left"
      >
      <b><i class="fa fa-times"></i></b> Close
      </button>
    </div> -->
  </div> 
</ng-template>


<!-- dOC VIEWER -->
<ng-template #template3>
  <div class="modal-header">
    <!-- <h5 class="modal-title" id="jasdjgh">View Documents</h5> -->
    <div class="row">
      <div class="col-sm-6 col-md-6 align-right">
          <label class="form-label">Document Name</label>
           {{this.viewDocumentName}}
      </div>
      <div class="col-sm-6 col-md-6 align-right">
          <label class="form-label">Document Type</label>

          {{this.viewDocumentType}}
      </div>

      </div>
      <div class="align-right">
        <button type="button" (click)="zoomin()" ><i class="fa fa-search-plus" aria-hidden="true"></i></button>
<button type="button" (click)="zoomout()"><i class="fa fa-search-minus" aria-hidden="true"></i></button>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true"></span>
    </button>
  </div>
</div>
  <!-- <button (click)="previousDocViewer()" [disabled]="urlIndex == 0">previous</button>
<button (click)="nextDocViewer()" [disabled]="urlIndex == (urlArray.length-1)">next</button> -->
  <div class="card-body">
    <div class="row">
      <div class="col-md-1">
        <button type="button" class="btn active Next_Previous_Btn" tooltip="Previous Document"
          (click)="previousDocViewer()" [disabled]="urlIndex == 0">
          <i class="fa fa-angle-left text-white font-30 p-10"></i>
        </button>
      </div>
      <div class="col-md-10">
        <iframe style="height: 100vh; width: 100%; display: block"
        [src]="urlSafe" provider="google"></iframe>
        <!-- <img id = 'map' style="height: 100vh; width: 100%; display: block" [src]="urlSafe" provider="google"> -->
      </div>
      <div class="col-md-1">
        <button type="button" class="btn active Next_Previous_Btn" tooltip="Next Document" (click)="nextDocViewer()"
          [disabled]="urlIndex == urlArray.length - 1">
          <i class="fa fa-angle-right text-white font-30 p-10"></i>
        </button>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <!-- <button type="button" class="btn btn-primary">Save</button>  -->
    <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">
      Ok
    </button>
  </div>
</ng-template>
<ng-template #template4>
  <div class="modal-header">
    <h5 class="modal-title" id="UploadModalLabel">Upload Document</h5>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true"></span>
    </button>
  </div>
  <div class="modal-body">
    <div class="card">
      <div class="card-body">
        <div class="row clearfix">
          <!-- <div class="col-md-12">
         <label class="form-label">Upload File here :</label>
      </div> -->
          <div class="col-md-12">
            <div class="fileuploadbox bg-color-lightgray">
              <label class="filelabel">
                <i class="fa fa-upload"> </i>
                <span class="title"> Choose file </span>
                <input class="FileUpload1" class="dropify" (change)="onUpload($event)"
                  accept=".jpg , .jpeg, .pdf , .png" id="FileInput" type="file" multiple />
              </label>
            </div>
            <div *ngIf="filesArray.length > 0" class="fileuploadbox">
              <span class="text-purple font-14 font700">Selected Files</span>
              <label *ngFor="let item of filesArray; let index = index" class="filelabeldisplay">
                <div class="text-ellipsis">
                  <i class="fa fa-paperclip"> </i>
                  <span class="title">
                    {{ item.name }}
                  </span>
                  <div>
                    <div style="float: left; width: 40%;">
                      <div class="col-md-8 mt-10">
                        <label class="form-label">Password</label>
                      </div>
                      <div class="col-md-12">
                        <input class="form-control" [(ngModel)]="documentPassword[index]" rows="1">
                      </div>

                    </div>
                    <div style="float: right; width: 40%; margin-right: 59px">
                      <div class="col-md-8 mt-10">
                        <label class="form-label">Remark</label>
                      </div>
                      <div class="col-md-12">
                        <input class="form-control" [(ngModel)]="remarkList[index]" rows="1" [disabled] = "this.disableRemarkList">
                      </div>
                    </div>
                  </div>
                </div>
                <div>
                  <i class="fa fa-times text-red font-18" (click)="removeSelectedTransactionDocument(index)"></i>
                </div>
              </label>
            </div>
          </div>
          <!-- <div class="col-md-12 mt-10">
            <label class="form-label">Remark</label>
          </div>
          <div class="col-md-12">
            <textarea class="form-control" [(ngModel)]="documentRemark" rows="2"></textarea>
          </div> -->
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <!-- <button type="button" class="btn btn-primary">Save</button>  -->
    <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">
      Ok
    </button>
  </div>
</ng-template>
<!-- Remark Modal started -->
<ng-template #template8>
  <div class="modal-header">
    <h5 class="modal-title" id="jasdjgh">Remark</h5>
    <button
      type="button"
      (click)="modalRef.hide()"
      class="close"
      data-dismiss="modal"
      aria-label="Close"
    >
      <span aria-hidden="true"></span>
    </button>
  </div>

  <div class="card-body">
    <div *ngFor="let documentRemark of documentRemarkList">
      <div class="row">
        <div class="col-md-6">
          <span class="form-label"
            >{{ documentRemark.role }}:
            <b class="text-gray">{{
              documentRemark.remarkBy
            }}</b></span >
        </div>
        <div class="col-md-6">
          <div class="float-right">
            <span class="form-label">
              Date:
              <b class="text-gray">{{
                documentRemark.remarkDate
                  | date: "dd-MMM-yyyy HH:mm"
              }}</b>
            </span>
          </div>
        </div>
      </div>
      <div class="row">
        <textarea class="form-control remarktext" disabled [ngClass]="{'admin-class':documentRemark.role=='Approval Admin'}">
        {{ documentRemark.remark }}
        </textarea>
      </div>
    </div>
    <div class="row mt-25">
      <div class="col-md-12">
        <h6 class="modal-title" id="jasdjgh">New Remark</h6>
        <textarea type="text" [(ngModel)]="enteredRemark"
        (change)= "
        onChangeDocumentRemark1(
          this.summaryDetails, this.indexCount,
            $event
          )
        " class="form-control" placeholder="Enter New Remark"></textarea>
      </div>
    </div>
  </div>

  <div *ngIf="!this.summaryDetails?.proofSubmissionId" class="modal-footer">
    <button
      type="button"
      class="btn btn-secondary"
      (click)="modalRef.hide()"
    >
      Ok
    </button>
  </div>
  <div *ngIf="this.summaryDetails?.proofSubmissionId" class="modal-footer">
    <!-- <button
    type="button"
    class="btn btn-secondary"
    (click)="onResetRemarkDetails1()"
  >
    Reset
  </button> -->
    <button
      type="button"
      class="btn btn-secondary"
      (click)="onSaveRemarkDetails1(this.summaryDetails,this.indexCount)"
    >
      Save
    </button>
    <button
    type="button"
    class="btn btn-secondary"
    (click)="onResetRemarkDetails1()"
  >
    Reset
  </button>
  </div>
</ng-template>


<ng-template #template9>
  <div class="modal-header">
    <h5 class="modal-title" id="jasdjgh">Remark</h5>
    <button
      type="button"
      (click)="modalRef.hide()"
      class="close"
      data-dismiss="modal"
      aria-label="Close"
    >
      <span aria-hidden="true"></span>
    </button>
  </div>

  <div class="card-body">
    <div *ngFor="let documentRemark of documentRemarkList">
      <div class="row">
        <div class="col-md-6">
          <span class="form-label"
            >{{ documentRemark.role }}:
            <b class="text-gray">{{
              documentRemark.remarkBy
            }}</b></span >
        </div>
        <div class="col-md-6">
          <div class="float-right">
            <span class="form-label">
              Date:
              <b class="text-gray">{{
                documentRemark.remarkDate
                  | date: "dd-MMM-yyyy HH:mm"
              }}</b>
            </span>
          </div>
        </div>
      </div>
      <div class="row">
        <textarea class="form-control remarktext" disabled [ngClass]="{'admin-class':documentRemark.role=='Approval Admin'}">
        {{ documentRemark.remark }}
        </textarea>
      </div>
    </div>
    <div class="row mt-25">
      <div class="col-md-12">
        <h6 class="modal-title" id="jasdjgh">New Remark</h6>
        <textarea type="text" [(ngModel)]="enteredRemark"
        (change)= "
        onChangeDocumentRemark(
          this.summaryDetails, this.indexCount,
            $event
          )
        " class="form-control" placeholder="Enter New Remark"></textarea>
      </div>
    </div>
  </div>

  <div *ngIf="!this.summaryDetails?.proofSubmissionId" class="modal-footer">
    <button
      type="button"
      class="btn btn-secondary"
      (click)="modalRef.hide()"
    >
      Ok
    </button>
  </div>
  <div *ngIf="this.summaryDetails?.proofSubmissionId" class="modal-footer">
    <!-- <button
    type="button"
    class="btn btn-secondary"
    (click)="onResetRemarkDetails()"
  >
    Reset
  </button> -->
    <button
      type="button"
      class="btn btn-secondary"
      (click)="onSaveRemarkDetails(this.summaryDetails,this.indexCount)"
    >
      Save
    </button>
    <button
    type="button"
    class="btn btn-secondary"
    (click)="onResetRemarkDetails()"
  >
    Reset
  </button>
  </div>
</ng-template>

