<app-leftmenu></app-leftmenu>
<div class="page">
    <app-header></app-header>
    <div class="section-body mt-3">
        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body" style="border:1px solid rgb(189, 175, 175)">
                            <!-- <form [formGroup]="queryGenerationForm" (ngSubmit)="queryGenerationFormSubmit()">
                                <fieldset>
                                    <legend>Employee Details</legend>
                                    <div class="row" *ngIf="perticularEmpDetails">
                                        <div class="col-md-12 pl-0 pr-0">
                                            <div class="border-dark-card radius-10 p-2 mt-3">
                                                <div class="row">
                                                    <div class="col-md-2">
                                                        <label class="form-label mt-1 mb-0">Employee No. & Name </label>
                                                        <input type="text" class="form-control"
                                                            value="{{perticularEmpDetails.employeeCode  +''+  perticularEmpDetails.fullName}}"
                                                            disabled />
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label class="form-label mt-1 mb-0">Date of Joining</label>
                                                        <input type="text" class="form-control"
                                                            value="{{perticularEmpDetails.joiningDate|date: 'dd-MMM-yyyy'}}"
                                                            disabled />
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label class="form-label mt-1 mb-0">Establishment</label>

                                                        <input type="text" class="form-control"
                                                            value="{{perticularEmpDetails.establishment}}" disabled />
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label class="form-label mt-1 mb-0">Employee Type</label>
                                                        <input type="text" class="form-control"
                                                            value="{{perticularEmpDetails.employeeType}}" disabled />
                                                    </div>
                                                    <div class="col-md-1">
                                                        <label class="form-label mt-1 mb-0">Grade</label>
                                                        <input type="text" class="form-control"
                                                            value="{{perticularEmpDetails.grade}}" disabled />
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label class="form-label mt-1 mb-0">Designation</label>
                                                        <input type="text" class="form-control"
                                                            value="{{perticularEmpDetails.designation}}" disabled />

                                                    </div>
                                                    <div class="col-md-1">
                                                        <label class="form-label mt-1 mb-0">Status</label>
                                                        <input type="text" class="form-control"
                                                            value="{{perticularEmpDetails.status}}" disabled />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>
                                <br>

                            </form> -->
                       
                            <form [formGroup]="addDisburseForm">
                                <fieldset>
                                    <legend>Disbursement Details</legend>
                                    <div class="col-md-12 pl-0 pr-0">
                                      <div class="border-dark-card radius-10 p-2 ">
                                        <div class="row mt-1 mb-0">
                                          <div class="col-md-3">
                                            <label class="form-label">Transaction No.</label>
                                            <input type="text" class="form-control" formControlName="transactionNo"  />
                                          </div>
                  
                                          <div class="col-md-3">
                                            <label class="form-label">
                                              Application Date
                                            </label>
                                            <div class="form-group mb-0  mt-1 SMDatepickerWidth">
                                              <div class="input-group">
                                                <div class="input-group-prepend">
                                                  <span class="input-group-text">
                                                    <i class="fa fa-calendar"></i>
                                                  </span>
                                                </div>
                                                <input data-provide="datepicker" data-date-autoclose="true" class="form-control"
                                                  formControlName="expectedPaymentDate" placeholder="Date" bsDatepicker >
                                              </div>
                                            </div>
                  
                                          </div>
                  
                                          <div class="col-md-3">
                                            <label class="form-label">Payee Type</label>
                                            <select class="form-control" formControlName="payeeType">
                                              <option selected value=''>Select </option>
                                              <option selected value='self'>Self </option>
                                              <option selected value='other'>Other </option>
                                            </select>
                                          </div>
                                          <div class="col-md-3">
                                            <label class="form-label">Payee Name</label>
                                            <input type="text" class="form-control" formControlName="payee" />
                                          </div>
                                        </div>
                                        <br>
                                        <div class="row mt-1 mb-0">
                  
                                          <div class="col-md-3">
                                            <label class="form-label">Mode of Payment</label>
                                            <select class="form-control" formControlName="employeeModeOfPayment" (change)="selectInput($event)">
                                              <option selected value=''>Select </option>
                                              <option selected value='Cheque'>Cheque </option>
                                              <option selected value='Bank Transfer'>Bank Transfer </option>
                                              <option selected value='Through Salary'>Through Salary </option>
                                            </select>
                                          </div>
                  
                                          <div class="col-md-3">
                                            <button type="button" tooltip=""
                                              class="custom_button custom_btn1 btn-bg-green btn-labeled1 btn-labeled-left ml-2 mr-2 mt-4" 
                                              (click)="bankDetailsInfo(template)"><b><i class="fa fa-university"
                                                  aria-hidden="true"></i>
                                              </b>Employee Bank Details
                  
                                            </button>
                                          </div>
                                          <div class="col-md-3">
                                            <label class="form-label">IFSC</label>
                                            <input type="text" class="form-control" formControlName="ifscCode" *ngIf="isNameSelected" value="{{ifscCode}}" disabled/>
                                          </div>
                  
                                          <div class="col-md-3">
                                            <label class="form-label">Bank Name</label>
                                            <input type="text" class="form-control" formControlName="bankName" *ngIf="isNameSelected" disabled/>
                                          </div>
                                        </div>
                  
                                        <br>
                                        <div class="row mt-1 mb-0">
                  
                                          <div class="col-md-3">
                                            <label class="form-label">Branch Name</label>
                                            <input type="text" class="form-control" formControlName="bankAddress" *ngIf="isNameSelected" disabled/>
                                          </div>
                                          <div class="col-md-3">
                  
                                            <label class="form-label">Account No.</label>
                                            <div class="input-group">
                  
                                              <input type="text" class="form-control" placeholder="" formControlName="accountNo">
                                              <span class="input-group-append"><button class="btn btn-primary" type="button"><span
                                                    class="fa fa-eye"><i></i></span></button></span>
                                            </div>
                                          </div>
                  
                                          <div class="col-md-3">
                  
                                            <label class="form-label">Verify Account No.</label>
                                            <div class="input-group">
                  
                                              <input type="text" class="form-control" placeholder="" formControlName="accountNo">
                                              <span class="input-group-append"><button class="btn btn-primary" type="button"><span
                                                    class="fa fa-eye"><i></i></span></button></span>
                                            </div>
                                          </div>
                  
                                          <div class="col-md-3">
                                            <label class="form-label">
                                              Expected Date Of Payment
                                            </label>
                  
                                            <div class="form-group mb-0  mt-1 SMDatepickerWidth">
                                              <div class="input-group">
                                                <div class="input-group-prepend">
                                                  <span class="input-group-text">
                                                    <i class="fa fa-calendar"></i>
                                                  </span>
                                                </div>
                                                <input data-provide="datepicker" data-date-autoclose="true" class="form-control"
                                                  formControlName="expectedPaymentDate" placeholder="Date" bsDatepicker>
                                              </div>
                                            </div>
                  
                                          </div>
                                        </div>
                                        <br>
                  
                                        <div class="row mt-1 mb-0">
                                          <div class="col-md-3">
                                            <label class="form-label">Amount</label>
                                            <input type="text" class="form-control" formControlName="amount" />
                                          </div>
                                          <div class="col-md-3">
                                            <label class="form-label">Remark</label>
                                            <textarea type="text" rows="1" class="form-control" formControlName="remark"></textarea>
                                          </div>
                  
                  
                                        </div>
                                        <br><br>
                                        <div class="row">
                                          <div class="col-md-6" style="background-color: #f8f9fa;">
                                            <!-- <fieldset> -->
                                            <legend>Upload Document </legend>
                                            <div class="table-responsive Custom_Table">
                  
                                              <table class="table table-striped table-bordered table-hover m-b-0">
                                                <thead class="thead-dark">
                                                  <tr>
                                                    <th scope="col">Sr. No.</th>
                                                    <th scope="col">Document Name</th>
                                                    <th scope="col">Attachment</th>
                                                    <!-- <th scope="col">Remark</th> -->
                                                    <th scope="col">Action</th>
                                                  </tr>
                                                </thead>
                                                <tbody>
                                                  <tr>
                                                    <td class="wd-9">1</td>
                                                    <td>Adhar card</td>
                  
                                                    <td>
                                                      <a><i class="fa fa-paperclip text-orange"></i> &nbsp;
                                                        Adhar Copy Doc</a>
                                                    </td>
                                                    <!-- <td>
                                                        ABC Remark
                                                        </td> -->
                  
                                                    <td>
                                                      <i class="fa fa-upload font-16 text-blue cursor-pointer" tooltip="Upload"
                                                        (click)="UploadModalDocument(template1, i,document)" data-toggle="modal"
                                                        data-target="#UploadModal1"></i>&nbsp;&nbsp;
                                                    </td>
                  
                                                  </tr>
                  
                                                </tbody>
                                              </table>

                                              
                                            </div>
                  
                                          </div>
                                        </div>
                                        <br />
                                      </div>
                                    </div>
                  
                                  </fieldset>

                                  <ng-template #template>
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="UploadModalLabel">Bank Details</h5>
                                        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
                                          <span aria-hidden="true">×</span></button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="card">
                                            <div class="card-body">
                                             
                                              <div class="row">
                                                <div class="col-12">
                                                   <div class="float-right mb-15">
                                                    <div class="form-group">
                                                      <label class="form-label"></label>
                                                      <div class="input-icon mb-3">
                                                          <input type="text" class="form-control" placeholder="Search...">
                                                          <span class="input-icon-addon"><i class="fe fe-search"></i></span>
                                                      </div>
                                                      </div>
                                                     </div>
                                                     </div>
                                                     </div>
                                                <div class="row clearfix">
                                                  
                                                    <div class="col-md-12">
                                                
                                                      <p-table [value]="bankData" [paginator]="true" [rows]="10" [showCurrentPageReport]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [rowsPerPageOptions]="[10,25,50]" >
                                                        <ng-template pTemplate="header">
                                                            <tr>
                                                                
                                                                <th rowspan="2">
                                                                  <div class="p-d-flex p-jc-between p-ai-center">
                                                                    Select 
                                                                  </div>
                                                              </th>
                                                            
                                                             
                                                              <th rowspan="2">
                                                                  <div class="p-d-flex p-jc-between p-ai-center">
                                                                    IFCS Code
                                                      
                                                                      <div class="Sort_Filter_Position">
                                                                        <p-sortIcon field="Attribute"
                                                                        pSortableColumn="Attribute"></p-sortIcon>
                                                                       <p-columnFilter type="text" field="name" display="menu"
                                                                           class="p-ml-auto"></p-columnFilter>
                                                                      </div>
                                                                  </div>
                                                              </th>
                                                                                                                     
                                                           
                                                        <th rowspan="2" >
                                                          <div class="p-d-flex p-jc-between p-ai-center">
                                                            Bank Name
                                                              <div class="Sort_Filter_Position">
                                                                <p-sortIcon field="Attribute"
                                                                pSortableColumn="Attribute"></p-sortIcon>
                                                                  <p-columnFilter type="date" field="date" display="menu"
                                                                      class="p-ml-auto"></p-columnFilter>
                                                              </div>
                                                          </div>
                                                      </th>
                                                      <th rowspan="2" >
                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                          Branch Name
                                                            <div class="Sort_Filter_Position">
                                                              <p-sortIcon field="Attribute"
                                                              pSortableColumn="Attribute"></p-sortIcon>
                                                                <p-columnFilter type="date" field="date" display="menu"
                                                                    class="p-ml-auto"></p-columnFilter>
                                                            </div>
                                                        </div>
                                                    </th>
                                                    <th rowspan="2" >
                                                      <div class="p-d-flex p-jc-between p-ai-center">
                                                        Account Number
                                                          <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute"
                                                            pSortableColumn="Attribute"></p-sortIcon>
                                                              <p-columnFilter type="date" field="date" display="menu"
                                                                  class="p-ml-auto"></p-columnFilter>
                                                          </div>
                                                      </div>
                                                  </th>
                                                      
                                                            </tr>
                                                           
                                                           
                                                        </ng-template>
                                                      
                                                                         
                                                        <ng-template pTemplate="body" let-bankData>
                                                           
                                                            <tr class="p-selectable-row">
                                                               
                                                              <td class="text-center bg-color-light_gray">
                                                                <label class="custom-control custom-checkbox checkbox-center">
                                                                  <input type="checkbox"  class="custom-control-input" name="select" [(ngModel)]="bankData.isSelected" (click)="onSelectBanksdetails($event.target,data)"  /> 
                                                                  <span class="custom-control-label"></span>
                                                             </label>
                                                             
                                                              </td>
                                                                  <td class="text-center bg-color-light_gray" >{{bankData.bankIFSC}}</td>
                                                                    <td class="text-center bg-color-light_gray">{{bankData.bankName}}</td>
                                                                    <td class="text-center bg-color-light_gray">{{bankData.branchName}}</td>
                                                                    <td class="text-center bg-color-light_gray">{{bankData.accountNo}}</td>
                                                      
                                                              <!-- <td class="bg-color-light_gray"><label
                                                                      class="form-lable mb-0"> </label>{{bankData.ifscCode}}</td>
                                                              <td class="bg-color-light_gray">
                                                            
                                                              </td> -->
                                                            
                                                                    
                                                            
                                                          </tr>
                                                        
                                                      
                                                        </ng-template>
                                                        <ng-template pTemplate="emptymessage">
                                                            <tr>
                                                                <td colspan="15" class="font-14 font500 text-center text-red"><span>No Data
                                                                        Available</span></td>
                                                            </tr>
                                                        </ng-template>
                                                      </p-table>
                                                    </div>
                                                  
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                      <button type="submit" 
                                      class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left " tooltip="Reset" (click)="viewMaster(i)" ><b>
                                      <i class="fa fa-refresh"></i></b> Save</button>&nbsp;
                                     
                                        <button type="button" 
                                      class="custom_button custom_btn bg-btn-red btn-labeled btn-labeled-left " tooltip="Close" (click)="modalRef.hide()"><b>
                                      <i class="fa fa-times"></i></b> Close</button>&nbsp;
                                        </div>
                                  </ng-template>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <app-footer></app-footer>
        </div>
    </div>
</div>