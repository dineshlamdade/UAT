<app-leftmenu></app-leftmenu>

<div class="page">
  <app-header></app-header>
  <div class="section-body mt-3">
    <div class="container-fluid">
      <div class="row">
        <div class="col-12">
          <div class="card">
            <div class="card-body">
              <div class="tabview">
                <input name="nav" type="radio" class="about-radio" id="Tab1" [checked]="tabIndex == 0"
                  (click)="navigateToSummary()" />
                <div class="tabs about-page">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="card">
                        <div class="card-body">
                          <div class="row ">

                            <!-- Summary top buttons -->

                            <div class="col-md-12">
                              <div class="float-right">
                                <button type="button" tooltip="Approve"
                                  class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left mr-2"><b>
                                    <i class="fa fa-check-square-o"></i></b>Approve
                                </button>
                                <!-- <button type="button" tooltip="Edit Transaction"
                                  class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left mr-2">
                                  <b><i class="fa fa-pencil"></i></b> Edit Transaction
                                </button> -->
                              </div>
                            </div>

                          </div>
                          <div class="row mt-25">
                            <div class="col-md-12">

                              <p-table [value]="summaryData" [paginator]="true" [rows]="10"
                                [showCurrentPageReport]="true"
                                currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                [rowsPerPageOptions]="[10,25,50,100,200]" #dt1 [globalFilterFields]="['employeeMasterEntity.employeeCode','employeeMasterEntity.fullName',
                                                          'headMaster.standardName','headMaster.headNature','fromDate','toDate',
                                                          'uom','value','remark']">

                                <ng-template pTemplate="caption">
                                  <div class="row">
                                    <div class="col-md-2">
                                      <!-- <label class="form-label mb-0 mr-2  float-left">Selected
                                        Records <span class="text-dark-green font-14 font-bold">(0)</span></label> -->
                                    </div>

                                    <div class="col-md-10">
                                      <div class="float-right">
                                        <div class="d-flex">
                                          <div>
                                            <div class="form-group mr-2 ">
                                              <div class="input-group">
                                                <div class="input-group-prepend">
                                                  <span class="input-group-text">
                                                    <i class="fa fa-calendar"></i>
                                                  </span>
                                                </div>
                                                <input data-provide="datepicker" data-date-autoclose="true"
                                                [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"
                                                [(ngModel)]="summaryFromDate" [ngModelOptions]="{standalone : true}"
                                                  class="form-control" placeholder="From Date" bsDatepicker>
                                              </div>
                                            </div>
                                          </div>
                                          <div>
                                            <div class="form-group mr-2">
                                              <div class="input-group">
                                                <div class="input-group-prepend">
                                                  <span class="input-group-text">
                                                    <i class="fa fa-calendar"></i>
                                                  </span>
                                                </div>
                                                <input data-provide="datepicker" data-date-autoclose="true"
                                                [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"
                                                [(ngModel)]="summaryToDate" [ngModelOptions]="{standalone : true}"
                                                  class="form-control" placeholder="To Date" bsDatepicker>
                                              </div>
                                            </div>
                                          </div>
                                          <span class="p-input-icon-left p-ml-auto">
                                            <i class="pi pi-search"
                                              style="top: 9px !important;right:44px !important"></i>
                                            <input pInputText type="text"
                                              (input)="dt1.filterGlobal($event.target.value, 'contains')"
                                              placeholder="Search " />
                                          </span>

                                          <i class="fa fa-file-excel-o ml-2 font-24 mt-1 text-dark-green"></i>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </ng-template>

                                <ng-template pTemplate="header">
                                  <tr>
                                    <th class="wd-2">
                                      <div class="p-d-flex p-jc-between p-ai-center">
                                        Emp. Code
                                        <div class="Sort_Filter_Position">
                                          <p-sortIcon field="employeeMasterEntity.employeeCode"
                                            pSortableColumn="employeeMasterEntity.employeeCode">
                                          </p-sortIcon>
                                          <p-columnFilter type="text" field="employeeMasterEntity.employeeCode"
                                            display="menu" class="p-ml-auto">
                                          </p-columnFilter>
                                        </div>
                                      </div>
                                    </th>
                                    <th>
                                      <div class="p-d-flex p-jc-between p-ai-center">
                                        Emp. Name
                                        <div class="Sort_Filter_Position">
                                          <p-sortIcon field="employeeMasterEntity.fullName"
                                            pSortableColumn="employeeMasterEntity.fullName">
                                          </p-sortIcon>
                                          <p-columnFilter type="text" field="Desc" display="menu" class="p-ml-auto">
                                          </p-columnFilter>
                                        </div>
                                      </div>
                                    </th>
                                    <th class="wd-2">
                                      <div class="p-d-flex p-jc-between p-ai-center">
                                        Head Name
                                        <div class="Sort_Filter_Position">
                                          <p-sortIcon field="headMaster.standardName"
                                            pSortableColumn="headMaster.standardName">
                                          </p-sortIcon>
                                          <p-columnFilter type="text" field="headMaster.standardName" display="menu"
                                            class="p-ml-auto">
                                          </p-columnFilter>
                                        </div>
                                      </div>
                                    </th>
                                    <th class="wd-2">
                                      <div class="p-d-flex p-jc-between p-ai-center">
                                        <!-- Head Type -->
                                        <div class="Sort_Filter_Position">
                                          <p-sortIcon field="headMaster.headNature"
                                            pSortableColumn="headMaster.headNature">
                                          </p-sortIcon>
                                          <p-columnFilter type="text" field="headMaster.headNature" display="menu"
                                            class="p-ml-auto">
                                          </p-columnFilter>
                                        </div>
                                      </div>
                                    </th>
                                    <th class="wd-8 text-center">
                                      <div class="p-d-flex justify-content-center p-ai-center">
                                        From Date
                                        <div class="Sort_Filter_Position">
                                          <p-sortIcon field="fromDate" pSortableColumn="fromDate">
                                          </p-sortIcon>
                                          <p-columnFilter type="date" field="fromDate" display="menu" class="p-ml-auto">
                                          </p-columnFilter>
                                        </div>
                                      </div>
                                    </th>
                                    <th class="wd-8">
                                      <div class="p-d-flex p-jc-between p-ai-center">
                                        To Date
                                        <div class="Sort_Filter_Position">
                                          <p-sortIcon field="toDate" pSortableColumn="toDate">
                                          </p-sortIcon>
                                          <p-columnFilter type="date" field="toDate" display="menu" class="p-ml-auto">
                                          </p-columnFilter>
                                        </div>
                                      </div>
                                    </th>
                                    <th>
                                      <div class="p-d-flex p-jc-between p-ai-center">
                                        <span tooltip="Unit of Measure">UOM</span>
                                        <div class="Sort_Filter_Position">
                                          <p-sortIcon field="uom" pSortableColumn="uom">
                                          </p-sortIcon>
                                          <p-columnFilter type="text" field="uom" display="menu" class="p-ml-auto">
                                          </p-columnFilter>
                                        </div>
                                      </div>
                                    </th>
                                    <th>
                                      <div class="p-d-flex p-jc-between p-ai-center">
                                        <span tooltip="Unit of Measure">Closing
                                          Amount</span>
                                        <div class="Sort_Filter_Position">
                                          <p-sortIcon field="value" pSortableColumn="value">
                                          </p-sortIcon>
                                          <p-columnFilter type="number" field="value" display="menu" class="p-ml-auto">
                                          </p-columnFilter>
                                        </div>
                                      </div>
                                    </th>
                                    <!-- <th class="text-center wd-23">
                                      <div class="p-d-flex p-ai-center justify-content-center">
                                        Remark
                                        <div class="Sort_Filter_Position">
                                          <p-sortIcon field="remark" pSortableColumn="remark">
                                          </p-sortIcon>
                                          <p-columnFilter field="remark" display="menu" class="p-ml-auto">
                                          </p-columnFilter>
                                        </div>
                                      </div>
                                    </th> -->
                                    <th> Status </th>
                                    <th>Action</th>

                                  </tr>
                                  <tr>

                                  </tr>
                                </ng-template>

                                <ng-template pTemplate="body" let-summary>
                                  <tr class="p-selectable-row">
                                    <td >{{summary.employeeMasterEntity.employeeCode}}</td>
                                    <td class="bg-color-light_gray">
                                      <label class="form-lable mb-0">{{summary.employeeMasterEntity.fullName}}</label>
                                    </td>
                                    <td class="bg-color-light_gray">
                                      <label class="form-lable mb-0">{{summary.headMaster.standardName}}</label>
                                    </td>
                                    <td class="bg-color-light_gray">
                                      <label class="form-lable mb-0" tooltip="{{summary.headMaster.headNature}}">{{summary.headMaster.headNature.charAt(0)}}</label>
                                    </td>
                                    <td class="bg-color-light_gray">
                                      <label class="form-lable mb-0" tooltip="{{summary.fromDate | date: 'dd-MMM-yyyy'}}">{{summary.fromDate | date : 'dd-MMM-yy'}}</label>
                                    </td>
                                    <td class="bg-color-light_gray">
                                      <label class="form-lable mb-0" tooltip="{{summary.toDate | date: 'dd-MMM-yyyy'}}">{{summary.toDate | date: 'dd-MMM-yy'}}</label>
                                    </td>
                                    <td class="bg-color-light_gray">
                                      <label class="form-lable mb-0">{{summary.uom}}</label>
                                    </td>

                                    <td class="bg-color-light_gray text-right" style="text-align: right;">
                                      <label class="form-lable mb-0">{{summary.value | number: '1.2-2'}}</label>
                                    </td>
                                    <!-- <td class="bg-color-light_gray text-center">
                                      <label class="form-lable mb-0">{{summary.remark}}</label>
                                    </td> -->
                                    <td></td>
                                    <td>
                                      <i class="fa fa-eye text-blue font-16 mr-2"></i>
                                      <i class="fa fa-deviantart text-blue font-16"
                                        (click)="deviation(editdeviationPopup)"></i>
                                    </td>

                                  </tr>
                                </ng-template>

                                <ng-template pTemplate="emptymessage">
                                  <tr>
                                    <td colspan="15" class="font-14 font500 text-center text-red">
                                      <span>No Data Available</span>
                                    </td>
                                  </tr>
                                </ng-template>

                              </p-table>

                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <label class="nav" for="Tab1">
                  <span> Summary </span>
                </label>

                <input name="nav" type="radio" class="nav home-radio" id="Tab2" [checked]="tabIndex == 1"
                  (click)="navigateToTransaction()" />
                <div class="tabs about-page">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="card">
                        <div class="card-body">

                          <div class="row" *ngIf="payrollListEmpData">
                            <div class="col-md-6" *ngIf="payrollListEmpData.length > 0">
                              <div class="form-label">
                                Record {{payrollListEmpData.length}}
                              </div>
                            </div>
                            <div class="col-md-6" *ngIf="payrollListEmpData.length > 0">
                              <div class="float-right">
                                <label class="custom-switch ">
                                  <span class="form-label mr-2">Single Entry</span>
                                  <input type="checkbox" name="custom-switch-checkbox" class="custom-switch-input"
                                    (click)="getSelectedOption($event.target)">
                                  <span class="custom-switch-indicator"></span>
                                  <span class="form-label ml-2">Fast Entry</span>
                                </label>
                              </div>
                            </div>
                          </div>

                          <div class="tabview-contents" *ngIf="selectedOption == 'single' ">


                            <!-- Employee Selection Dropdown-->
                            <div class="row mt-10" *ngIf="showEmployeeSelectionFlag">
                              <div class="col-md-2">
                                <label class="form-label mb-0">Employee Code
                                </label>
                                <select name="EmployeeCode" class="form-control custom-select"
                                  [(ngModel)]="selectedEmployeeMasterId" [disabled]="showDropdownDisabled"
                                  (change)="getSelectedEmployeeCode($event.target.value)">
                                  <option value="">Select</option>
                                  <option value="{{emp.employeeMasterId}}" *ngFor="let emp of employeeData">
                                    {{emp.employeeCode}}
                                  </option>
                                </select>

                              </div>
                              <div class="col-md-2">
                                <label class="form-label mb-0">First Name
                                </label>
                                <select name="EmployeeCode" class="form-control custom-select"
                                  [(ngModel)]="selectedEmployeeMasterId" [disabled]="showDropdownDisabled"
                                  (change)="getSelectedEmployeeCode($event.target.value)">
                                  <option value="">Select</option>
                                  <!-- <option value="1"> 1111 </option> -->
                                  <option value="{{emp.employeeMasterId}}" *ngFor="let emp of employeeData">
                                    {{emp.firstName}}
                                  </option>
                                </select>

                              </div>
                              <div class="col-md-2">
                                <label class="form-label mb-0">Last Name
                                </label>
                                <select name="EmployeeCode" class="form-control custom-select"
                                  [(ngModel)]="selectedEmployeeMasterId" [disabled]="showDropdownDisabled"
                                  (change)="getSelectedEmployeeCode($event.target.value)">
                                  <option value="">Select</option>
                                  <!-- <option value="1"> 1111 </option> -->
                                  <option value="{{emp.employeeMasterId}}" *ngFor="let emp of employeeData">
                                    {{emp.lastName}}
                                  </option>
                                </select>

                              </div>
                              <div class="col-md-2">
                                <label class="form-label mb-0">Payroll
                                  Area</label>
                                <select name="PayrollArea" class="form-control custom-select"
                                  [(ngModel)]="selectedPayrollArea"
                                  (change)="getSelectedPayrollArea($event.target.value)"
                                  [disabled]="showDropdownDisabled">
                                  <option value="">Select</option>
                                  <option *ngFor="let payroll of payrollListData"
                                    [selected]="selectedPayrollArea == payroll.payrollAreaCode">
                                    {{payroll.payrollAreaCode}}</option>
                                </select>
                              </div>
                              <div class="col-md-4">
                                <div class="float-right">
                                  <button type="submit"
                                    class="custom_button custom_btn btn-bg-green mt-2 btn-labeled btn-labeled-left"
                                    tooltip="Save" (click)="graysearch(grays)"><b><i class="fas fa-search"></i></b>
                                    Search</button>
                                </div>
                              </div>

                            </div>


                            <!-- selected Employee basic information-->
                            <div class="col-md-12 pl-0 pr-0">
                              <div class="box-line-border radius-10 p-2 mt-3" *ngIf="employeeFinDetailsData">
                                <div class="row">
                                  <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Emp.
                                      No.</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                      {{employeeFinDetailsData.employeeCode}}
                                    </label>
                                  </div>
                                  <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Emp.
                                      Name</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                      {{employeeFinDetailsData.fullName}}
                                    </label>
                                  </div>


                                  <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Establishment</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                      {{employeeFinDetailsData.establishment}}
                                    </label>
                                  </div>
                                  <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Department</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">

                                    </label>
                                  </div>
                                  <div class="col-md-1">
                                    <label class="form-label mt-1 mb-0">Grade</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                      {{employeeFinDetailsData.grade}}
                                    </label>
                                  </div>
                                  <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Designation</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                      {{employeeFinDetailsData.designation}}
                                    </label>
                                  </div>

                                  <div class="col-md-1">
                                    <i class="fas fa-chevron-up arrow font-16 mt-2 text-purple float-right mr-2"
                                      (click)="hideempdetails()" *ngIf="isvisible"></i>
                                    <i class="fas fa-chevron-down arrow font-16 mt-2 text-purple float-right mr-2"
                                      (click)="visibleempdetails()" *ngIf="!isvisible"></i>
                                  </div>

                                </div>
                                <div class="row mt-10" *ngIf="isvisible">
                                  <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Payroll
                                      Area</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">

                                    </label>
                                  </div>
                                  <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Date
                                      of Joining</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                      {{employeeFinDetailsData.joiningDate
                                      | date: 'dd-MMM-yyyy'}}
                                    </label>
                                  </div>

                                  <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Status</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                      Probation
                                    </label>
                                  </div>



                                </div>
                              </div>
                            </div>

                            <div class="row mt-15">
                              <div class="col-md-12 p-0">
                                <div class="table-responsive Custom_Table">
                                  <p-table [value]="masterGridData" class="mt-10" [paginator]="true" [rows]="10"
                                    [showCurrentPageReport]="true"
                                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                    [rowsPerPageOptions]="[10,25,50,100,200]"
                                    [globalFilterFields]="['empcode','empName','Group','Frequency','Type','proofsubmission','PSIdDetails','SubmissionDate','Status']">

                                    <ng-template pTemplate="caption">
                                      <div class="row">
                                        <div class="col-md-6">
                                          <div class="row">
                                            <div class="col-md-4">
                                              <label class="form-label mb-2">Updation Type</label>
                                              <label class="custom-control custom-radio custom-control-inline mr-4">
                                                <input type="radio" [(ngModel)]="headField" class="custom-control-input"
                                                  name="isPEIRecord" (change)="selectedInputHeads()" [value]="1" />
                                                <span class="custom-control-label">Input</span>
                                              </label>
                                              <label class="custom-control custom-radio custom-control-inline mr-4">
                                                <input type="radio" [(ngModel)]="headField" class="custom-control-input"
                                                  name="isPEIRecord" (change)="selectedInputHeads()" [value]="2" />
                                                <span class="custom-control-label">All</span>
                                              </label>
                                            </div>
                                            <div class="col-md-4">
                                              <label class=" form-label ">Job Field</label>
                                              <select class="form-control">
                                                <option value="0">Sweeper</option>
                                                <option value="1">Cleaner</option>
                                                <option value="1">Gardner</option>
                                              </select>
                                            </div>
                                            <div class="col-md-4">
                                              <label class="form-label ">Updation Field</label>
                                              <select name="Gender" class="form-control custom-select"
                                                [(ngModel)]="updationField"
                                                (change)="getUpdationField($event.target.value)">
                                                <!--options.selectedIndex <option selected value=null>select</option> -->
                                                <option value="1">Change Amount</option>
                                                <option value="2">Change %</option>
                                                <option value="3">Closing Amount</option>
                                              </select>
                                            </div>
                                          </div>


                                          <!-- <pre>changeValueFlag : {{changeValueFlag}}</pre>
                                          <pre>changePercentageFlag : {{changePercentageFlag}}</pre>
                                          <pre>closingAmountFlag : {{closingAmountFlag}}</pre> -->

                                        </div>

                                        <div class="col-md-6 mt-20">

                                          <div class="float-right">
                                            <div class="d-flex">
                                              <button type="button" tooltip="Compension and Benefit Summary"
                                                class="custom_button custom_btn btn-bg-green mr-2 btn-labeled btn-labeled-left ripple">
                                                <b> <i class="fa fa-file-alt"></i></b>C&B Summary</button>
                                              <span class="p-input-icon-left p-ml-auto">
                                                <i class="pi pi-search"
                                                  style="top: 9px !important;right: 44px !important;"></i>
                                                <input pInputText type="text"
                                                  (input)="dt1.filterGlobal($event.target.value, 'contains')"
                                                  placeholder="Search " />
                                              </span>


                                            </div>
                                          </div>


                                        </div>
                                      </div>
                                    </ng-template>

                                    <ng-template pTemplate="header">
                                      <tr>
                                        <!-- <th>Sr. No.</th> -->
                                        <th>
                                          <div class="p-d-flex p-jc-between p-ai-center">
                                            <!-- Head Type -->
                                            <div class="Sort_Filter_Position">
                                              <p-sortIcon field="headType"></p-sortIcon>
                                              <p-columnFilter type="text" field="headType" display="menu"
                                                class="p-ml-auto"></p-columnFilter>
                                            </div>
                                          </div>
                                        </th>
                                        <th>
                                          <div class="p-d-flex p-jc-between p-ai-center">
                                            Head Description
                                            <div class="Sort_Filter_Position">
                                              <p-sortIcon field="headDescription"></p-sortIcon>
                                              <p-columnFilter type="text" field="headDescription" display="menu"
                                                class="p-ml-auto"></p-columnFilter>
                                            </div>
                                          </div>
                                        </th>

                                        <th class="text-center">
                                          <div class="p-d-flex p-jc-between p-ai-center">
                                            From Date
                                            <div class="Sort_Filter_Position">
                                              <p-sortIcon field="fromdate"></p-sortIcon>
                                              <p-columnFilter type="date" field="fromdate" display="menu"
                                                class="p-ml-auto"></p-columnFilter>
                                            </div>
                                          
                                          </div>
                                        </th>
                                        <th class="text-center">
                                          <div class="p-d-flex p-jc-between p-ai-center">
                                            To Date
                                            <div class="Sort_Filter_Position">
                                              <p-sortIcon field="todate"></p-sortIcon>
                                              <p-columnFilter type="date" field="todate" display="menu"
                                                class="p-ml-auto"></p-columnFilter>
                                            </div>
                                          
                                          </div>
                                        </th>

                                        <th class="wd-8">
                                          <div class="p-d-flex p-jc-between p-ai-center">
                                            Opening Amount
                                            <div class="Sort_Filter_Position">
                                              <p-sortIcon field="openingAmount"></p-sortIcon>
                                              <p-columnFilter type="numeric" field="openingAmount" display="menu" class="p-ml-auto">
                                              </p-columnFilter>
                                            </div>
                                          </div>
                                        </th>

                                        <th class="wd-8">
                                          <div class="p-d-flex p-jc-between p-ai-center">
                                            Change Amount
                                            <div class="Sort_Filter_Position">
                                              <p-sortIcon field="changeValue"></p-sortIcon>
                                              <p-columnFilter type="numeric" field="changeValue" display="menu"
                                                class="p-ml-auto"></p-columnFilter>
                                            </div>
                                          
                                          </div>
                                        </th>
                                        <th class="wd-8 text-center">
                                          <div class="p-d-flex justify-content-center p-ai-center">
                                            Change %
                                            <div class="Sort_Filter_Position">
                                              <p-sortIcon field="changePercenatge"></p-sortIcon>
                                              <p-columnFilter type="numeric" field="changePercenatge" display="menu"
                                                class="p-ml-auto"></p-columnFilter>
                                            </div>
                                          
                                          </div>
                                        </th>
                                        <th class="wd-8">
                                          <div class="p-d-flex p-jc-between p-ai-center">
                                            Closing Amount
                                            <div class="Sort_Filter_Position">
                                              <p-sortIcon field="closingAmount"></p-sortIcon>
                                              <p-columnFilter type="numeric" field="closingAmount" display="menu"
                                                class="p-ml-auto"></p-columnFilter>
                                            </div>
                                          </div>
                                        </th>
                                        <th>
                                          <div class="p-d-flex p-jc-between p-ai-center">
                                            <span tooltip="Unit of Measure">UOM</span>
                                            <div class="Sort_Filter_Position">
                                              <p-sortIcon field="uom"></p-sortIcon>
                                              <p-columnFilter type="text" field="uom" display="menu"
                                                class="p-ml-auto"></p-columnFilter>
                                            </div>
                                          </div>
                                        </th>
                                        <th>Remark</th>
                                        <th></th>
                                        <!-- <th style="width: 8rem"></th> -->
                                      </tr>

                                    </ng-template>

                                    <ng-template pTemplate="body" let-summary let-rowIndex="rowIndex">
                                      <tr class="p-selectable-row" *ngIf="headsFlag[rowIndex]">
                                        <!-- <td><span>{{summary.srNo}} </span></td> -->
                                        <td class="bg-color-light_gray"><span tooltip="{{ summary.headType }}">
                                            {{summary.headType.charAt(0) }} </span>
                                        </td>
                                        <td class="bg-color-light_gray">
                                          <span class="text-link"
                                            (click)="ViewHistory(template,summary.id,summary)">{{summary.headDescription}}</span>
                                        </td>



                                        <td colspan="2">
                                          <div class="d-flex">
                                            <span class="ml-2 mr-2 mt-2" (click)="copyDateFromUpdteMaster(rowIndex)"><i
                                                class="fa fa-clone text-blue font-16"></i></span>
                                                <!-- {{summary.todate}} -->

                                            <input type="text" class="form-control"
                                              [ngModel]="summary.fromdate | date: 'dd-MMM-yy'"
                                              (ngModelChange)="summary.fromdate = $event.toLocaleDateString()"
                                              [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" data-provide="datepicker"
                                              bsDatepicker />
                                            <input type="text" class="form-control"
                                              [ngModel]="summary.todate | date: 'dd-MMM-yyyy'"
                                              (ngModelChange)="summary.todate = $event.toLocaleDateString()"
                                              [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }" data-provide="datepicker"
                                              bsDatepicker />
                                          </div>
                                        </td>
                                        <td><input type="text" style="text-align: right;" [(ngModel)]="summary.openingAmount"
                                            value="{{summary.openingAmount | number : '1.2-2'}}"
                                            class="form-control align-right" disabled /> </td>
                                        <td>
                                          <input type="text" style="text-align: right;" (change)="onChangeValueCalculation(rowIndex)"
                                            [(ngModel)]="summary.changeValue" class="form-control"
                                            [disabled]="((changeValueFlag) || (summary.isPEIRecord !='Yes'))" />
                                        </td>
                                        <td>
                                          <input type="text" (change)="onChangePercentageCalculation(rowIndex)"
                                            [(ngModel)]="summary.changePercenatge" class="form-control"
                                            value="{{summary.changePercenatge.toFixed(2)}}"
                                            [disabled]="((changePercentageFlag) || (summary.isPEIRecord !='Yes'))" />
                                        </td>
                                        <td>
                                          <input type="text" style="text-align: right;" (change)="onChangeClosingAmountCalculation(rowIndex)"
                                            [(ngModel)]="summary.closingAmount" class="form-control"
                                            [disabled]="((closingAmountFlag) || (summary.isPEIRecord !='Yes'))" />
                                        </td>
                                        <td class="bg-color-light_gray text-center"> <label
                                            class="form-lable mb-0">{{summary.uom}}</label>
                                        </td>

                                        <td>
                                          <input type="text" [(ngModel)]="summary.remark" class="form-control" />
                                        </td>
                                        <td>
                                          <span class="ml-1 mt-2"><i
                                              class="fa fa-deviantart font-16 text-blue cursor-pointer"
                                              aria-hidden="true"></i></span>
                                        </td>
                                      </tr>
                                    </ng-template>

                                    <ng-template pTemplate="emptymessage">
                                      <tr>
                                        <td colspan="15" class="font-14 font500 text-center text-red">
                                          <!-- <span>No Data Available</span> -->
                                        </td>
                                      </tr>
                                    </ng-template>

                                  </p-table>
                                </div>


                                <div class="row mt-15">
                                  <div class="col-12">
                                    <div class="float-right mb-15">
                                      <button type="submit" *ngIf="payrollListEmpData" tooltip="Save & Next Employee"
                                      [disabled]="payrollListEmpData.length == 1 || (payrollListEmpData.length-1) == index"
                                      [ngClass]="{'disabled-btn-bg-green' : payrollListEmpData.length == 1 || (payrollListEmpData.length-1) == index}"
                                        class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple">
                                        <b> <i class="fa fa-floppy-o"></i></b> Save & Next Employee
                                      </button>
                                      <button type="button" tooltip="Save"
                                      [disabled]="saveDisabledFlag"
                                      [ngClass]="{'disabled-btn-bg-green' : saveDisabledFlag}"
                                        class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ml-10"
                                        (click)="submit()">
                                        <b><i class="fa fa-floppy-o" aria-hidden="true"></i></b>Save
                                      </button>
                                      <button type="button" tooltip="Previous" *ngIf="payrollListEmpData"
                                      [disabled]="payrollListEmpData.length == 1 || index == 0"
                                      [ngClass]="{'disabled-btn-bg-green' : payrollListEmpData.length == 1 || index == 0}"
                                      (click)="previousEmployee()"
                                        class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10">
                                        <b><i class="fa fa-angle-double-left" aria-hidden="true"></i></b>Previous
                                      </button>
                                      <button type="button" tooltip="Next" *ngIf="payrollListEmpData"
                                      [disabled]="payrollListEmpData.length == 1 || (payrollListEmpData.length-1) == index"
                                      [ngClass]="{'disabled-btn-bg-green' : payrollListEmpData.length == 1 || (payrollListEmpData.length-1) == index}"
                                      (click)="nextEmployee()"
                                        class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10">
                                        <b><i class="fa fa-angle-double-right" aria-hidden="true"></i></b>Next
                                      </button>
                                      <button type="button" tooltip="Reset"
                                      (click)="resetData()"
                                        class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10">
                                        <b><i class="fa fa-refresh" aria-hidden="true"></i></b>Reset
                                      </button>
                                    </div>
                                  </div>
                                </div>

                              </div>
                            </div>
                          </div>


                          <div *ngIf="selectedOption != 'single' ">

                            <div class="tabview-contents">
                              <div class="row">
                                <div class="col-12">
                                  <div class="card">
                                    <div class="card-body p-0">
                                      <div class="col-12 mt-10">



                                        <div class="row">
                                          <div class="col-md-12">


                                            <div class="row mt-20">
                                              <div class="col-sm-3">
                                                <label class="form-label"> Head</label>
                                                <select name="payrollarea" class="form-control input-icon " [(ngModel)]="headMasterId">


                                                  <option> Select
                                                    <span class="input-icon-addon"><i class="fa fa-search"></i></span>
                                                  </option>
                                                  <option *ngFor="let head of headData" value="{{head.headMasterId}}"
                                                    [selected]="headMasterId == head.headMasterId">
                                                    {{head.displayName}}
                                                  </option>
                                                </select>

                                              </div>




                                              <div class="col-sm-3">
                                                <label class="form-label">Updation Field</label>


                                                <select name="updationfield" class="form-control"
                                                  (change)="getSelectedUpdationField($event.target.value)">
                                                  <option value=""> Select</option>
                                                  <option>Change Amount</option>
                                                  <option>Change Percentage</option>
                                                  <option>Closing Amount</option>
                                                </select>

                                              </div>
                                              <div class="col-sm-3" *ngIf="selectedUpdationField == 'Change Amount'">
                                                <label class="form-label">Change Amount</label>
                                                <input type="text" class="form-control" [(ngModel)]="changeAmountVal">

                                              </div>

                                              <div class="col-sm-3"
                                                *ngIf="selectedUpdationField == 'Change Percentage'">
                                                <label class="form-label">Change Percentage</label>
                                                <input type="text" class="form-control"
                                                  [(ngModel)]="changePercenatgeVal">

                                              </div>
                                              <div class="col-sm-3" *ngIf="selectedUpdationField == 'Closing Amount'">
                                                <label class="form-label">Closing Amount</label>
                                                <input type="text" class="form-control" [(ngModel)]="closingAmtVal">

                                              </div>

                                            </div>

                                            <div class="row mt-20">
                                              <div class="col-sm-3">
                                                <label class="form-label">From Date</label>
                                                <div class="input-group">
                                                  <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                      <i class="fa fa-calendar"></i>
                                                    </span>
                                                  </div>
                                                  <input data-provide="datepicker" data-date-autoclose="true"
                                                    class="form-control" [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"
                                                    [value]="slectedFromDate | date: 'dd-MMM-yyyy'"
                                                    (bsValueChange)="getFastEntryFromDate($event)" placeholder="Date"
                                                    bsDatepicker>
                                                </div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="form-label">To Date</label>

                                                <div class="input-group">
                                                  <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                      <i class="fa fa-calendar"></i>
                                                    </span>
                                                  </div>
                                                  <input data-provide="datepicker" data-date-autoclose="true"
                                                    [value]="slectedToDate" class="form-control"
                                                    [minDate]="slectedFromDate"
                                                    [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"
                                                    (bsValueChange)="getFastEntryToDate($event)" placeholder="Date"
                                                    bsDatepicker>
                                                </div>

                                              </div>
                                              <div class="col-sm-3">

                                                <button type="submit"
                                                  class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple mt-3"
                                                  (click)="getAllFastEntryData()" tooltip="Go"><b>
                                                    <i class="fa fa-arrow-right"></i></b>
                                                  Go</button>
                                                <button type="button"
                                                  class="custom_button custom_btn ml-2 bg-teal-400 btn-labeled btn-labeled-left mt-3"
                                                  tooltip="Reset"><b>
                                                    <i class="fa fa-refresh"></i></b>
                                                  Reset</button>
                                              </div>



                                            </div>
                                            <!-- end of row -->



                                          </div>
                                        </div>


                                        <div class="row mt-25">
                                          <div class="col-md-12">
                                            <p-table [value]="tabledata">
                                              <ng-template pTemplate="header">
                                                <tr>
                                                  <th rowspan="2" class=" text-center">Sr. No.</th>
                                                  <th rowspan="2" class=" text-center">
                                                    <div class="p-d-flex p-jc-between p-ai-center">Emp. Code
                                                      <div class="Sort_Filter_Position">
                                                        <p-sortIcon field="PayrollArea" pSortableColumn="PayrollArea">
                                                        </p-sortIcon>
                                                        <p-columnFilter type="text" field="name" display="menu"
                                                          class="p-ml-auto">
                                                        </p-columnFilter>
                                                      </div>
                                                    </div>
                                                  </th>
                                                  <th rowspan="2" class=" text-center">
                                                    <div class="p-d-flex p-jc-between p-ai-center"> Emp. Name
                                                      <div class="Sort_Filter_Position">
                                                        <p-sortIcon field="Description" pSortableColumn="Description">
                                                        </p-sortIcon>
                                                        <p-columnFilter type="text" field="Desc" display="menu"
                                                          class="p-ml-auto">
                                                        </p-columnFilter>
                                                      </div>
                                                    </div>
                                                  </th>
                                                  <th rowspan="2" class=" text-center">
                                                    <div class="p-d-flex p-jc-between p-ai-center"
                                                      style="margin-left:25px;"> Payroll Area
                                                      <div class="Sort_Filter_Position">
                                                        <p-sortIcon field="Type" pSortableColumn="Type">
                                                        </p-sortIcon>
                                                        <p-columnFilter type="date" field="date" display="menu"
                                                          class="p-ml-auto">
                                                        </p-columnFilter>
                                                      </div>
                                                    </div>
                                                  </th>

                                                  <th rowspan="2" class=" text-center">
                                                    <div class="p-d-flex justify-content-center p-ai-center">
                                                      From Date
                                                      <div class="Sort_Filter_Position">
                                                        <p-sortIcon field="FromDate" pSortableColumn="FromDate">
                                                        </p-sortIcon>
                                                        <p-columnFilter field="activity" display="menu"
                                                          class="p-ml-auto">
                                                        </p-columnFilter>
                                                      </div>
                                                    </div>
                                                  </th>
                                                  <th rowspan="2" class=" text-center">
                                                    <div class="p-d-flex justify-content-center p-ai-center">
                                                      To Date
                                                      <div class="Sort_Filter_Position">
                                                        <p-sortIcon field="FromDate" pSortableColumn="FromDate">
                                                        </p-sortIcon>
                                                        <p-columnFilter field="activity" display="menu"
                                                          class="p-ml-auto">
                                                        </p-columnFilter>
                                                      </div>
                                                    </div>
                                                  </th>
                                                  <th rowspan="2" class=" text-center">
                                                    <div class="p-d-flex p-jc-between p-ai-center"
                                                      style="margin-left:25px;">Change Amount
                                                      <div class="Sort_Filter_Position">
                                                        <p-sortIcon field="ToDate" pSortableColumn="ToDate">
                                                        </p-sortIcon>
                                                        <p-columnFilter field="activity" display="menu"
                                                          class="p-ml-auto">
                                                        </p-columnFilter>
                                                      </div>
                                                    </div>
                                                  </th>


                                                  <th rowspan="2" class=" text-center">
                                                    <div class="p-d-flex p-jc-between p-ai-center"> UOM

                                                      <div class="Sort_Filter_Position">
                                                        <p-sortIcon field="PrimaryArea" pSortableColumn="PrimaryArea">
                                                        </p-sortIcon>
                                                        <p-columnFilter field="status" matchMode="equals" display="menu"
                                                          class="p-ml-auto">
                                                        </p-columnFilter>
                                                      </div>
                                                    </div>
                                                  </th>

                                                  <!-- <th rowspan="2" class="wd-3 text-center"> Action </th> -->

                                                </tr>

                                              </ng-template>
                                              <ng-template pTemplate="body" let-data let-rowIndex="rowIndex">
                                                <tr class="p-selectable-row">
                                                  <td class="text-center">{{rowIndex + 1}}</td>
                                                  <td>
                                                    {{data.employeeCode}}
                                                  </td>
                                                  <td>
                                                    {{data.employeeName}}
                                                  </td>
                                                  <td>
                                                    {{data.PayrollAreaName}}
                                                  </td>
                                                  <td>
                                                    <div class="p-d-inline-flex">
                                                      <div class="form-group mb-0  mt-1 SMDatepickerWidth">
                                                        <div class="input-group">
                                                          <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                              <i class="fa fa-calendar"></i>
                                                            </span>
                                                          </div>
                                                          <input data-provide="datepicker" data-date-autoclose="true"
                                                            class="form-control"
                                                            [value]="data.fromDate | date:'dd-MMM-yyyy'"
                                                            placeholder="Date" bsDatepicker>
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </td>
                                                  <td>
                                                    <div class="p-d-inline-flex">
                                                      <div class="form-group mb-0  mt-1 SMDatepickerWidth">
                                                        <div class="input-group">
                                                          <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                              <i class="fa fa-calendar"></i>
                                                            </span>
                                                          </div>
                                                          <input data-provide="datepicker" data-date-autoclose="true"
                                                            class="form-control"
                                                            [value]="data.toDate | date: 'dd-MMM-yyyy'"
                                                            placeholder="Date" bsDatepicker>
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </td>


                                                  <td>
                                                    {{data.updationField}}
                                                  </td>
                                                  <td>
                                                    <input type="text" class="form-control" [value]="data.value">
                                                  </td>
                                                  <!-- <td>
                                                    {{data.remark}}
                                                  </td> -->
                                                  <!-- <td> -->
                                                  <!-- <i class="fa fa-times"></i> -->
                                                  <!-- </td> -->


                                                </tr>

                                              </ng-template>
                                              <ng-template pTemplate="emptymessage">
                                                <tr>
                                                  <td colspan="15" class="font-14 font500 text-center text-red">
                                                    <span>No Data
                                                      Available</span>
                                                  </td>
                                                </tr>
                                              </ng-template>
                                            </p-table>
                                          </div>
                                        </div>
                                        <div class="row mt-15">
                                          <div class="col-12">
                                            <div class="float-right mb-15">
                                              <button type="submit"
                                                class="custom_button custom_btn btn-bg-green btn-labeled mr-2 btn-labeled-left ripple"
                                                tooltip="Save" (click)="saveFastEntry()"><b>
                                                  <i class="fa fa-floppy-o"></i></b> Save</button>
                                              <!-- <button type="submit"
                                                                            class="custom_button custom_btn  btn-bg-green btn-labeled btn-labeled-left ripple"
                                                                            tooltip="Save"><b>
                                                                              <i class="fa fa-floppy-o"></i></b>Save & Clear</button>&nbsp; -->
                                              <button type="button"
                                                class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left "
                                                tooltip="Reset"><b>
                                                  <i class="fa fa-refresh"></i></b> Reset</button>
                                            </div>
                                          </div>
                                        </div>
                                      </div>

                                    </div> <!-- card body -->
                                  </div>
                                </div>

                              </div>
                            </div>

                          </div>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <label class="nav" for="Tab2">
                  <span> Transaction </span>
                </label>

                <input name="nav" type="radio" class="about-radio" id="Tab3" />

                <div class="tabs about-page">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="card">
                        <div class="card-body">
                          <h4>Tab3 Content here</h4>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <label class="nav" for="Tab3">
                  <span> Minimum Wages Schedule </span>
                </label>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<ng-template #editdeviationPopup>

  <div class="modal-header">
    <h5 class="modal-title" id="UploadModalLabel">Deviation</h5>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
        aria-hidden="true"></span></button>
  </div>
  <div class="modal-body">
    <div class="card">
      <div class="card-body">
        <div class="row ">
          <div class="col-md-3">
            <label for="" class="form-label">Emp. Code</label>
            <input type="text " class="form-control" disabled>
          </div>
          <div class="col-md-3">
            <label for="" class="form-label">Emp. Name</label>
            <input type="text " class="form-control" disabled>
          </div>
          <div class="col-md-3">
            <label for="" class="form-label">Head</label>
            <input type="text " class="form-control" disabled>
          </div>
          <div class="col-md-3">
            <label for="" class="form-label">Type</label>
            <input type="text " class="form-control" disabled>
          </div>
        </div>
        <div class="row mt-25">
          <div class="col-md-12">
            <div class=" table-responsive  Custom_Table">
              <p-table [value]="users1">
                <ng-template pTemplate="header">
                  <tr>
                    <th>Sr. No.</th>
                    <th>
                      <div class="p-d-flex p-jc-between p-ai-center">Attribute
                        <div class="Sort_Filter_Position">
                          <p-sortIcon field="name"></p-sortIcon>
                          <p-columnFilter type="text" field="name" display="menu" class="p-ml-auto">
                          </p-columnFilter>
                        </div>
                      </div>
                    </th>
                    <th>
                      <div class="p-d-flex p-jc-between p-ai-center">Nature
                        <div class="Sort_Filter_Position">
                          <p-sortIcon field="representative.name"></p-sortIcon>
                          <p-columnFilter type="text" field="Desc" display="menu" class="p-ml-auto">
                          </p-columnFilter>
                        </div>
                      </div>
                    </th>
                    <th class="wd-8">
                      <div class="p-d-flex p-jc-between p-ai-center">Group ID
                        <div class="Sort_Filter_Position">
                          <p-sortIcon field="date"></p-sortIcon>
                          <p-columnFilter type="date" field="date" display="menu" class="p-ml-auto"> </p-columnFilter>
                        </div>
                      </div>
                    </th>
                    <th class="wd-8">
                      <div class="p-d-flex p-jc-between p-ai-center">Once Every
                        <div class="Sort_Filter_Position">
                          <p-sortIcon field="status"></p-sortIcon>
                          <p-columnFilter field="status" matchMode="equals" display="menu" class="p-ml-auto">
                          </p-columnFilter>
                        </div>
                      </div>
                    </th>
                    <th class="wd-8 text-center">
                      <div class="p-d-flex justify-content-center p-ai-center">Frequency
                        <div class="Sort_Filter_Position">
                          <p-sortIcon field="activity"></p-sortIcon>
                          <p-columnFilter field="activity" display="menu" class="p-ml-auto">
                          </p-columnFilter>
                        </div>
                      </div>
                    </th>
                    <th class="wd-8">
                      <div class="p-d-flex p-jc-between p-ai-center">Type
                        <div class="Sort_Filter_Position">
                          <p-sortIcon field="activity"></p-sortIcon>
                          <p-columnFilter field="activity" display="menu" class="p-ml-auto">
                          </p-columnFilter>
                        </div>
                      </div>
                    </th>
                    <th>
                      <div class="p-d-flex p-jc-between p-ai-center">
                        <span tooltip="Unit of Measure">Amount Entered</span>
                        <div class="Sort_Filter_Position">
                          <p-sortIcon field="activity"></p-sortIcon>
                          <p-columnFilter field="activity" display="menu" class="p-ml-auto">
                          </p-columnFilter>
                        </div>
                      </div>
                    </th>
                    <th>Limit</th>
                    <th class="text-center wd-23">
                      <div class="p-d-flex p-ai-center justify-content-center">Amount
                        <div class="Sort_Filter_Position">
                          <p-sortIcon field="activity"></p-sortIcon>
                          <p-columnFilter field="activity" display="menu" class="p-ml-auto">
                          </p-columnFilter>
                        </div>
                      </div>
                    </th>
                    <th> %</th>
                    <th>Remark</th>
                    <th>Status</th>
                  </tr>

                </ng-template>
                <ng-template pTemplate="body" let-user1>

                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                    <td colspan="15" class="font-14 font500 text-center text-red"><span>No Data
                        Available</span>
                    </td>
                  </tr>
                </ng-template>
              </p-table>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</ng-template>

<!--Search Gray strip Popup-->
<ng-template #grays>
  <div class="modal-header">
    <h5 class="modal-title" id="UploadModalLabel">Search Criteria</h5>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
        aria-hidden="true"></span></button>
  </div>
  <div class="modal-body">
    <!--Personnel Infor Collapsible Angular-->
    <div class="row ">
      <div class="col-md-12">
        <div class="card ">
          <div class="box1 box-border">
            <div id="page">
              <input class="toggle-box" id="identifier-22" type="checkbox" />
              <label for="identifier-22">Personal Information</label>
              <div class="row">
                <div class="col-md-12">
                  <div class="row mt-25">
                    <div class="col-md-3">
                      <label class="form-label">Emp. Code</label>
                      <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>111</option>
                        <option>111</option>
                      </select>
                    </div>
                    <div class="col-md-3">
                      <label class="form-label">First Name</label>
                      <input type="text" class="form-control">
                    </div>
                    <div class="col-md-3"> <label class="form-label">Last Name</label>
                      <input type="text" class="form-control">
                    </div>
                    <div class="col-md-3">
                      <label class="form-label">Gender</label>
                      <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>Male</option>
                        <option>Female</option>
                        <option value="">Transgender</option>
                      </select>
                    </div>


                  </div>
                  <div class="row mt-25">
                    <div class="col-md-3">
                      <label class="form-label" for="range">Date of Joining</label>

                      <p-calendar [(ngModel)]="rangeDates" selectionMode="range" [readonlyInput]="true" inputId="range">
                      </p-calendar>


                    </div>
                    <div class="col-md-3">
                      <label class="form-label" for="range">Date of Leaving</label>


                      <p-calendar [(ngModel)]="rangeDates" selectionMode="range" [readonlyInput]="true" inputId="range">
                      </p-calendar>


                    </div>
                    <div class="col-md-3">
                      <label class="form-label">Service Age</label>
                      <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>1 - 2 years</option>
                        <option>2 - 3 years</option>
                        <option>3 - 5 years</option>
                        <option>5 - 7 years</option>
                        <option>7- 10 years</option>
                        <option>10 -15 years</option>
                        <option>15-20 years</option>
                        <option>Above 20 years</option>
                      </select>
                    </div>

                    <div class="col-md-3">
                      <label class="form-label">Payroll Area</label>
                      <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>111</option>
                        <option>111</option>
                      </select>
                    </div>


                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row ">
      <div class="col-md-12">
        <div class="card ">
          <div class="box1 box-border">
            <div id="page">
              <input class="toggle-box" id="identifier-23" type="checkbox" />
              <label for="identifier-23">Job Information</label>
              <div class="row">
                <div class="col-md-12">
                  <div class="row mt-25">
                    <div class="col-md-3">
                      <label class="form-label">Establishment</label>
                      <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>111</option>
                        <option>111</option>
                      </select>
                    </div>
                    <div class="col-md-3">
                      <label class="form-label">Department</label>
                      <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                      </select>
                    </div>
                    <div class="col-md-3">
                      <label class="form-label">Grade</label>
                      <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                      </select>
                    </div>
                    <div class="col-md-3">
                      <label class="form-label">Designation</label>
                      <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                      </select>
                    </div>

                  </div>
                  <div class="row mt-25">
                    <div class="col-md-3">
                      <label class="form-label">Designation2</label>
                      <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                      </select>
                    </div>
                    <div class="col-md-3">
                      <label class="form-label">Emp Type</label>
                      <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                      </select>
                    </div>

                    <div class="col-md-3">
                      <label class="form-label">Business Area </label>
                      <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>111</option>
                        <option>111</option>
                      </select>
                    </div>
                    <div class="col-md-3">
                      <label class="form-label">Strategic Business Unit</label>
                      <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                      </select>
                    </div>

                  </div>
                  <div class="row mt-25">

                    <div class="col-md-3">
                      <label class="form-label">Division </label>
                      <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                      </select>
                    </div>
                    <div class="col-md-3">
                      <label class="form-label">Work Location </label>
                      <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                      </select>
                    </div>
                    <div class="col-md-3">
                      <label class="form-label">Cost Center</label>
                      <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                      </select>
                    </div>
                    <div class="col-md-3">
                      <label class="form-label">Emp. Tax Category</label>
                      <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                      </select>
                    </div>



                  </div>
                  <div class="row mt-25">


                    <div class="col-md-3">
                      <label class="form-label">Emp. Status</label>
                      <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                      </select>
                    </div>

                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>



    <!-- <fieldset>
            <legend>Personal Information</legend>


            <div class="row">
                <div class="col-md-3">
                    <label class="form-label">Emp. Code</label>
                    <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>111</option>
                        <option>111</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label">First Name</label>
                    <input type="text" class="form-control">
                </div>
                <div class="col-md-3"> <label class="form-label">Last Name</label>
                    <input type="text" class="form-control">
                </div>
                <div class="col-md-3">
                    <label class="form-label">Gender</label>
                    <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>Male</option>
                        <option>Female</option>
                        <option value="">Transgender</option>
                    </select>
                </div>


            </div>
            <div class="row mt-25">
                <div class="col-md-3">
                    <label class="form-label" for="range">Date of Joining</label>


                    <p-calendar [(ngModel)]="rangeDates" selectionMode="range" [readonlyInput]="true" inputId="range">
                    </p-calendar>


                </div>
                <div class="col-md-3">
                    <label class="form-label" for="range">Date of Leaving</label>


                    <p-calendar [(ngModel)]="rangeDates" selectionMode="range" [readonlyInput]="true" inputId="range">
                    </p-calendar>


                </div>
                <div class="col-md-3">
                    <label class="form-label">Service Age</label>
                    <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>1 - 2 years</option>
                        <option>2 - 3 years</option>
                        <option>3 - 5 years</option>
                        <option>5 - 7 years</option>
                        <option>7- 10 years</option>
                        <option>10 -15 years</option>
                        <option>15-20 years</option>
                        <option>Above 20 years</option>
                    </select>
                </div>

                <div class="col-md-3">
                    <label class="form-label">Payroll Area</label>
                    <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>111</option>
                        <option>111</option>
                    </select>
                </div>


            </div>
        </fieldset> -->
    <!-- <fieldset>
            <legend>
                Job Information
            </legend>

            <div class="row">
                <div class="col-md-3">
                    <label class="form-label">Establishment</label>
                    <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>111</option>
                        <option>111</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Department</label>
                    <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Grade</label>
                    <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Designation</label>
                    <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                    </select>
                </div>

            </div>
            <div class="row mt-25">
                <div class="col-md-3">
                    <label class="form-label">Designation2</label>
                    <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Emp Type</label>
                    <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                    </select>
                </div>

                <div class="col-md-3">
                    <label class="form-label">Business Area </label>
                    <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>111</option>
                        <option>111</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Strategic Business Unit</label>
                    <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                    </select>
                </div>

            </div>
            <div class="row mt-25">

                <div class="col-md-3">
                    <label class="form-label">Division </label>
                    <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Work Location </label>
                    <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Cost Center</label>
                    <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Emp. Tax Category</label>
                    <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                    </select>
                </div>



            </div>
            <div class="row mt-25">


                <div class="col-md-3">
                    <label class="form-label">Emp. Status</label>
                    <select name="Gender" class="form-control custom-select">
                        <option>Select</option>
                        <option>HR</option>
                        <option>111</option>
                    </select>
                </div>

            </div>
        </fieldset> -->

    <div class="row mt-15">
      <div class="col-md-12">
        <div class="float-right">
          <button type="button" tooltip="Go"
            class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ml-10">
            <b><i class="fas fa-arrow-right"></i></b>
            Go
          </button>
          <button type="button" tooltip="Reset"
            class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-2">
            <b><i class="fa fa-refresh" aria-hidden="true"></i></b>
            Reset
          </button>


        </div>

      </div>

    </div>

    <div class="row mt-25">
      <div class="col-md-12">
        <h3 class="font-14  font-bold">Search Result</h3>
      </div>

    </div>

    <div class="row">
      <div class="col-md-12">
        <p-table [value]="summeryData" class="mt-10" [paginator]="true" [rows]="1" [showCurrentPageReport]="true"
          currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
          [rowsPerPageOptions]="[3,5,10,25,50,100,200]">
          <ng-template pTemplate="header">
            <tr>
              <th>Select</th>
              <th class="wd-2">
                <div class="p-d-flex p-jc-between p-ai-center">
                  Emp. Code
                  <div class="Sort_Filter_Position">
                    <p-sortIcon field="employeeMasterResponseDTO.employeeCode">
                    </p-sortIcon>
                    <p-columnFilter field="employeeMasterResponseDTO.employeeCode" display="menu" class="p-ml-auto">
                    </p-columnFilter>
                  </div>
                </div>
              </th>
              <th>
                <div class="p-d-flex p-jc-between p-ai-center">
                  Emp. Name
                  <div class="Sort_Filter_Position">
                    <p-sortIcon field="employeeMasterResponseDTO.fullName">
                    </p-sortIcon>
                    <p-columnFilter field="employeeMasterResponseDTO.fullName" display="menu" class="p-ml-auto">

                    </p-columnFilter>
                  </div>
                </div>
              </th>
              <th>
                <div class="p-d-flex p-jc-between p-ai-center">
                  Establishment
                  <div class="Sort_Filter_Position">
                    <p-sortIcon field="payrollArea.payrollAreaCode">
                    </p-sortIcon>
                    <p-columnFilter field="payrollArea.payrollAreaCode" display="menu" class="p-ml-auto">
                    </p-columnFilter>
                  </div>
                </div>
              </th>

              <th class="wd-5">
                <div class="p-d-flex p-jc-between p-ai-center">
                  Department
                  <div class="Sort_Filter_Position">
                    <p-sortIcon field="payrollHeadMaster.displayName">
                    </p-sortIcon>
                    <p-columnFilter field="payrollHeadMaster.displayName" display="menu" class="p-ml-auto">

                    </p-columnFilter>
                  </div>
                </div>
              </th>
              <th>
                <div class="p-d-flex p-jc-between p-ai-center">
                  Grade
                  <div class="Sort_Filter_Position">
                    <p-sortIcon field="nonRecurringTransactionGroupId">
                    </p-sortIcon>
                    <p-columnFilter field="nonRecurringTransactionGroupId" display="menu" class="p-ml-auto">

                    </p-columnFilter>
                  </div>
                </div>
              </th>
              <th class="wd-2">
                <div class="p-d-flex p-jc-between p-ai-center">
                  Designation
                  <div class="Sort_Filter_Position">
                    <p-sortIcon field="onceEvery">
                    </p-sortIcon>
                    <p-columnFilter field="onceEvery" display="menu" class="p-ml-auto">

                    </p-columnFilter>
                  </div>
                </div>
              </th>



            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-Summarydata>
            <tr>
              <td>
                <p-tableCheckbox [value]="Summarydata"></p-tableCheckbox>
              </td>
              <td>111</td>
              <td>Shreya</td>
              <td>Pune</td>
              <td>Software Development</td>
              <td>A</td>
              <td>SOftware Developer</td>



            </tr>
            <tr>
              <td>
                <p-tableCheckbox [value]="Summarydata"></p-tableCheckbox>
              </td>
              <td>112</td>
              <td>Shreya</td>
              <td>Pune</td>
              <td>Software </td>
              <td>A</td>
              <td>SOftware Developer</td>



            </tr>
            <tr>
              <td>
                <p-tableCheckbox [value]="Summarydata"></p-tableCheckbox>
              </td>
              <td>113</td>
              <td>Nikita</td>
              <td>Pune</td>
              <td>Payroll </td>
              <td>A</td>
              <td>SOftware Developer</td>



            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>


  </div>

  <div class="modal-footer">
    <!-- <button type="button" tooltip="Proceed"  class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ml-10" >
             <b><i class="fas fa-arrow-circle-right"></i></b>  Proceed  </button> -->
    <button type="button" tooltip="Close" (click)="modalRef.hide()"
      class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left mr-2">
      <b><i class="fa fa-times" aria-hidden="true"></i></b> Close
    </button>
  </div>
</ng-template>


<ng-template #template>
  <div class="modal-header">
    <h5 class="modal-title" id="UploadModalLabel">Head History</h5>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true"></span>
    </button>
  </div>
  <div class="modal-body">
    <div class="card">
      <div class="card-body p-0 m-0">
        <div class="row">
          <div class="col-md-3">
            <label class="form-label">Head Name</label>
            <input type="text" class="form-control" [(ngModel)]="headDescriptionName" disabled />
          </div>
          <div class="col-md-3">
            <label class="form-label">Head Type</label>
            <input type="text" class="form-control" [(ngModel)]="headType" disabled />
          </div>
          <div class="col-md-3">
            <label class="form-label">Payroll Area </label>
            <input type="text" class="form-control" [(ngModel)]="selectedPayrollArea" disabled />
          </div>
        </div>
        <div class="row clearfix mt-10">
          <div class="col-md-12">
            <div class="table-responsive Custom_Table">
              <table class="table table-striped table-hover table-bordered m-b-0">
                <thead class="thead-dark">
                  <tr>
                    <th class="wd-15 font700">From Date</th>
                    <th class="wd-15 font700">To Date</th>
                    <th class="wd-15 font700">Opening Value</th>
                    <th class="wd-15 font700">Change Value</th>
                    <th class="wd-10 font700">Change Percentage (%)</th>
                    <th class="wd-15 font700">Closing closingAmount</th>
                    <th class="wd-15 font700">Unit of Measure</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let data of historyArrayData;">
                    <td>{{data.fromdate | date: 'dd-MMM-yy'}}</td>
                    <td>{{data.todate | date: 'dd-MMM-yy'}}</td>
                    <td style="text-align: right;">{{data.openingAmount | number : '1.2-2'}}</td>
                    <td style="text-align: right;">{{data.changeValue | number : '1.2-2'}}</td>
                    <td>{{data.changePercenatge.toFixed(2)}}</td>
                    <td style="text-align: right;">{{data.openingAmount | number : '1.2-2'}}</td>
                    <td>{{data.uom}}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">
      <i class="fa fa-times"></i> &nbsp;Close
    </button>
  </div>
</ng-template>

<ng-template #template2>
  <div class="modal-header">
    <h5 class="modal-title" id="UploadModalLabel">
      Schedule for
      <span class="text-purple font-16 font600"> 3799 - Sneha Suryawanshi</span>
    </h5>
    <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true"></span>
    </button>
  </div>
  <div class="modal-body">
    <div class="card">
      <div class="card-body p-0 m-0">
        <div class="row">
          <div class="col-md-12">
            <div class="border-card radius-10 p-2">
              <div class="row">
                <div class="col-md-3">
                  <label class="form-label mt-1 mb-0">Head Type</label>
                  <label class="font-12 text-ellipsis mt-1 mb-0">
                    Earning</label>
                </div>
                <div class="col-md-3">
                  <label class="form-label mt-1 mb-0">Head Code</label>
                  <label class="font-12 text-ellipsis mt-1 mb-0"> AAA </label>
                </div>
                <div class="col-md-3">
                  <label class="form-label mt-1 mb-0">Description</label>
                  <label class="font-12 text-ellipsis mt-1 mb-0">
                    AAA Desc
                  </label>
                </div>
                <div class="col-md-3">
                  <label class="form-label mt-1 mb-0">Closing Value</label>
                  <label class="font-12 text-ellipsis mt-1 mb-0"> 0.00 </label>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row clearfix mt-15">
          <div class="col-md-3">
            <label class="form-label mt-1 mb-2">Once Every</label>
            <input type="text" class="form-control" placeholder="Once Every" />
          </div>
          <div class="col-md-3">
            <label class="form-label mt-1 mb-2">Frequency</label>
            <select name="Frequency" class="form-control custom-select">
              <option value="Wk">Wk</option>
              <option value="BW">BW</option>
              <option value="SM">SM</option>
              <option value="MM">MM</option>
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label mt-1 mb-2">Change Type</label>
            <select name="Change_Type" class="form-control custom-select">
              <option value="Defined Date">Defined Date</option>
              <option value="Perpetual">Perpetual</option>
              <option value="No of Transactions">No of Transactions</option>
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label mt-1 mb-2">No of Transactions</label>
            <input type="text" class="form-control" placeholder="No of Transactions" />
          </div>
        </div>
        <div class="row mt-10">
          <div class="col-md-3">
            <label class="form-label mt-1 mb-2">From Date</label>
            <div class="form-group">
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text">
                    <i class="fa fa-calendar"></i>
                  </span>
                </div>
                <input data-provide="datepicker" data-date-autoclose="true" class="form-control" placeholder="Date"
                  bsDatepicker />
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <label class="form-label mt-1 mb-2">To Date</label>
            <div class="form-group">
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text">
                    <i class="fa fa-calendar"></i></span>
                </div>
                <input data-provide="datepicker" data-date-autoclose="true" class="form-control" placeholder="Date"
                  bsDatepicker disabled />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple"><b>
        <i class="fa fa-floppy-o"></i></b> Save & Next</button>
    <button type="button" tooltip="Save"
      class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ml-10">
      <b><i class="fa fa-floppy-o" aria-hidden="true"></i></b>Save
    </button>
    <button type="button" tooltip="Close" (click)="modalRef.hide()"
      class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10">
      <b><i class="fa fa-times" aria-hidden="true"></i></b>Close
    </button>
  </div>
</ng-template>