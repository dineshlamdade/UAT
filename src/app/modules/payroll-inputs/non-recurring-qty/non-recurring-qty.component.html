<app-leftmenu></app-leftmenu>
<form>
    <div>
        <div class="page">
            <app-header></app-header>
            <div class="section-body mt-3">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-body">
                                    <div class="tabview">

                                        <!--------------- ------------- Summary ----------------------->
                                        <input name="nav" type="radio" class="about-radio" id="Summary"
                                            [checked]="indexId == 1" (click)="navigateSummary()" />

                                        <div class="tabs about-page">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="card">
                                                        <div class="card-body">
                                                            <div class="row mb-10">
                                                                <div class="col-md-6">
                                                                    <label
                                                                        class="form-label mb-0  mt-2 float-left">Selected
                                                                        Records &nbsp;<span
                                                                            class="text-dark-green font-14 font-bold">({{selectedEmpData.length}})</span></label>
                                                                </div>
                                                                <!-- Summary top buttons -->
                                                                <div class="col-md-6">
                                                                    <div class="float-right">
                                                                        <button type="button" tooltip="Approve"
                                                                            class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left mr-10"><b><i
                                                                                    class="fa fa-check-square-o"></i></b>
                                                                            Approve </button>
                                                                        <button type="button" tooltip="Edit Transaction"
                                                                            [disabled]="selectedEmpData.length == 0"
                                                                            class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left mr-10"
                                                                            [ngClass]="{'disabled-btn-bg-green' : selectedEmpData.length == 0}"
                                                                            (click)="editTransaction()">
                                                                            <b><i class="fa fa-pencil"></i></b>
                                                                            Edit Transaction
                                                                        </button>
                                                                        <button type="button" tooltip="Edit Schedule"
                                                                            class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left mr-10"
                                                                            [ngClass]="{'disabled-btn-bg-green' : selectedEmpData.length == 0}"
                                                                            (click)="editScheduleData()"
                                                                            [disabled]="selectedEmpData.length == 0">
                                                                            <b><i class="fa fa-pencil"></i></b>
                                                                            Edit Schedule
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        
                                                            <div class="table-responsive Custom_Table">
                                                                <p-table [value]="summeryData" class="mt-10"
                                                                    [paginator]="true" [rows]="10"
                                                                    [showCurrentPageReport]="true"
                                                                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                                                    [rowsPerPageOptions]="[10,25,50,100,200]"
                                                                    [style]="{'width':'100%', overflow: auto}" #dt1
                                                                    [globalFilterFields]="['employeeMasterId','employeeMasterResponseDTO.employeeCode',
                                                                    'employeeMasterResponseDTO.fullName','payrollArea.payrollAreaCode','payrollHeadMaster.displayName',
                                                                    'nonRecurringTransactionGroupId','onceEvery','nonSalaryDTO.code','type',
                                                                        'frequency','fromDate','approveStatus','toDate','amount','remark']">

                                                                    <ng-template pTemplate="caption">
                                                                        <div class="row">
                                                                            <div class="col-md-12">
                                                                                <div class="float-right">
                                                                                    <div class="d-flex">
                                                                                        <!-- <i class=" fas fa-filter text-purple mr-2 mt-1  font-24"></i> -->
                                                                                        <span class="p-input-icon-left p-ml-auto">
                                                                                            <i class="pi pi-search" style="top: 9px !important; margin-right: 11px;"></i>
                                                                                            <input pInputText type="text"
                                                                                                (input)="dt1.filterGlobal($event.target.value, 'contains')"
                                                                                                placeholder="Search" />
                                                                                        </span>
                                                                                        <i class="fa fa-file-excel-o ml-2 font-24 mt-1 text-dark-green"
                                                                                            (click)="SummaryexportAsXLSX()"></i>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </ng-template>

                                                                    <ng-template pTemplate="header">
                                                                        <tr>
                                                                            <th class="wd-5">
                                                                                <label
                                                                                    class="custom-control custom-checkbox checkbox-center"
                                                                                    tooltip="Select All">
                                                                                    <input type="checkbox"
                                                                                        class="custom-control-input"
                                                                                        name="select"
                                                                                        (click)="selectAll($event.target)" />
                                                                                    <span
                                                                                        class="custom-control-label"></span>
                                                                                </label>

                                                                            </th>
                                                                            <th class="wd-2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Emp. Code
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon
                                                                                        pSortableColumn="employeeMasterResponseDTO.employeeCode"
                                                                                            field="employeeMasterResponseDTO.employeeCode">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter
                                                                                            field="employeeMasterResponseDTO.employeeCode"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">
                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th>
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Emp. Name
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon
                                                                                        pSortableColumn="employeeMasterResponseDTO.fullName"
                                                                                            field="employeeMasterResponseDTO.fullName">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter
                                                                                            field="employeeMasterResponseDTO.fullName"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th>
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Payroll Area
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon
                                                                                        pSortableColumn="payrollArea.payrollAreaCode"
                                                                                            field="payrollArea.payrollAreaCode">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter
                                                                                            field="payrollArea.payrollAreaCode"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">
                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>

                                                                            <th class="wd-5">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    NR Qty Head
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon
                                                                                        pSortableColumn="nonSalaryDTO.code"
                                                                                            field="nonSalaryDTO.code">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter
                                                                                            field="nonSalaryDTO.code"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th class="wd-5">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Type
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="type"
                                                                                        pSortableColumn="type">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter field="type"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th>
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Group Id
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon
                                                                                        pSortableColumn="nonSalaryTransactionGroupId"
                                                                                            field="nonSalaryTransactionGroupId">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter
                                                                                            field="nonSalaryTransactionGroupId"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th class="wd-2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Once Every
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="onceEvery"
                                                                                        pSortableColumn="onceEvery">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter field="onceEvery"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>

                                                                            <th>
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Frequency
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="frequency"
                                                                                        pSortableColumn="frequency">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter field="frequency"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th class="wd-5">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Quantity
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="quantity"
                                                                                        pSortableColumn="quantity">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter field="quantity"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th class="wd-5">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    UOM
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="uom"
                                                                                        pSortableColumn="uom">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter field="uom"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th class="wd-8">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    From Date
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="fromDate"
                                                                                        pSortableColumn="fromDate">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter type="date"
                                                                                            field="fromDate" display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th class="wd-8">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    To Date
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="toDate"
                                                                                        pSortableColumn="toDate">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter type="date"
                                                                                            field="toDate" display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th> Remark </th>
                                                                            <th>Approval Status </th>

                                                                            <th class="wd-8">Action</th>
                                                                        </tr>
                                                                    </ng-template>

                                                                    <ng-template pTemplate="body" let-Summarydata>
                                                                        <tr class="p-selectable-row">
                                                                            <td class="text-center"> <label
                                                                                    class="custom-control custom-checkbox checkbox-center"
                                                                                    tooltip="Select">
                                                                                    <input type="checkbox"
                                                                                        class="custom-control-input"
                                                                                        name="select"
                                                                                        [checked]="selectedAllFlag"
                                                                                        (change)="isSelected($event.target,Summarydata)"
                                                                                        value="{{Summarydata.employeeMasterId}}" />
                                                                                    <span
                                                                                        class="custom-control-label"></span>
                                                                                </label></td>
                                                                            <td class="bg-color-light_gray">
                                                                                <label
                                                                                    class="form-lable mb-0 ">{{Summarydata.employeeMasterResponseDTO.employeeCode}}</label>
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{Summarydata.employeeMasterResponseDTO.fullName}}</label>
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{Summarydata.payrollAreaCode}}</label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0 text-link"
                                                                                    (click)="ViewTransactionHistory(template1i,Summarydata)">{{Summarydata.nonSalaryDTO.code}}
                                                                                </label>

                                                                            </td>
                                                                            <!-- headOfPayment ->Head ID -->
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{Summarydata.type}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{Summarydata.nonSalaryTransactionGroupId}}</label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{Summarydata.onceEvery}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{Summarydata.frequency}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{Summarydata.quantity}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{Summarydata.uom}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{Summarydata.fromDate | date : 'dd-MMM-yy'}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{Summarydata.toDate | date:'dd-MMM-yy'}}
                                                                                </label>

                                                                            </td>
                                                                            <!-- <td class="bg-color-light_gray"
                                                                                style="text-align:center;">
                                                                                <i class="fa fa-history font-16 text-blue cursor-pointer"
                                                                                    aria-hidden="true"
                                                                                    *ngIf="Summarydata.clawbackApplicableAt != ''"></i>
                                                                            </td> -->
                                                                            <!-- <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{Summarydata.amount
                                                                                    | number: '1.2-2'}}
                                                                                </label>
                                                                            </td> -->
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{Summarydata.remark}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray">
                                                                                <label class="badge badge-warning"
                                                                                    *ngIf="Summarydata.approveStatus == null || Summarydata.approveStatus == 'pending'">Pending</label>
                                                                                <label class="badge badge-success"
                                                                                    *ngIf="Summarydata.approveStatus != null && Summarydata.approveStatus != 'pending'">Approved</label>
                                                                            </td>
                                                                            <!-- <td><span class="ml-1 mt-2"></span></td> -->
                                                                            <td>
                                                                                <div class="d-flex">
                                                                                    <i tooltip="View Transaction History"
                                                                                        class="fa fa-clock-o font-16 text-orange cursor-pointer"
                                                                                        aria-hidden="true"
                                                                                        (click)="viewTransaction(template1,Summarydata)">
                                                                                    </i>&nbsp;&nbsp;
                                                                                    <i tooltip="View Schedule"
                                                                                        class="fa fa-eye font-16 text-blue cursor-pointer"
                                                                                        (click)="ViewScheduleDetail(template2,Summarydata)"
                                                                                        aria-hidden="true">
                                                                                    </i>&nbsp;&nbsp;&nbsp;
                                                                                    <i class="fa fa-deviantart font-16 text-blue cursor-pointer"
                                                                                        aria-hidden="true">
                                                                                    </i>
                                                                                    <!-- <i tooltip="View Transaction History"
                                                                                    (click)="viewTransaction(template1i,Summarydata)"
                                                                                        class="fa fa-eye font-16 text-dark-green cursor-pointer"
                                                                                        aria-hidden="true"></i> -->
                                                                                    </div>
                                                                            </td>
                                                                        </tr>
                                                                    </ng-template>
                                                                </p-table>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <label class="nav" for="Summary">
                                            <span> Summary </span>
                                        </label>


                                        <!------------- ------------  Transaction --------------------->
                                        <input name="nav" type="radio" class="nav home-radio"
                                            (click)="navigateToTransaction()" id="Transaction"
                                            [checked]="indexId == 2" />

                                        <div class="tabs about-page">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="card">
                                                        <div class="card-body">

                                                            <div>

                                                                <!-- margin-top: 17px !important; -->
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <div class="form-label"
                                                                            *ngIf="selectedEmpData[index] && !showEmployeeSelectionFlag">
                                                                            Record {{index + 1 }} of
                                                                            {{selectedEmpData.length}}
                                                                        </div>

                                                                        <div class="form-label"
                                                                            *ngIf="payrollListEmpData && showDropdownDisabled">
                                                                            Record {{parollListIndex + 1 }} of
                                                                            {{payrollListEmpData.length}}
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <div class="float-right">
                                                                            <!-- margin-top: 17px !important; -->
                                                                            <label class="custom-switch"
                                                                                *ngIf="payrollListEmpData">
                                                                                <span class="form-label mr-2">Single
                                                                                    Entry</span>
                                                                                <input type="checkbox"
                                                                                    (click)="getSelectedOption($event.target)"
                                                                                    name="custom-switch-checkbox"
                                                                                    class="custom-switch-input">
                                                                                <span
                                                                                    class="custom-switch-indicator"></span>
                                                                                <span class="form-label ml-2">Fast
                                                                                    Entry</span>
                                                                            </label>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                           

                                                            <div class="tabview-contents mt-25"
                                                                *ngIf="selectedOption == 'single' ">
                                                                <div class="section-body bg-color-white">

                                                                    <!-- Employee Selection Dropdown-->
                                                                    <div class="row mt-10"
                                                                        *ngIf="showEmployeeSelectionFlag">
                                                                        <div class="col-md-2">
                                                                            <label class="form-label mb-0">Employee Code
                                                                            </label>
                                                                            <select name="EmployeeCode"
                                                                                class="form-control "
                                                                                [(ngModel)]="selectedEmployeeMasterId"
                                                                                [disabled]="showDropdownDisabled"
                                                                                (change)="getSelectedEmployeeCode($event.target.value)">
                                                                                <option value="">Select</option>
                                                                                <!-- <option value="1"> 1111 </option> -->
                                                                                <option value="{{emp.employeeMasterId}}"
                                                                                    *ngFor="let emp of employeeData">
                                                                                    {{emp.employeeCode}}
                                                                                </option>
                                                                            </select>

                                                                        </div>
                                                                        <div class="col-md-2">
                                                                            <label class="form-label mb-0">First Name
                                                                            </label>
                                                                            <select name="EmployeeCode"
                                                                                class="form-control "
                                                                                [(ngModel)]="selectedEmployeeMasterId"
                                                                                [disabled]="showDropdownDisabled"
                                                                                (change)="getSelectedEmployeeCode($event.target.value)">
                                                                                <option value="">Select</option>
                                                                                <!-- <option value="1"> 1111 </option> -->
                                                                                <option value="{{emp.employeeMasterId}}"
                                                                                    *ngFor="let emp of employeeData">
                                                                                    {{emp.firstName}}
                                                                                </option>
                                                                            </select>

                                                                        </div>
                                                                        <div class="col-md-2">
                                                                            <label class="form-label mb-0">Last Name
                                                                            </label>
                                                                            <select name="EmployeeCode"
                                                                                class="form-control "
                                                                                [(ngModel)]="selectedEmployeeMasterId"
                                                                                [disabled]="showDropdownDisabled"
                                                                                (change)="getSelectedEmployeeCode($event.target.value)">
                                                                                <option value="">Select</option>
                                                                                <!-- <option value="1"> 1111 </option> -->
                                                                                <option value="{{emp.employeeMasterId}}"
                                                                                    *ngFor="let emp of employeeData">
                                                                                    {{emp.lastName}}
                                                                                </option>
                                                                            </select>

                                                                        </div>
                                                                        <div class="col-md-2">
                                                                            <label class="form-label mb-0">Payroll
                                                                                Area</label>
                                                                            <select name="PayrollArea"
                                                                                class="form-control "
                                                                                [(ngModel)]="selectedPayrollArea"
                                                                                (change)="getSelectedPayrollArea($event.target.value)"
                                                                                [disabled]="showDropdownDisabled">
                                                                                <option value="">Select</option>
                                                                                <!-- <option> PA-Staff </option> -->
                                                                                <!-- <option> PA_Worker</option> -->
                                                                                <option
                                                                                    *ngFor="let payroll of payrollListData"
                                                                                    [selected]="selectedPayrollArea == payroll.payrollAreaCode">
                                                                                    {{payroll.payrollAreaCode}}</option>
                                                                            </select>
                                                                        </div>
                                                                        <div class="col-md-4">
                                                                            <div class="float-right">
                                                                                <button type="submit"
                                                                                    class="custom_button custom_btn btn-bg-green mt-2 btn-labeled btn-labeled-left"
                                                                                    tooltip="Save"
                                                                                    (click)="graysearch(grays)"><b><i
                                                                                            class="fas fa-search"></i></b>
                                                                                    Search</button>
                                                                            </div>
                                                                        </div>

                                                                    </div>


                                                                    <!-- selected Employee basic information-->
                                                                    <div class="col-md-12 pl-0 pr-0">
                                                                        <div class="box-line-border radius-10 p-2 mt-3"
                                                                            *ngIf="employeeFinDetailsData">
                                                                            <div class="row">
                                                                                <div class="col-md-2">
                                                                                    <label
                                                                                        class="form-label mt-1 mb-0">Emp.
                                                                                        No.</label>
                                                                                    <label
                                                                                        class="font-12 text-ellipsis mt-1 mb-0">
                                                                                        {{employeeFinDetailsData.employeeCode}}
                                                                                    </label>
                                                                                </div>
                                                                                <div class="col-md-2">
                                                                                    <label
                                                                                        class="form-label mt-1 mb-0">Emp.
                                                                                        Name</label>
                                                                                    <label
                                                                                        class="font-12 text-ellipsis mt-1 mb-0">
                                                                                        {{employeeFinDetailsData.fullName}}
                                                                                    </label>
                                                                                </div>


                                                                                <div class="col-md-2">
                                                                                    <label
                                                                                        class="form-label mt-1 mb-0">Establishment</label>
                                                                                    <label
                                                                                        class="font-12 text-ellipsis mt-1 mb-0">
                                                                                        {{employeeFinDetailsData.establishment}}
                                                                                    </label>
                                                                                </div>
                                                                                <div class="col-md-2">
                                                                                    <label
                                                                                        class="form-label mt-1 mb-0">Department</label>
                                                                                    <label
                                                                                        class="font-12 text-ellipsis mt-1 mb-0">

                                                                                    </label>
                                                                                </div>
                                                                                <div class="col-md-1">
                                                                                    <label
                                                                                        class="form-label mt-1 mb-0">Grade</label>
                                                                                    <label
                                                                                        class="font-12 text-ellipsis mt-1 mb-0">
                                                                                        {{employeeFinDetailsData.grade}}
                                                                                    </label>
                                                                                </div>
                                                                                <div class="col-md-2">
                                                                                    <label
                                                                                        class="form-label mt-1 mb-0">Designation</label>
                                                                                    <label
                                                                                        class="font-12 text-ellipsis mt-1 mb-0">
                                                                                        {{employeeFinDetailsData.designation}}
                                                                                    </label>
                                                                                </div>

                                                                                <div class="col-md-1">
                                                                                    <i class="fas fa-chevron-up arrow font-16 mt-2 text-purple float-right mr-2"
                                                                                        (click)="hideempdetails()"
                                                                                        *ngIf="isvisible"></i>
                                                                                    <i class="fas fa-chevron-down arrow font-16 mt-2 text-purple float-right mr-2"
                                                                                        (click)="visibleempdetails()"
                                                                                        *ngIf="!isvisible"></i>
                                                                                </div>

                                                                            </div>
                                                                            <div class="row mt-10" *ngIf="isvisible">
                                                                                <div class="col-md-2">
                                                                                    <label
                                                                                        class="form-label mt-1 mb-0">Payroll
                                                                                        Area</label>
                                                                                    <label
                                                                                        class="font-12 text-ellipsis mt-1 mb-0">

                                                                                    </label>
                                                                                </div>
                                                                                <div class="col-md-2">
                                                                                    <label
                                                                                        class="form-label mt-1 mb-0">Date
                                                                                        of Joining</label>
                                                                                    <label
                                                                                        class="font-12 text-ellipsis mt-1 mb-0">
                                                                                        {{employeeFinDetailsData.joiningDate
                                                                                        | date: 'dd-MMM-yyyy'}}
                                                                                    </label>
                                                                                </div>

                                                                                <div class="col-md-2">
                                                                                    <label
                                                                                        class="form-label mt-1 mb-0">Status</label>
                                                                                    <label
                                                                                        class="font-12 text-ellipsis mt-1 mb-0">
                                                                                        Probation
                                                                                    </label>
                                                                                </div>



                                                                            </div>
                                                                        </div>
                                                                    </div>



                                                                    <div class="row mt-20">
                                                                        <div class="col-md-12 pr-0 pl-0">
                                                                            <div class="border-card p-2 mt_2">
                                                                                <div class="row">
                                                                                    <div class="col-md-2"
                                                                                        *ngIf="selectedEmpData[index]">
                                                                                        <label
                                                                                            class="form-label mb-2">Currency</label>
                                                                                        <input type="text"
                                                                                            value="{{selectedEmpData[index].payrollArea.currency}}"
                                                                                            class="form-control"
                                                                                            disabled>
                                                                                    </div>
                                                                                    <div class="col-md-2"
                                                                                        *ngIf="selectedEmpData[index]">
                                                                                        <label class="form-label mb-2">
                                                                                            Payroll Area -
                                                                                            Frequency</label>
                                                                                        <input type="text"
                                                                                            class="form-control"
                                                                                            value="{{selectedEmpData[index].payrollArea.payrollAreaCode}} - {{selectedEmpData[index].frequency}}"
                                                                                            disabled>
                                                                                    </div>

                                                                                    <div class="col-md-3 ml-30"
                                                                                        *ngIf="selectedEmpData[index]">
                                                                                        <div class="row">
                                                                                            <div class="col-md-12 pl-0">
                                                                                                <!-- <label
                                                                                                    class="form-label mb-2">Default
                                                                                                    - From Date</label> -->
                                                                                                <div class="d-flex">
                                                                                                    <!-- <div
                                                                                                        class="form-group mr-2 mb-0">
                                                                                                        <div
                                                                                                            class="input-group">
                                                                                                            <input
                                                                                                                class="form-control"
                                                                                                                placeholder="Date"
                                                                                                                value="{{selectedEmpData[index].fromDate | date: 'dd-MMM-yyyy' }}"
                                                                                                                disabled>
                                                                                                            <div
                                                                                                                class="input-group-prepend">
                                                                                                                <span
                                                                                                                    class="input-group-text"><i
                                                                                                                        class="fa fa-calendar"></i></span>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div> -->
                                                                                                    <!-- <span
                                                                                                        class="ml-10 mt-7"><i
                                                                                                            class="fa fa-file-excel-o font-18 text-dark-green"
                                                                                                            tooltip="Export to Excel"></i></span> -->
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="row">
                                                                        <div class="col-md-12 p-0">
                                                                            <div class="table-responsive Custom_Table">
                                                                            <!-- When navigate from Edit transaction button (update)-->
                                                                            <p-table *ngIf="!showEmployeeSelectionFlag"
                                                                                [value]="NonRecurringTransactionGroupAPIbyIdData"
                                                                                [paginator]="true" [rows]="10"
                                                                                [showCurrentPageReport]="true"
                                                                                currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                                                                [rowsPerPageOptions]="[10,25,50,100,200]"
                                                                                    [style]="{'width':'100%', overflow: auto}"
                                                                                    #dt1
                                                                                    [globalFilterFields]="['nonSalaryDTO.descriptionHeadOfPayment','payrollHeadMaster.description','onceEvery','type',
                                                                                'frequency','fromDate','transactionsType','toDate','numberOfTransactions','amount','remark','selectedStandardName']">

                                                                                <ng-template pTemplate="caption">
                                                                                    <div class="row">
                                                                                        <div class="col-md-12">
                                                                                            <div class="float-right">
                                                                                                <div class="d-flex">
                                                                                                    <!-- <i class=" fas fa-filter text-purple mr-2 mt-1  font-24"></i> -->
                                                                                                    <span class="p-input-icon-left p-ml-auto">
                                                                                                        <i class="pi pi-search" style="top: 9px !important; margin-right: 11px;"></i>
                                                                                                        <input pInputText type="text"
                                                                                                            (input)="dt1.filterGlobal($event.target.value, 'contains')"
                                                                                                            placeholder="Search" />
                                                                                                    </span>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </ng-template>

                                                                                <ng-template pTemplate="header">
                                                                                    <tr>
                                                                                        <th rowspan="2">
                                                                                            Sr. No.
                                                                                        </th>
                                                                                        <th rowspan="2">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Head Name
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="selectedStandardName"
                                                                                                        field="selectedStandardName">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="selectedStandardName"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">
                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Head Type
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="type"
                                                                                                        field="type">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="type"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">
                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Head Description
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="nonSalaryeDTO.descriptionHeadOfPayment"
                                                                                                        field="nonSalaryDTO.descriptionHeadOfPayment">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="nonSalaryDTO.descriptionHeadOfPayment"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-5">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Once Every
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="onceEvery"
                                                                                                        field="onceEvery">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="onceEvery"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                UOM
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="uom"
                                                                                                        field="uom">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="uom"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Frequency
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="frequency"
                                                                                                        field="frequency">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="frequency"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>

                                                                                        <th rowspan="2" class="wd-10">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                From Date
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="fromDate"
                                                                                                        field="fromDate">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        type="date"
                                                                                                        field="fromDate"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Transaction Type
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="transactionsType"
                                                                                                        field="transactionsType">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="transactionsType"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-5">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                No. of Transaction
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="numberOfTransactions"
                                                                                                        field="numberOfTransactions">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        type="number"
                                                                                                        field="numberOfTransactions"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-10">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                To Date
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="toDate"
                                                                                                        field="toDate">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        type="date"
                                                                                                        field="toDate"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Opening Quantity
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="quantity"
                                                                                                        field="quantity">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        type="number"
                                                                                                        field="quantity"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">
                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>

                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Closing Quantity
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="quantity"
                                                                                                        field="quantity">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        type="number"
                                                                                                        field="quantity"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-10">
                                                                                            Remark </th>

                                                                                        <th rowspan="2"></th>
                                                                                    </tr>
                                                                                </ng-template>

                                                                                <ng-template pTemplate="body" let-data
                                                                                    let-rowIndex=rowIndex>
                                                                                    <!-- <pre>{{data | json}}</pre> -->
                                                                                    <tr class="p-selectable-row">
                                                                                        <td class="text-center">
                                                                                            {{rowIndex + 1}}</td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0 text-link"
                                                                                                (click)="viewTransaction(template1,data)">{{selectedStandardName}}</label>
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0">{{data.type}}</label>
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0">{{data.nonSalaryDTO.descriptionHeadOfPayment}}</label>
                                                                                        </td>
                                                                                        <td>
                                                                                            <input type="text"
                                                                                                value="{{data.onceEvery}}"
                                                                                                class="form-control"
                                                                                                onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                                                                (focusout)="getOnceEveryChange($event.target.value)">
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0">{{data.uom}}</label>
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <!-- <label
                                                                                                class="form-lable mb-0">{{data.frequency}}
                                                                                            </label> -->
                                                                                            <select
                                                                                                class="form-control"
                                                                                                (change)="getSelectedFrequency($event.target.value,data)">
                                                                                                <option value="">Select
                                                                                                </option>
                                                                                                <option value="Monthly"
                                                                                                    [selected]="data.frequency == 'Monthly'">
                                                                                                    Month </option>
                                                                                                <option
                                                                                                    value="Quarterly"
                                                                                                    [selected]="data.frequency == 'Quarterly'">
                                                                                                    Quarter </option>
                                                                                                <option
                                                                                                    value="HalfYearly"
                                                                                                    [selected]="data.frequency == 'HalfYearly'">
                                                                                                    HalfYear </option>
                                                                                                <option value="Yearly"
                                                                                                    [selected]="data.frequency == 'Yearly'">
                                                                                                    Year </option>
                                                                                                <option
                                                                                                    value="SemiMonthly"
                                                                                                    [selected]="data.frequency == 'SemiMonthly'">
                                                                                                    SemiMonth </option>
                                                                                                <option value="Weekly"
                                                                                                    [selected]="data.frequency == 'Weekly'">
                                                                                                    Week </option>
                                                                                                <option value="BiWeekly"
                                                                                                    [selected]="data.frequency == 'BiWeekly'">
                                                                                                    BiWeek </option>
                                                                                            </select>
                                                                                        </td>
                                                                                        <td>
                                                                                            <input
                                                                                                [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"
                                                                                                data-provide="datepicker"
                                                                                                data-date-autoclose="true"
                                                                                                placeholder="Date"
                                                                                                bsDatepicker
                                                                                                [minDate]="effectiveFromDate"
                                                                                                [maxDate]="effectiveToDate"
                                                                                                value="{{data.fromDate}}"
                                                                                                (bsValueChange)="getFromDate($event)"
                                                                                                class="form-control wd-120">
                                                                                        </td>
                                                                                        <td>
                                                                                            <select name="revision type"
                                                                                                class="form-control  wd-120"
                                                                                                (change)="getTransactionType($event.target.value,rowIndex,data)">
                                                                                                <option value=""
                                                                                                    [selected]="data.transactionsType == null || data.transactionsType == ''">
                                                                                                    Select</option>
                                                                                                <option
                                                                                                    value="NoOfTransaction"
                                                                                                    title="No. of Transaction"
                                                                                                    [selected]="data.transactionsType == 'NoOfTransaction'">
                                                                                                    No. of Trans
                                                                                                </option>
                                                                                                <option
                                                                                                    value="Perpetual"
                                                                                                    title="Perpetual"
                                                                                                    [selected]="data.transactionsType == 'Perpetual'">
                                                                                                    Perpetual</option>
                                                                                                <option
                                                                                                    value="Defined Date"
                                                                                                    title="Defined Date"
                                                                                                    [selected]="data.transactionsType == 'Defined Date'">
                                                                                                    Def Date
                                                                                                </option>
                                                                                            </select>
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0">
                                                                                                <input
                                                                                                    class="form-control"
                                                                                                    value="{{data.numberOfTransactions}}"
                                                                                                    onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                                                                    (focusout)="getUpdateNoOfTransaction($event.target.value)"
                                                                                                    [disabled]="selectedTransactionType != 'NoOfTransaction'">
                                                                                            </label>
                                                                                        </td>
                                                                                        <td>
                                                                                            <!-- [maxDate]="effectiveToDate" -->
                                                                                            <input
                                                                                                data-provide="datepicker"
                                                                                                data-date-autoclose="true"
                                                                                                [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"
                                                                                                placeholder="Date"
                                                                                                bsDatepicker
                                                                                                value="{{data.toDate}}"
                                                                                                [minDate]="setMinToDate"
                                                                                                [maxDate]="effectiveToDate"
                                                                                                (bsValueChange)="getToDate($event)"
                                                                                                class="form-control wd-120"
                                                                                                [disabled]="selectedTransactionIndex == rowIndex && (selectedTransactionType == 'NoOfTransaction'
                                                                                                || selectedTransactionType == 'Perpetual') ">
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <input
                                                                                                class="form-lable mb-0"
                                                                                                onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                                                                value="{{data.quantity}}"
                                                                                                disabled>
                                                                                        </td>
                                                                                        <td>
                                                                                            <input type="text"
                                                                                                value="{{data.quantity}}"
                                                                                                class="form-control"
                                                                                                onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                                                                [disabled]="data.executeSDM == 'YES' || data.executeSDM == 'Yes'"
                                                                                                (focusout)="getUpdateOpeningAmt($event.target.value,data)">
                                                                                        </td>
                                                                                        <td>
                                                                                            <input type="text"
                                                                                                value={{data.remark}}
                                                                                                class="form-control wd-100"
                                                                                                (focusout)="getRemarkChange($event.target.value)">
                                                                                        </td>
                                                                                        <td>
                                                                                            <div class="col-md-2"
                                                                                                *ngIf="data.deviationCount">
                                                                                                <div
                                                                                                    class="custom_Label_badge bagde1">
                                                                                                    <button
                                                                                                        class="btn defaultbtn"
                                                                                                        (click)="editdeviationPopupOpen(editdeviationPopup,data,rowIndex)">
                                                                                                        <i class="fa fa-deviantart font-16 text-blue cursor-pointer"
                                                                                                            aria-hidden="true">
                                                                                                        </i></button>
                                                                                                    <span
                                                                                                        class="Label_badge"
                                                                                                        style="text-align: center;">{{data.deviationCount}}</span>
                                                                                                </div>
                                                                                            </div>
                                                                                            <!-- <span
                                                                                                class="ml-1 mt-2 d-flex">
                                                                                                &nbsp;
                                                                                                <i tooltip="View Schedule"
                                                                                                    class="fa fa-eye font-16 text-blue cursor-pointer"
                                                                                                    (click)="ViewTransactionScheduleDetail(templateTransaction,data)"
                                                                                                    aria-hidden="true">
                                                                                                </i>
                                                                                            </span> -->
                                                                                        </td>
                                                                                    </tr>
                                                                                </ng-template>

                                                                                <ng-template pTemplate="emptymessage">
                                                                                    <tr>
                                                                                        <td colspan="15"
                                                                                            class="font-14 font500 text-center text-red">
                                                                                            <span>No Data
                                                                                                Available</span>
                                                                                        </td>
                                                                                    </tr>
                                                                                </ng-template>
                                                                            </p-table>

                                                                            <!-- On click on transaction tab (save)-->
                                                                            <p-table
                                                                                *ngIf="showEmployeeSelectionFlag && NonRecurringTransactionGroupAPIEmpwiseData"
                                                                                [value]="NonRecurringTransactionGroupAPIEmpwiseData"
                                                                                [paginator]="true" [rows]="10"
                                                                                [showCurrentPageReport]="true"
                                                                                currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                                                                [rowsPerPageOptions]="[10,25,50,100,200]"
                                                                                    [style]="{'width':'100%', overflow: auto}"
                                                                                    #dt1
                                                                                    [globalFilterFields]="['headType','standardName','headDescription','type','nonSalaryOptionlist',
                                                                                'frequency','fromDate','transactionsType','toDate','numberOfTransactions','quantity','remark',
                                                                                'selectedStandardName']">

                                                                                <ng-template pTemplate="caption">
                                                                                    <div class="row">
                                                                                        <div class="col-md-12">
                                                                                            <div class="float-right">
                                                                                                <div class="d-flex">
                                                                                                    <!-- <i class=" fas fa-filter text-purple mr-2 mt-1  font-24"></i> -->
                                                                                                    <span class="p-input-icon-left p-ml-auto">
                                                                                                        <i class="pi pi-search" style="top: 9px !important; margin-right: 11px;"></i>
                                                                                                        <input pInputText type="text"
                                                                                                            (input)="dt1.filterGlobal($event.target.value, 'contains')"
                                                                                                            placeholder="Search" />
                                                                                                    </span>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </ng-template>
                                                                                
                                                                                <ng-template pTemplate="header">
                                                                                    <tr>
                                                                                        <!-- <th rowspan="2">
                                                                                            Sr. No.
                                                                                        </th> -->
                                                                                        <th rowspan="2">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Head Name
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="headType"
                                                                                                        field="headType">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="headType"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">
                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Head Type
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="standardName"
                                                                                                        field="standardName">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="standardName"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">
                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Head Description
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="headDescription"
                                                                                                        field="headDescription">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="headDescription"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2">NRQ Type</th>
                                                                                        <th rowspan="2" class="wd-5">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Once Every
                                                                                            </div>
                                                                                        </th>

                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Frequency
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="frequency"
                                                                                                        field="frequency">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="frequency"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>

                                                                                        <th rowspan="2" class="wd-10">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                From Date
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="fromDate"
                                                                                                        field="fromDate">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="fromDate"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Transaction Type
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="transactionsType"
                                                                                                        field="transactionsType">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="transactionsType"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-5">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                No. of Transaction
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="NoOfTransaction"
                                                                                                        field="NoOfTransaction">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="NoOfTransaction"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-10">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                To Date
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="toDate"
                                                                                                        field="toDate">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        type="date"
                                                                                                        field="toDate"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Opening Quantity
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="quantity"
                                                                                                        field="quantity">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        type="number"
                                                                                                        field="quantity"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">
                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>

                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Closing Quantity
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="quantity"
                                                                                                        field="quantity">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        type="number"
                                                                                                        field="quantity"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                UOM
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                    pSortableColumn="uom"
                                                                                                        field="uom">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="uom"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-10">
                                                                                            Remark </th>

                                                                                        <th rowspan="2"></th>
                                                                                    </tr>
                                                                                </ng-template>

                                                                                <ng-template pTemplate="body" let-data
                                                                                    let-rowIndex=rowIndex>
                                                                                    <tr class="p-selectable-row">
                                                                                        <!-- <td class="text-center">
                                                                                            {{rowIndex + 1}}</td> -->
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0" tooltip="{{data.headType}}">
                                                                                                {{data.headType.charAt(0)}}
                                                                                            </label>
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0">
                                                                                                {{data.standardName}}
                                                                                            </label>
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0">{{data.headDescription}}</label>
                                                                                            &nbsp;&nbsp;&nbsp;

                                                                                        </td>
                                                                                        <td class="bg-color-light_gray"
                                                                                            *ngIf="data.nonSalaryOptionlist">
                                                                                            <!-- <pre>{{data.nonSalaryOptionlist | json}}</pre> -->
                                                                                            <select
                                                                                                class="form-control  wd-100"
                                                                                                (change)="getSelectedType($event.target.value,data)">
                                                                                                <option value="">Select
                                                                                                </option>
                                                                                                <option
                                                                                                    *ngFor="let type of data.nonSalaryOptionlist"
                                                                                                    value="{{type.name}},{{type.nonSalaryDetailId}}">
                                                                                                    {{type.name}}
                                                                                                </option>
                                                                                            </select>

                                                                                        </td>
                                                                                        <td>
                                                                                            <input type="text" value="1"
                                                                                                class="form-control"
                                                                                                onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                                                                (focusout)="getOnceEveryChangeForSave($event.target.value,data)">
                                                                                        </td>

                                                                                        <td class="bg-color-light_gray">
                                                                                            <select
                                                                                                class="form-control"
                                                                                                (change)="getSelectedFrequency($event.target.value,data)">
                                                                                                <option value="">Select
                                                                                                </option>
                                                                                                <option value="Monthly"
                                                                                                    [selected]="data.frequency == 'Monthly'">
                                                                                                    Month </option>
                                                                                                <option
                                                                                                    value="Quarterly"
                                                                                                    [selected]="data.frequency == 'Quarterly'">
                                                                                                    Quarter </option>
                                                                                                <option
                                                                                                    value="HalfYearly"
                                                                                                    [selected]="data.frequency == 'HalfYearly'">
                                                                                                    HalfYear </option>
                                                                                                <option value="Yearly"
                                                                                                    [selected]="data.frequency == 'Yearly'">
                                                                                                    Year </option>
                                                                                                <option
                                                                                                    value="SemiMonthly"
                                                                                                    [selected]="data.frequency == 'SemiMonthly'">
                                                                                                    SemiMonth </option>
                                                                                                <option value="Weekly"
                                                                                                    [selected]="data.frequency == 'Weekly'">
                                                                                                    Week </option>
                                                                                                <option value="BiWeekly"
                                                                                                    [selected]="data.frequency == 'BiWeekly'">
                                                                                                    BiWeek </option>
                                                                                            </select>
                                                                                        </td>
                                                                                        <td>
                                                                                            <span
                                                                                                (click)="copyFromDateToAll(data,rowIndex)"
                                                                                                style="cursor: pointer !important;">
                                                                                                <i
                                                                                                    class="fa fa-clone text-blue font-16"></i>
                                                                                            </span> &nbsp;&nbsp;
                                                                                            <input
                                                                                                [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"
                                                                                                data-provide="datepicker"
                                                                                                data-date-autoclose="true"
                                                                                                placeholder="Date"
                                                                                                bsDatepicker
                                                                                                [minDate]="effectiveFromDate"
                                                                                                [maxDate]="effectiveToDate"
                                                                                                value="{{data.fromdate | date :'dd-MMM-yyyy'}}"
                                                                                                (bsValueChange)="getFromDateForSave($event,data,rowIndex)"
                                                                                                class="form-control wd-100">
                                                                                        </td>
                                                                                        <td>
                                                                                            <select name="revision type"
                                                                                                class="form-control  wd-120"
                                                                                                (change)="getTransactionTypeForSave($event.target.value,rowIndex,data)">
                                                                                                <option value=""
                                                                                                    [selected]="data.transactionsType == null || data.transactionsType == ''">
                                                                                                    Select</option>
                                                                                                <option
                                                                                                    value="NoOfTransaction"
                                                                                                    title="No. of Transaction"
                                                                                                    [selected]="data.transactionsType == 'NoOfTransaction'">
                                                                                                    No. of Trans
                                                                                                </option>
                                                                                                <option
                                                                                                    value="Perpetual"
                                                                                                    title="Perpetual"
                                                                                                    [selected]="data.transactionsType == 'Perpetual'">
                                                                                                    Perpetual</option>
                                                                                                <option
                                                                                                    value="Defined Date"
                                                                                                    title="Defined Date"
                                                                                                    [selected]="data.transactionsType == 'Defined Date'">
                                                                                                    Def Date
                                                                                                </option>
                                                                                            </select>
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0">
                                                                                                <input
                                                                                                    class="form-control"
                                                                                                    onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                                                                    [value]="data.transactionsType != 'NoOfTransaction' ? '' : 1"
                                                                                                    (focusout)="saveNoOfTransaction($event.target.value,data)"
                                                                                                    [disabled]="data.transactionsType != 'NoOfTransaction'">
                                                                                            </label>
                                                                                        </td>
                                                                                        <td>
                                                                                            <input
                                                                                                data-provide="datepicker"
                                                                                                [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"
                                                                                                data-date-autoclose="true"
                                                                                                placeholder="Date"
                                                                                                bsDatepicker
                                                                                                value="{{data.todate}}"
                                                                                                class="form-control wd-120"
                                                                                                [minDate]="setMinToDate"
                                                                                                [maxDate]="effectiveToDate"
                                                                                                (bsValueChange)="getToDateForSave($event,data)"
                                                                                                [disabled]="data.transactionsType != 'Defined Date'">
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <input class="form-control"
                                                                                                onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                                                                value="{{data.quantity | number: '1.2-2'}}"
                                                                                                disabled>
                                                                                        </td>
                                                                                        <td>
                                                                                            <!-- [disabled]="data.executeSDM == 'YES' || data.executeSDM == 'Yes'" -->
                                                                                            <input type="text"
                                                                                                onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                                                                value="{{data.quantity | number: '1.2-2'}}"
                                                                                                class="form-control"
                                                                                                (focusout)="transactionOpeningAmount($event.target.value,data,rowIndex)">
                                                                                        </td>
                                                                                        <td>
                                                                                            {{data.uom}}
                                                                                        </td>
                                                                                        <td>
                                                                                            <input type="text"
                                                                                                value={{data.remark}}
                                                                                                class="form-control wd-100"
                                                                                                (focusout)="getRemarkChangeForSave($event.target.value,data)">
                                                                                        </td>
                                                                                        <td>
                                                                                            <div class="col-md-2"
                                                                                                *ngIf="data.deviationCount">
                                                                                                <div
                                                                                                    class="custom_Label_badge bagde1">
                                                                                                    <button
                                                                                                        class="btn defaultbtn"
                                                                                                        (click)="deviationPopupOpen(deviationPopup,data,rowIndex)">
                                                                                                        <i class="fa fa-deviantart font-16 text-blue cursor-pointer"
                                                                                                            aria-hidden="true">
                                                                                                        </i></button>
                                                                                                    <span
                                                                                                        class="Label_badge"
                                                                                                        style="text-align: center;">{{data.deviationCount}}</span>
                                                                                                </div>
                                                                                            </div>


                                                                                            <!-- <span class="Label_badge" style="text-align: center;">{{data.deviationCount}}</span> -->
                                                                                        </td>
                                                                                    </tr>



                                                                                </ng-template>

                                                                                <ng-template pTemplate="emptymessage">
                                                                                    <tr>
                                                                                        <td colspan="15"
                                                                                            class="font-14 font500 text-center text-red">
                                                                                            <span>No Data
                                                                                                Available</span>
                                                                                        </td>
                                                                                    </tr>
                                                                                </ng-template>
                                                                            </p-table>

                                                                        </div>
                                                                        </div>
                                                                    </div>

                                                                    <!-- Buttons -->
                                                                    <div class="row mt-15">
                                                                        <div class="col-12">
                                                                            <div class="float-right mb-15">
                                                                                <button type="submit"
                                                                                    tooltip="Save & Next"
                                                                                    *ngIf="!showEmployeeSelectionFlag"
                                                                                    (click)="saveAndNextTransaction()"
                                                                                    [disabled]="selectedEmpData.length == 1 || (selectedEmpData.length-1) == index"
                                                                                    [ngClass]="{'disabled-btn-bg-green' : selectedEmpData.length == 1 || (selectedEmpData.length-1) == index}"
                                                                                    class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple">
                                                                                    <b> <i class="fa fa-floppy-o"></i>
                                                                                    </b>
                                                                                    Save & Next
                                                                                </button>
                                                                                <button type="submit"
                                                                                    tooltip="Save & Next"
                                                                                    *ngIf="showDropdownDisabled"
                                                                                    (click)="saveAndNextPayrollTransaction()"
                                                                                    [disabled]="payrollListEmpData.length == 1 || (payrollListEmpData.length-1) == parollListIndex"
                                                                                    [ngClass]="{'disabled-btn-bg-green' : payrollListEmpData.length == 1 || (payrollListEmpData.length-1) == parollListIndex}"
                                                                                    class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple">
                                                                                    <b> <i class="fa fa-floppy-o"></i>
                                                                                    </b>
                                                                                    Save & Next
                                                                                </button>
                                                                                <button type="button" tooltip="Save"
                                                                                    *ngIf="!showEmployeeSelectionFlag"
                                                                                    (click)="updateSingleTransaction()"
                                                                                    class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ml-10">
                                                                                    <b><i class="fa fa-floppy-o"
                                                                                            aria-hidden="true"></i></b>
                                                                                    Save
                                                                                </button>
                                                                                <button type="button" tooltip="Save"
                                                                                    *ngIf="showEmployeeSelectionFlag"
                                                                                    [disabled]="svaeDisabledFlag"
                                                                                    [ngClass]="{'disabled-btn-bg-green':svaeDisabledFlag}"
                                                                                    (click)="NonRecurringTransactionGroup()"
                                                                                    class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ml-10">
                                                                                    <b><i class="fa fa-floppy-o"
                                                                                            aria-hidden="true"></i></b>
                                                                                    Save
                                                                                </button>
                                                                                <button type="button" tooltip="Previous"
                                                                                    *ngIf="!showEmployeeSelectionFlag"
                                                                                    [disabled]="selectedEmpData.length == 1 || index == 0"
                                                                                    [ngClass]="{'disabled-btn-bg-green' : selectedEmpData.length == 1 || index == 0}"
                                                                                    class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10"
                                                                                    (click)="prevEmpData()">
                                                                                    <b><i class="fa fa-angle-double-left"
                                                                                            aria-hidden="true"></i></b>
                                                                                    Previous
                                                                                </button>
                                                                                <button type="button" tooltip="Previous"
                                                                                    *ngIf="showDropdownDisabled"
                                                                                    [disabled]="payrollListEmpData.length == 1 || parollListIndex == 0"
                                                                                    [ngClass]="{'disabled-btn-bg-green' : payrollListEmpData.length == 1 || parollListIndex == 0}"
                                                                                    class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10"
                                                                                    (click)="prevEmpPayrollData()">
                                                                                    <b><i class="fa fa-angle-double-left"
                                                                                            aria-hidden="true"></i></b>
                                                                                    Previous
                                                                                </button>
                                                                                <button type="button" tooltip="Next"
                                                                                    *ngIf="!showEmployeeSelectionFlag"
                                                                                    [disabled]="selectedEmpData.length == 1 || (selectedEmpData.length-1) == index"
                                                                                    [ngClass]="{'disabled-btn-bg-green' : selectedEmpData.length == 1 || (selectedEmpData.length-1) == index}"
                                                                                    class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10"
                                                                                    (click)="nextEmpData()">
                                                                                    <b><i class="fa fa-angle-double-right"
                                                                                            aria-hidden="true"></i></b>
                                                                                    Next
                                                                                </button>
                                                                                <button type="button" tooltip="Next"
                                                                                    *ngIf="showDropdownDisabled"
                                                                                    [disabled]="payrollListEmpData.length == 1 || (payrollListEmpData.length-1) == parollListIndex"
                                                                                    [ngClass]="{'disabled-btn-bg-green' : payrollListEmpData.length == 1 || (payrollListEmpData.length-1) == parollListIndex}"
                                                                                    class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10"
                                                                                    (click)="nextEmpPayrollData()">
                                                                                    <b><i class="fa fa-angle-double-right"
                                                                                            aria-hidden="true"></i></b>
                                                                                    Next
                                                                                </button>
                                                                                <button type="button" tooltip="Reset"
                                                                                    (click)="resetTransactionForm()"
                                                                                    class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10">
                                                                                    <b><i class="fa fa-refresh"
                                                                                            aria-hidden="true"></i></b>
                                                                                    Reset
                                                                                </button>
                                                                                <button type="button" tooltip="Cancel"
                                                                                    class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10"
                                                                                    (click)="cancelBtn()">
                                                                                    <b><i class="fa fa-times-circle"
                                                                                            aria-hidden="true"></i></b>
                                                                                    Cancel
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <app-fastentry-nr-qty *ngIf="selectedOption != 'single'">
                                                            </app-fastentry-nr-qty>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <label class="nav" for="Transaction"
                                            [ngClass]="{'disabled-tab' : selectedEmpData.length > 0}">
                                            <span> Transaction </span>
                                        </label>


                                        <!------------- ------------  Schedule --------------------->
                                        <input name="nav" type="radio" class="about-radio" id="Schedule"
                                            [checked]="indexId == 3" (click)="getAllScheduleData()"
                                            [disabled]="selectedEmpData.length > 0" />

                                        <div class="tabs about-page">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="card">
                                                        <div class="card-body">
                                                            <!-- Selected Employee basic infrmation-->
                                                            <div class="row mt-10">
                                                                <div class="col-md-12 pl-0 pr-0">
                                                                    <div class="box-line-border radius-10 p-2 mt-3"
                                                                        *ngIf="selectedEmpData[index]">
                                                                        <div class="row">
                                                                            <div class="col-md-4">
                                                                                <label
                                                                                    class="form-label mt-1 mb-0">Employee
                                                                                    No. & Name</label>
                                                                                <label
                                                                                    class="font-12 text-ellipsis mt-1 mb-0">
                                                                                    {{selectedEmpData[index].employeeMasterResponseDTO.employeeCode}}
                                                                                    -
                                                                                    {{selectedEmpData[index].employeeMasterResponseDTO.fullName}}</label>
                                                                            </div>
                                                                            <div class="col-md-2">
                                                                                <label
                                                                                    class="form-label mt-1 mb-0">Payroll
                                                                                    Area</label>
                                                                                <label
                                                                                    class="font-12 text-ellipsis mt-1 mb-0">
                                                                                    {{selectedEmpData[index].payrollArea.payrollAreaCode}}
                                                                                </label>
                                                                            </div>
                                                                            <div class="col-md-2">
                                                                                <label class="form-label mt-1 mb-0">NR
                                                                                    Qty. Earning Head</label>
                                                                                <label
                                                                                    class="font-12 text-ellipsis mt-1 mb-0">
                                                                                    {{selectedEmpData[index].nonSalaryDTO.description}}
                                                                                </label>
                                                                            </div>
                                                                            <div class="col-md-2">
                                                                                <label
                                                                                    class="form-label mt-1 mb-0">Type</label>
                                                                                <label
                                                                                    class="font-12 text-ellipsis mt-1 mb-0">
                                                                                    {{selectedEmpData[index].type}}
                                                                                </label>
                                                                            </div>
                                                                            <div class="col-md-2">
                                                                                <label
                                                                                    class="form-label mt-1 mb-0">Frequency</label>
                                                                                <label
                                                                                    class="font-12 text-ellipsis mt-1 mb-0">
                                                                                    {{selectedEmpData[index].frequency}}
                                                                                </label>
                                                                            </div>
                                                                            <div class="col-md-2">
                                                                                <label
                                                                                    class="form-label mt-1 mb-0">Transaction
                                                                                    Id</label>
                                                                                <label
                                                                                    class="font-12 text-ellipsis mt-1 mb-0">
                                                                                    {{selectedEmpData[index].nonSalaryTransactionGroupId}}
                                                                                </label>
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <br>

                                                            <div class="row mb-10">

                                                                <div class="col-md-12">
                                                                    <div class="float-right">
                                                                        <button type="button" tooltip="Approve"
                                                                            class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left mr-10"><b><i
                                                                                    class="fa fa-check-square-o"></i></b>
                                                                            Approve </button>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <!-- Edit schedule data-->
                                                            <div class="table-responsive Custom_Table">
                                                                <p-table [value]="NonRecurringTransactionScheduleEMPdData"
                                                                    class="mt-10" [paginator]="true" [rows]="10"
                                                                    [showCurrentPageReport]="true"
                                                                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                                                    [rowsPerPageOptions]="[10,25,50,100,200]"
                                                                    *ngIf="editScheduleFlag"
                                                                    [style]="{'width':'100%', overflow: auto}" #dt1
                                                                    [globalFilterFields]="['selectedEmpData[index]','nonSalaryTransactionGroupId','nonSalaryTransactionScheduleId',
                                                                    'transactionDate','transactionAmount','quantity','processedAmount','cycleName','approvalstatus']">

                                                                    <ng-template pTemplate="caption">
                                                                        <div class="row">
                                                                            <div class="col-md-12">
                                                                                <div class="float-right">
                                                                                    <div class="d-flex">
                                                                                        <span
                                                                                            class="p-input-icon-left p-ml-auto">
                                                                                            <i class="pi pi-search"
                                                                                                style="top: 9px !important; margin-right: 11px;"></i>
                                                                                            <input pInputText
                                                                                                type="text"
                                                                                                (input)="dt1.filterGlobal($event.target.value, 'contains')"
                                                                                                placeholder="Search " />
                                                                                        </span>
                                                                                        <i class="fa fa-file-excel-o ml-2 font-24 mt-1 text-dark-green"
                                                                                            (click)="ScheduleExportAsXLSX()"></i>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </ng-template>

                                                                    <ng-template pTemplate="header">
                                                                        <tr>
                                                                            <th rowspan="2" class="wd-5">
                                                                                Sr. No.

                                                                            </th>
                                                                            <th rowspan="2" class="wd-8">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Emp. Code
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="employeeMasterResponseDTO.employeeCode"
                                                                                        pSortableColumn="employeeMasterResponseDTO.employeeCode">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter field="employeeMasterResponseDTO.employeeCode"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">
                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th rowspan="2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Emp. Name
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="employeeMasterResponseDTO.fullName"
                                                                                        pSortableColumn="employeeMasterResponseDTO.fullName">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter field="employeeMasterResponseDTO.fullName"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th rowspan="2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Payroll Area
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="payrollArea.payrollAreaCode"
                                                                                        pSortableColumn="payrollArea.payrollAreaCode">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter
                                                                                            field="payrollArea.payrollAreaCode"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">
                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>

                                                                            <th rowspan="2" class="wd-5">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Head
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="nonSalaryDTO.description"
                                                                                        pSortableColumn="nonSalaryDTO.description">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter field="nonSalaryDTO.description"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th rowspan="2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Group Id
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon
                                                                                        pSortableColumn="nonSalaryTransactionGroupId"
                                                                                            field="nonSalaryTransactionGroupId">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter
                                                                                            field="nonSalaryTransactionGroupId"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th colspan="5" class="wd-8">
                                                                                <div
                                                                                    class="p-d-flex p-jc-center p-ai-center">
                                                                                    Schedule

                                                                                </div>
                                                                            </th>

                                                                            <th rowspan="2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Processed Amount
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="processedAmount"
                                                                                        pSortableColumn="processedAmount">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter
                                                                                            field="processedAmount"
                                                                                            type="numeric" display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th rowspan="2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Balance Amount
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon
                                                                                            field="transactionAmount"
                                                                                            pSortableColumn="transactionAmount">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter
                                                                                            field="transactionAmount"
                                                                                            type="numeric" display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th rowspan="2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Processing Cycle
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="cycleName"
                                                                                        pSortableColumn="cycleName">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter field="cycleName"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th rowspan="2"> Hold </th>
                                                                            <th rowspan="2"> Discard </th>
                                                                            <th rowspan="2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Reschedule Date
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="resheduleDate"
                                                                                        pSortableColumn="resheduleDate">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter type="date"
                                                                                            field="resheduleDate"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th rowspan="2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Approval Status
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="approvalstatus"
                                                                                        pSortableColumn="approvalstatus">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter
                                                                                            field="approvalstatus"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>

                                                                            <th rowspan="2" class="wd-8">Remark</th>
                                                                            <th rowspan="2"></th>
                                                                            <!-- <th rowspan="2">Reschedule</th> -->
                                                                        </tr>
                                                                        <tr>
                                                                            <th class="wd-8">
                                                                                No.
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon
                                                                                    pSortableColumn="nonSalaryTransactionScheduleId"
                                                                                        field="nonSalaryTransactionScheduleId">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter
                                                                                    type="numeric"
                                                                                        field="nonSalaryTransactionScheduleId"
                                                                                        display="menu" class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </th>
                                                                            <th class="wd-8">
                                                                                Date
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon
                                                                                    pSortableColumn="transactionDate"
                                                                                        field="transactionDate">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter
                                                                                    type="date"
                                                                                        field="transactionDate"
                                                                                        display="menu" class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </th>
                                                                            <th class="wd-8">
                                                                                Value
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon
                                                                                    pSortableColumn="quantity"
                                                                                        field="quantity">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter
                                                                                    type="numeric"
                                                                                        field="quantity"
                                                                                        display="menu" class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </th>
                                                                            <th class="wd-8">
                                                                                UOM
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon
                                                                                        field="uom">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter
                                                                                        field="uom"
                                                                                        display="menu" class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </th>
                                                                            <th class="wd-8">
                                                                                Amount
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon
                                                                                        field="transactionAmount"
                                                                                        pSortableColumn="transactionAmount"
                                                                                        >
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter
                                                                                    type="numeric"
                                                                                        field="transactionAmount"
                                                                                        display="menu" class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </th>
                                                                        </tr>
                                                                    </ng-template>

                                                                    <ng-template pTemplate="body" let-ScheduleData
                                                                        let-rowIndex=rowIndex>
                                                                        <tr class="p-selectable-row">
                                                                            <td> <label
                                                                                    class="form-lable mb-0 ">{{rowIndex+1}}</label>
                                                                            </td>
                                                                            <td class="bg-color-light_gray">
                                                                                <label class="form-lable mb-0"
                                                                                    *ngIf="selectedEmpData[this.index]">
                                                                                    {{selectedEmpData[this.index].employeeMasterResponseDTO.employeeCode}}
                                                                                </label>
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0"
                                                                                    *ngIf="selectedEmpData[this.index]">
                                                                                    {{selectedEmpData[this.index].employeeMasterResponseDTO.fullName}}</label>
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0"
                                                                                    *ngIf="selectedEmpData[this.index]">
                                                                                    {{selectedEmpData[this.index].payrollArea.payrollAreaCode}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray">
                                                                                <label class="form-lable mb-0 "
                                                                                    *ngIf="selectedEmpData[index]">
                                                                                    {{selectedEmpData[index].nonSalaryDTO.description}}
                                                                                </label>

                                                                            </td>
                                                                            <!-- <td class="bg-color-light_gray">
                                                                                <label class="form-lable mb-0">
                                                                                    {{ScheduleData.type}}
                                                                                </label>

                                                                            </td> -->
                                                                            <td class="bg-color-light_gray">
                                                                                <label class="form-lable mb-0">
                                                                                    {{ScheduleData.nonSalaryTransactionGroupId}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">
                                                                                    {{ScheduleData.nonSalaryTransactionScheduleId}}
                                                                                </label>
                                                                                <!-- No -->
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><input
                                                                                    data-provide="datepicker"
                                                                                    data-date-autoclose="true"
                                                                                    [value]="ScheduleData.transactionDate | date: 'dd-MMM-yyyy'"
                                                                                    class="form-control wd-100" bsDatepicker
                                                                                    disabled>
                                                                                <!-- date -->
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">
                                                                                    {{ScheduleData.quantity}}
                                                                                </label>
                                                                                <!-- value -->
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0"
                                                                                    *ngIf="selectedEmpData[index]">
                                                                                    {{selectedEmpData[index].uom}}
                                                                                </label>
                                                                                <!-- UOM -->
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0"><input
                                                                                        type="text"
                                                                                        [value]="ScheduleData.transactionAmount | number: '1.2-2'"
                                                                                        class="form-control wd-100"
                                                                                        disabled>
                                                                                </label>
                                                                                <!-- amount -->
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{ScheduleData.processedAmount}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{ScheduleData.transactionAmount
                                                                                    | number: '1.2-2'}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{ScheduleData.cycleName}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray">
                                                                                <label
                                                                                    class="custom-control custom-checkbox checkbox-center">
                                                                                    {{ScheduleData.discard}}
                                                                                    <input type="checkbox"
                                                                                        class="custom-control-input"
                                                                                        (click)="getHoldScheduleValue($event.target,ScheduleData,rowIndex)"
                                                                                        [disabled]="ScheduleData.discard == true || ScheduleData.isDisabledFlag"
                                                                                        [checked]="ScheduleData.hold == true" />
                                                                                    <!-- || (selecteddiscardIndex == rowIndex && discard == 1) -->
                                                                                    <!-- || ScheduleData.isDisabledFlag -->
                                                                                    <span
                                                                                        class="custom-control-label"></span>
                                                                                </label>
                                                                            </td>
                                                                            <td class="bg-color-light_gray">
                                                                                <label
                                                                                    class="custom-control custom-checkbox checkbox-center">
                                                                                    <input type="checkbox"
                                                                                        class="custom-control-input"
                                                                                        (click)="getDiscardScheduleValue($event.target,ScheduleData,rowIndex)"
                                                                                        [disabled]="ScheduleData.hold == true || ScheduleData.isDisabledFlag"
                                                                                        [checked]="ScheduleData.discard == true" />

                                                                                    <!-- || (selecteddiscardIndex == rowIndex && hold == 1) -->
                                                                                    <!-- || ScheduleData.isDisabledFlag -->
                                                                                    <span
                                                                                        class="custom-control-label"></span>
                                                                                </label>
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><input
                                                                                    data-provide="datepicker"
                                                                                    data-date-autoclose="true"
                                                                                    value="{{ScheduleData.resheduleDate}}"
                                                                                    [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"
                                                                                    (bsValueChange)="getRescheduleDate($event,ScheduleData)"
                                                                                    [disabled]="(ScheduleData.hold == true || ScheduleData.discard == true)
                                                                                    || ((selectedHoldIndex == rowIndex && hold == 1) || (selecteddiscardIndex == rowIndex && discard == 1)  )
                                                                                    || ScheduleData.isDisabledFlag"
                                                                                    class="form-control" bsDatepicker>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{ScheduleData.approvalstatus}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><input
                                                                                    type="text" class="form-control wd-100"
                                                                                    (focusout)="getScheduleRemark($event.target.value,ScheduleData)"
                                                                                    [value]="ScheduleData.remark">

                                                                            </td>
                                                                            <td><i tooltip="View Schedule"
                                                                                    class="fa fa-eye font-16 text-blue cursor-pointer"
                                                                                    (click)="ViewScheduleHistory(template3,ScheduleData)"
                                                                                    aria-hidden="true"></i></td>
                                                                            <!-- <td> {{ScheduleData.isReschedule}}</td> -->

                                                                        </tr>
                                                                    </ng-template>

                                                                </p-table>

                                                                <!-- All schedule data-->
                                                                <!-- [scrollable]="true" scrollHeight="800px" -->
                                                               
                                                                <p-table [value]="AllNonRecurringTransactionScheduledData"
                                                                    class="mt-10" [paginator]="true" [rows]="10"
                                                                    [showCurrentPageReport]="true"
                                                                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                                                    [rowsPerPageOptions]="[10,25,50,100,200]"
                                                                    *ngIf="!editScheduleFlag"
                                                                    [style]="{'width':'100%', overflow: auto}" #dt1
                                                                    [globalFilterFields]="['employeeMasterResponseDTO.employeeCode',
                                                                    'employeeMasterResponseDTO.fullName','payrollArea.payrollAreaCode',
                                                                    'head','type','nonSalaryTransactionGroupId','uom','processedAmount',
                                                                    'nonSalaryTransactionScheduleId','payrollHeadMaster','transactionAmount',
                                                                    'transactionDate','quantity','processedAmount','cycleName','approvalstatus']">

                                                                    <ng-template pTemplate="caption">
                                                                        <div class="row">
                                                                            <div class="col-md-12">
                                                                                <div class="float-right">
                                                                                    <div class="d-flex">
                                                                                        <span
                                                                                            class="p-input-icon-left p-ml-auto">
                                                                                            <i class="pi pi-search"
                                                                                                style="top: 9px !important; margin-right: 11px;"></i>
                                                                                            <input pInputText
                                                                                                type="text"
                                                                                                (input)="dt1.filterGlobal($event.target.value, 'contains')"
                                                                                                placeholder="Search " />
                                                                                        </span>
                                                                                        <i class="fa fa-file-excel-o ml-2 font-24 mt-1 text-dark-green"
                                                                                            (click)="AllScheduleExportAsXLSX()"></i>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </ng-template>

                                                                    <ng-template pTemplate="header">
                                                                        <tr>
                                                                            <th rowspan="2" class="wd-5">
                                                                                Sr. No.

                                                                            </th>
                                                                            <th rowspan="2" class="wd-8">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Emp. Code
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="employeeMasterResponseDTO.employeeCode"
                                                                                        pSortableColumn="employeeMasterResponseDTO.employeeCode">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter field="employeeMasterResponseDTO.employeeCode"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">
                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th rowspan="2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Emp. Name
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="employeeMasterResponseDTO.fullName"
                                                                                        pSortableColumn="employeeMasterResponseDTO.fullName">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter field="employeeMasterResponseDTO.fullName"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th rowspan="2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Payroll Area
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="payrollArea.payrollAreaCode"
                                                                                        pSortableColumn="payrollArea.payrollAreaCode">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter
                                                                                            field="payrollArea.payrollAreaCode"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">
                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>

                                                                            <th rowspan="2" class="wd-5">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Head
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="head"
                                                                                        pSortableColumn="head">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter field="head"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th rowspan="2" class="wd-5">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Type
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="type"
                                                                                        pSortableColumn="type">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter field="type"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th rowspan="2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Group Id
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon
                                                                                        pSortableColumn="nonSalaryTransactionGroupId"
                                                                                            field="nonSalaryTransactionGroupId">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter
                                                                                            field="nonSalaryTransactionGroupId"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th colspan="5" class="wd-8">
                                                                                <div
                                                                                    class="p-d-flex p-jc-center p-ai-center">
                                                                                    Schedule
                                                                                </div>
                                                                            </th>

                                                                            <th rowspan="2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Processed Amount
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="processedAmount"
                                                                                        pSortableColumn="processedAmount">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter
                                                                                            field="processedAmount"
                                                                                            type="numeric" display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th rowspan="2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Balance Amount
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon
                                                                                        pSortableColumn="transactionAmount"
                                                                                            field="transactionAmount">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter
                                                                                            field="transactionAmount"
                                                                                            type="numeric" display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th rowspan="2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Processing Cycle
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="cycleName"
                                                                                        pSortableColumn="cycleName">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter field="cycleName"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th rowspan="2"> Hold </th>
                                                                            <th rowspan="2"> Discard </th>
                                                                            <th rowspan="2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Reschedule Date
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="resheduleDate"
                                                                                        pSortableColumn="resheduleDate">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter type="date"
                                                                                            field="resheduleDate"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>
                                                                            <th rowspan="2">
                                                                                <div
                                                                                    class="p-d-flex p-jc-between p-ai-center">
                                                                                    Approval Status
                                                                                    <div class="Sort_Filter_Position">
                                                                                        <p-sortIcon field="approvalstatus"
                                                                                        pSortableColumn="approvalstatus">
                                                                                        </p-sortIcon>
                                                                                        <p-columnFilter
                                                                                            field="approvalstatus"
                                                                                            display="menu"
                                                                                            class="p-ml-auto">

                                                                                        </p-columnFilter>
                                                                                    </div>
                                                                                </div>
                                                                            </th>

                                                                            <th rowspan="2" class="wd-8">Remark</th>
                                                                            <th rowspan="2"></th>
                                                                            <!-- <th rowspan="2">Reschedule</th> -->
                                                                        </tr>
                                                                        <tr>
                                                                            <th class="wd-8">
                                                                                No.
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon
                                                                                    pSortableColumn="nonRecurringTransactionScheduleId"
                                                                                        field="nonRecurringTransactionScheduleId">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter
                                                                                    type="numeric"
                                                                                        field="nonRecurringTransactionScheduleId"
                                                                                        display="menu" class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </th>
                                                                            <th class="wd-8">
                                                                                Date
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon
                                                                                    pSortableColumn="transactionDate"
                                                                                        field="transactionDate">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter
                                                                                    type="date"
                                                                                        field="transactionDate"
                                                                                        display="menu" class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </th>
                                                                            <th class="wd-8">
                                                                                Value
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon
                                                                                    pSortableColumn="quantity"
                                                                                        field="quantity">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter
                                                                                    type="numeric"
                                                                                        field="quantity"
                                                                                        display="menu" class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </th>
                                                                            <th class="wd-8">
                                                                                UOM
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon
                                                                                    pSortableColumn="uom"
                                                                                        field="uom">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter
                                                                                        field="uom"
                                                                                        display="menu" class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </th>
                                                                            <th class="wd-8">
                                                                                Amount
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon
                                                                                    pSortableColumn="transactionAmount"
                                                                                        field="transactionAmount">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter
                                                                                        field="transactionAmount"
                                                                                        display="menu" class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </th>
                                                                        </tr>
                                                                    </ng-template>

                                                                    <ng-template pTemplate="body" let-ScheduleData
                                                                        let-rowIndex=rowIndex>
                                                                        <tr class="p-selectable-row">
                                                                            <td> <label
                                                                                    class="form-lable mb-0 ">{{rowIndex+1}}</label>
                                                                            </td>
                                                                            <td class="bg-color-light_gray">
                                                                                <label class="form-lable mb-0"
                                                                                    *ngIf="ScheduleData.employeeMasterResponseDTO">
                                                                                    {{ScheduleData.employeeMasterResponseDTO.employeeCode}}
                                                                                </label>
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0"
                                                                                    *ngIf="ScheduleData.employeeMasterResponseDTO">
                                                                                    {{ScheduleData.employeeMasterResponseDTO.fullName}}</label>
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0"
                                                                                    *ngIf="ScheduleData.payrollArea">
                                                                                    {{ScheduleData.payrollArea.payrollAreaCode}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray">
                                                                                <label class="form-lable mb-0"
                                                                                    *ngIf="ScheduleData.payrollHeadMaster">
                                                                                    {{ScheduleData.head}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray">
                                                                                <label class="form-lable mb-0">
                                                                                    {{ScheduleData.type}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray">
                                                                                <label class="form-lable mb-0">
                                                                                    {{ScheduleData.nonSalaryTransactionGroupId}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">
                                                                                    {{ScheduleData.nonSalaryTransactionScheduleId}}
                                                                                </label>
                                                                                <!-- No -->
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><input
                                                                                    data-provide="datepicker"
                                                                                    data-date-autoclose="true"
                                                                                    [value]="ScheduleData.transactionDate | date: 'dd-MMM-yyyy'"
                                                                                    class="form-control wd-100" bsDatepicker
                                                                                    disabled>
                                                                                <!-- date -->
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">
                                                                                    {{ScheduleData.quantity}}
                                                                                </label>
                                                                                <!-- value -->
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">
                                                                                    {{ScheduleData.uom}}
                                                                                </label>
                                                                                <!-- UOM -->
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0"><input
                                                                                        type="text"
                                                                                        [value]="ScheduleData.transactionAmount | number: '1.2-2'"
                                                                                        class="form-control wd-100"
                                                                                        disabled>
                                                                                </label>
                                                                                <!-- amount -->
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{ScheduleData.processedAmount}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{ScheduleData.transactionAmount
                                                                                    | number: '1.2-2'}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{ScheduleData.cycleName}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray">
                                                                                <label
                                                                                    class="custom-control custom-checkbox checkbox-center">
                                                                                    <input type="checkbox"
                                                                                        class="custom-control-input"
                                                                                        (click)="getHoldScheduleValue($event.target,ScheduleData,rowIndex)"
                                                                                        [disabled]="ScheduleData.discard == true
                                                                                        || (selecteddiscardIndex == rowIndex && discard == 1)
                                                                                        || ScheduleData.isDisabledFlag"
                                                                                        [checked]="ScheduleData.hold == true" />
                                                                                    <span
                                                                                        class="custom-control-label"></span>
                                                                                </label>
                                                                            </td>
                                                                            <td class="bg-color-light_gray">
                                                                                <label
                                                                                    class="custom-control custom-checkbox checkbox-center">
                                                                                    <input type="checkbox"
                                                                                        class="custom-control-input"
                                                                                        (click)="getDiscardScheduleValue($event.target,ScheduleData,rowIndex)"
                                                                                        [disabled]="ScheduleData.hold == true
                                                                                        || (selecteddiscardIndex == rowIndex && hold == 1)
                                                                                        || ScheduleData.isDisabledFlag"
                                                                                        [checked]="ScheduleData.discard == true" />
                                                                                    <span
                                                                                        class="custom-control-label"></span>
                                                                                </label>
                                                                            </td>
                                                                            <td class="bg-color-light_gray"><input
                                                                                    data-provide="datepicker"
                                                                                    data-date-autoclose="true"
                                                                                    value="{{ScheduleData.resheduleDate}}"
                                                                                    [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"
                                                                                    (bsValueChange)="getRescheduleDate($event,ScheduleData)"
                                                                                    [disabled]="(ScheduleData.hold == true || ScheduleData.discard == true)
                                                                                    || ((selectedHoldIndex == rowIndex && hold == 1) || (selecteddiscardIndex == rowIndex && discard == 1)  )
                                                                                    || ScheduleData.isDisabledFlag"
                                                                                    class="form-control" bsDatepicker>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><label
                                                                                    class="form-lable mb-0">{{ScheduleData.approvalstatus}}
                                                                                </label>

                                                                            </td>
                                                                            <td class="bg-color-light_gray"><input
                                                                                    type="text" class="form-control wd-100"
                                                                                    (focusout)="getScheduleRemark($event.target.value,ScheduleData)"
                                                                                    [value]="ScheduleData.remark">

                                                                            </td>
                                                                            <td><i tooltip="View Schedule"
                                                                                    class="fa fa-eye font-16 text-blue cursor-pointer"
                                                                                    (click)="ViewScheduleHistory(template3,ScheduleData)"
                                                                                    aria-hidden="true"></i></td>
                                                                            <!-- <td> {{ScheduleData.isReschedule}}</td> -->

                                                                        </tr>
                                                                    </ng-template>
                                                                </p-table>
                                                            </div>

                                                            <!-- Buttons -->
                                                            <div class="row mt-15">
                                                                <div class="col-12">
                                                                    <div class="float-right mb-15">
                                                                        <!-- <button type="submit" tooltip="Save & Next" (click)="NonRecurringTransactionScheduleupdateById()"
                                                                            class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple"><b>
                                                                                <i class="fa fa-floppy-o"></i></b> Save
                                                                            & Next</button> -->
                                                                        <button type="button" tooltip="Save"
                                                                            (click)="NonRecurringTransactionScheduleupdateById()"
                                                                            [disabled]="updateScheduleData.length == 0"
                                                                            [ngClass]="{'disabled-btn' : updateScheduleData.length == 0}"
                                                                            class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ml-10"><b><i
                                                                                    class="fa fa-floppy-o"
                                                                                    aria-hidden="true"></i></b>Save</button>

                                                                        <button type="button" tooltip="Cancel"
                                                                            (click)="cancelBtn()"
                                                                            class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10"><b><i
                                                                                    class="fa fa-times"
                                                                                    aria-hidden="true"></i></b>Cancel</button>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <label class="nav" for="Schedule"
                                            [ngClass]="{'disabled-tab' : selectedEmpData.length > 0}">
                                            <span> Schedule </span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</form>


<!-- Transaction History summary page-->
<ng-template #template1>
    <div class="modal-header">
        <h5 class="modal-title" id="UploadModalLabel"> Group Transaction History</h5>
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
                aria-hidden="true">×</span></button>
    </div>
    <div class="modal-body">
        <div class="card">
            <div class="card-body p-0 m-0">
                <div class="row">
                    <div class="col-md-12 pl-0 pr-0">
                        <div class="border-dark-card radius-10 p-2 mt-3">
                            <div class="row" *ngIf="viewHeadHistory">

                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Emp. Code</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewHeadHistory.employeeMasterResponseDTO.employeeCode}} </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Emp. Name</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewHeadHistory.employeeMasterResponseDTO.fullName}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">NR Qty. Earning Head</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewHeadHistory.nonSalaryDTO.description}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">NR Qty. Type</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewHeadHistory.type}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Group Id</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewHeadHistory.nonSalaryTransactionGroupId}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Payroll Area</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewHeadHistory.payrollArea.payrollAreaCode}}
                                    </label>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="row clearfix mt-10">
                    <div class="col-md-12">
                        <div class="table-responsive Custom_Table">
                            <table class="table table-striped table-hover table-bordered m-b-0">
                                <thead class="thead-dark">
                                    <tr>
                                        <!-- <th class="wd-10 font700">Group Id</th> -->
                                        <th class="wd-10 font700">Once Every</th>
                                        <th class="wd-10 font700">Frequency</th>
                                        <th class="wd-10 font700">From Date</th>
                                        <th class="wd-10 font700">Transaction Type</th>
                                        <th class="wd-10 font700">No Of Transactions</th>
                                        <th class="wd-10 font700">To Date</th>
                                        <th class="wd-10 font700">Quantity</th>
                                        <th class="wd-10 font700">UOM</th>
                                        <th class="wd-10 font700">Remark</th>
                                        <th class="wd-10 font700">Status</th>
                                        <th class="wd-13 font700">Updated Date</th>
                                        <th class="wd-10 font700">Updated By</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr
                                        *ngFor="let data of NonRecurringTransactionGroupHistoryAPIbyIdData; let index = index; ">
                                        <!-- <td>{{data.nonRecurringTransactionGroupId}}</td> -->
                                        <td>{{data.onceEvery}}</td>
                                        <td>{{data.frequency}}</td>
                                        <td>{{data.fromDate | date:'dd-MMM-yy'}}</td>
                                        <td>{{data.transactionsType}}</td>
                                        <td>{{data.numberOfTransactions}}</td>
                                        <td>{{data.toDate | date:'dd-MMM-yy'}</td>
                                        <td>{{data.quantity}}</td>
                                        <td>{{data.uom}}</td>
                                        <td>{{data.remark}}</td>
                                        <td>
                                            <label class="badge badge-warning">Pending</label>
                                            <!-- <label class="badge badge-warning" *ngIf="data.approveStatus == 'Pending'">{{data.approveStatus}}</label> -->
                                            <!-- <label class="badge badge-success" *ngIf="data.approveStatus == 'Approved'">{{data.approveStatus}}</label> -->
                                        </td>
                                      
                                        <td>{{data.createDateTime}}</td>
                                        <td>{{data.createdBy}}</td>

                                    </tr>


                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modalRef.hide()"><i class="fa fa-times"></i>
            &nbsp;Close</button>
    </div>
</ng-template>

<!-- Head History - transactions summary page-->
<ng-template #template1i>
    <div class="modal-header">
        <h5 class="modal-title" id="UploadModalLabel"> Head Transaction History </h5>
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
                aria-hidden="true">×</span></button>
    </div>
    <div class="modal-body">
        <div class="card">
            <div class="card-body p-0 m-0">
                <div class="row">
                    <div class="col-md-12 pl-0 pr-0">
                        <div class="border-dark-card radius-10 p-2 mt-3">
                            <div class="row" *ngIf="viewHeadHistory">

                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Emp. Code</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewHeadHistory.employeeMasterResponseDTO.employeeCode}} </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Emp. Name</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewHeadHistory.employeeMasterResponseDTO.fullName}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">E/D Head</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewHeadHistory.nonSalaryDTO.description}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">NRQ Type</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewHeadHistory.type}}
                                    </label>
                                </div>
                                <!-- <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Group Id</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewHeadHistory.nonSalaryTransactionGroupId}}
                                    </label>
                                </div> -->
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Payroll Area</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewHeadHistory.payrollArea.payrollAreaCode}}
                                    </label>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="row clearfix mt-10">
                    <div class="col-md-12">
                        <div class="table-responsive Custom_Table">
                            <table class="table table-striped table-hover table-bordered m-b-0">
                                <thead class="thead-dark">
                                    <tr>
                                        <th class="wd-10 font700">Group Id</th>
                                        <th class="wd-8 font700">Type</th>
                                        <th class="wd-10 font700">Once Every</th>
                                        <th class="wd-10 font700">Frequency</th>
                                        <th class="wd-10 font700">From Date</th>
                                        <th class="wd-10 font700">Type</th>
                                        <th class="wd-10 font700">No Of Transactions</th>
                                        <th class="wd-10 font700">To Date</th>
                                        <th class="wd-10 font700">Quantity</th>
                                        <th class="wd-10 font700">UOM</th>
                                        <th class="wd-10 font700">Remark</th>
                                        <th class="wd-10 font700">Status</th>
                                        <th class="wd-13 font700">Updated Date</th>
                                        <th class="wd-10 font700">Updated By</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr
                                        *ngFor="let data of NonSalaryTransactionGroupHeadwiseHistoryData; let index = index; ">
                                        <td>{{data.nonSalaryTransactionGroupId}}</td>
                                        <td>{{data.type}}</td>
                                        <td>{{data.onceEvery}}</td>
                                        <td>{{data.frequency}}</td>
                                        <td>{{data.fromDate | date:'dd-MMM-yy'}}</td>
                                        <td>{{data.transactionsType}}</td>
                                        <td>{{data.numberOfTransactions}}</td>
                                        <td>{{data.toDate | date:'dd-MMM-yy'}}</td>
                                        <td>{{data.quantity}}</td>
                                        <td>{{data.uom}}</td>
                                        <td>{{data.remark}}</td>
                                        <td>
                                            <label class="badge badge-warning">Pending</label>
                                            <!-- <label class="badge badge-warning" *ngIf="data.approveStatus == 'Pending'">{{data.approveStatus}}</label> -->
                                            <!-- <label class="badge badge-success" *ngIf="data.approveStatus == 'Approved'">{{data.approveStatus}}</label> -->
                                        </td>
                                        <td>{{data.createDateTime}}</td>
                                        <td>{{data.createdBy}}</td>

                                    </tr>


                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modalRef.hide()"><i class="fa fa-times"></i>
            &nbsp;Close</button>
    </div>
</ng-template>

<!-- View Schedule details summary page click on action button-->
<ng-template #template2>
    <div class="modal-header">
        <h5 class="modal-title" id="UploadModalLabel"> Schedule Details</h5>
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
                aria-hidden="true">×</span></button>
    </div>
    <div class="modal-body">
        <div class="card">
            <div class="card-body p-0 m-0">
                <div class="row">
                    <div class="col-md-12 pl-0 pr-0">
                        <div class="border-dark-card radius-10 p-2 mt-3">
                            <div class="row" *ngIf="viewEmployeeData">
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Emp. Code</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.employeeMasterResponseDTO.employeeCode}} </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Emp. Name</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.employeeMasterResponseDTO.fullName}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Payroll Area</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.payrollArea.payrollAreaCode}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Group Id</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.nonSalaryTransactionGroupId}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">E/D Head</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.nonSalaryDTO.description}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">NRQ Type</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.type}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">UOM</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.uom}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Once Every</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.onceEvery}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Frequency</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.frequency}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">From Date</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.fromDate | date:'dd-MMM-yy'}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Type Of Transaction</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.transactionsType}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">No. Of Transaction</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.NoOfTransaction}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">To Date</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.toDate | date:'dd-MMM-yy'}}
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row clearfix mt-10">
                    <div class="col-md-12">
                        <div class="table-responsive Custom_Table">
                            <table class="table table-striped table-hover table-bordered m-b-0">
                                <thead class="thead-dark">
                                    <tr>
                                        <th colspan="4" class="wd-40 font700">Schedule</th>
                                        <th rowspan="2" class="wd-10 font700">Processed Amount</th>
                                        <th rowspan="2" class="wd-10 font700">Balance Amount</th>
                                        <th rowspan="2" class="wd-10 font700">Processing Cycle</th>
                                        <th rowspan="2" class="wd-10 font700">Hold</th>
                                        <th rowspan="2" class="wd-10 font700">Discard</th>
                                        <th rowspan="2" class="wd-10 font700">Remark</th>

                                    </tr>
                                    <tr>
                                        <th>No.</th>
                                        <th>Date</th>
                                        <th>Quantity</th>
                                        <th>Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr
                                        *ngFor="let data of NonRecurringTransactionScheduleEMPdData; let index = index;">
                                        <td>{{index + 1}}</td>
                                        <td>{{data.transactionDate | date : 'dd-MMM-yyyy'}}</td>
                                        <td>{{data.quantity}}</td>
                                        <td>{{data.transactionAmount | number: '1.2-2'}}</td>
                                        <td>{{data.processedAmount | number: '1.2-2'}}</td>
                                        <td>{{data.transactionAmount | number: '1.2-2'}}</td>
                                        <td>{{data.cycleName}}</td>
                                        <td><label class="custom-control custom-checkbox checkbox-center">
                                                <input type="checkbox" class="custom-control-input" name="select"
                                                    disabled [checked]="data.hold == true" />
                                                <span class="custom-control-label"></span>
                                            </label>
                                        </td>
                                        <td><label class="custom-control custom-checkbox checkbox-center">
                                                <input type="checkbox" class="custom-control-input" name="select"
                                                    disabled [checked]="data.discard == true" />
                                                <span class="custom-control-label"></span>
                                            </label></td>
                                        <td>
                                            {{data.remark}}
                                        </td>

                                    </tr>


                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <!-- <pre>{{viewEmployeeData | json}}</pre> -->
        <!-- <h6 *ngIf="showNoteFlag">Note : The schedule of future business year/s shall get created 3
            months before their respective start date </h6> -->
        <button type="button" class="btn btn-secondary" (click)="modalRef.hide()"><i class="fa fa-times"></i>
            &nbsp;Close</button>
    </div>
</ng-template>

<!-- Schedule tab View-->
<ng-template #template3>
    <div class="modal-header">
        <h5 class="modal-title" id="UploadModalLabel"> Schedule History</h5>
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
                aria-hidden="true">×</span></button>
    </div>
    <div class="modal-body">
        <div class="card">
            <div class="card-body p-0 m-0">
                <div class="row">
                    <div class="col-md-12 pl-0 pr-0">
                        <div class="border-dark-card radius-10 p-2 mt-3" *ngIf="selectedEmpData[index]">
                            <div class="row">
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Emp. Code</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0" *ngIf="selectedEmpData[index]">
                                        {{selectedEmpData[index].employeeMasterResponseDTO.employeeCode}} </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Emp. Name</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0" *ngIf="selectedEmpData[index]">
                                        {{selectedEmpData[index].employeeMasterResponseDTO.fullName}}
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Payroll Area</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0" *ngIf="selectedEmpData[index]">
                                        {{selectedEmpData[index].payrollArea.payrollAreaCode}}
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Group Id</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0" *ngIf="selectedEmpData[index]">
                                        {{selectedEmpData[index].nonSalaryTransactionGroupId}}
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">E/D Head</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0" *ngIf="selectedEmpData[index]">
                                        {{selectedEmpData[index].nonSalaryDTO.description}}
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">NRQ Type</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0" *ngIf="selectedEmpData[index]">
                                        {{selectedEmpData[index].type}}
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Schedule No.</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0" *ngIf="viewScheduleData">
                                        {{viewScheduleData.nonSalaryTransactionScheduleId}} </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Original Schedule Date
                                    </label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0"
                                        *ngIf="NonRecurringHistorybyScheduleIdData != ''">
                                        <span
                                            *ngIf="NonRecurringHistorybyScheduleIdData[0]">{{NonRecurringHistorybyScheduleIdData[0].transactionDate
                                            | date: 'dd-MMM-yyyy'}}</span>
                                    </label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0"
                                        *ngIf="NonRecurringHistorybyScheduleIdData == ''">
                                        <span *ngIf="viewScheduleData">{{viewScheduleData.transactionDate | date:
                                            'dd-MMM-yyyy'}}</span>
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Schedule Quantity</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0" *ngIf="viewScheduleData">
                                        {{viewScheduleData.quantity}}
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Schedule Amount</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0" *ngIf="viewScheduleData">
                                        {{viewScheduleData.transactionAmount}}
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="border-dark-card radius-10 p-2 mt-3" *ngIf="scheduleAllData">
                            <div class="row">
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Emp. Code</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0" *ngIf="scheduleAllData">
                                        {{scheduleAllData.employeeMasterResponseDTO.employeeCode}} </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Emp. Name</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0" *ngIf="scheduleAllData">
                                        {{scheduleAllData.employeeMasterResponseDTO.fullName}}
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Payroll Area</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0" *ngIf="scheduleAllData">
                                        {{scheduleAllData.payrollArea.payrollAreaCode}}
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Group Id</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0" *ngIf="viewScheduleData">
                                        {{viewScheduleData.nonSalaryTransactionScheduleId}}
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Head</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0" *ngIf="scheduleAllData">
                                        {{scheduleAllData.head}}
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Type</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0" *ngIf="scheduleAllData">
                                        {{scheduleAllData.type}}
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Schedule No.</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0" *ngIf="viewScheduleData">
                                        {{viewScheduleData.nonSalaryTransactionGroupId}} </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Original Schedule Date
                                    </label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        <span *ngIf="originalTransactionDate">{{originalTransactionDate | date:
                                            'dd-MMM-yyyy'}}</span>
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Schedule Quantity</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        <span *ngIf="viewScheduleData">{{viewScheduleData.quantity}}</span>
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">UOM</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        <span *ngIf="viewScheduleData">{{viewScheduleData.uom}}</span>
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Schedule Amount</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0" *ngIf="viewScheduleData">
                                        {{viewScheduleData.transactionAmount | number: '1.2-2'}}
                                    </label>
                                </div>

                            </div>

                        </div>
                    </div>
                </div>
                <div class="row clearfix mt-10">
                    <div class="col-md-12">
                        <div class="table-responsive Custom_Table">
                            <table class="table table-striped table-hover table-bordered m-b-0">
                                <thead class="thead-dark">
                                    <tr>
                                        <th class="wd-15 font700">Hold</th>
                                        <th class="wd-15 font700">Discard</th>
                                        <th class="wd-15 font700">Reschdule Date</th>
                                        <th class="wd-20 font700">Remark </th>
                                        <th class="wd-20 font700">Updated Date Time</th>
                                        <th class="wd-15 font700">Updated By</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let data of NonRecurringHistorybyScheduleIdData; let index = index;">
                                        <td>
                                            <label class="custom-control custom-checkbox checkbox-center">
                                                <input type="checkbox" class="custom-control-input" name="select"
                                                    disabled [checked]="data.hold == true" />
                                                <span class="custom-control-label"></span>
                                            </label>
                                        </td>
                                        <td>
                                            <label class="custom-control custom-checkbox checkbox-center">
                                                <input type="checkbox" class="custom-control-input" name="select"
                                                    disabled [checked]="data.discard == true" />
                                                <span class="custom-control-label"></span>
                                            </label>
                                        </td>
                                        <td><input data-provide="datepicker" data-date-autoclose="true"
                                                class="form-control" bsDatepicker
                                                [value]="data.resheduleDate | date: 'dd-MMM-yyyy'" disabled>
                                        </td>
                                        <td><input type="text" class="form-control" [value]="data.remark" disabled></td>
                                        <td><input type="text" class="form-control"
                                                value="{{data.createDateTime | date:'dd-MMM-yyyy hh:mm a'}}" disabled>
                                        </td>
                                        <td><input type="text" class="form-control" [value]="data.createdBy" disabled>
                                        </td>


                                    </tr>


                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modalRef.hide()"><i class="fa fa-times"></i>
            &nbsp;Close</button>
    </div>
</ng-template>

<!-- View Schedule details-->
<ng-template #templateTransaction>
    <div class="modal-header">
        <h5 class="modal-title" id="UploadModalLabel"> Schedule Details</h5>
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
                aria-hidden="true">×</span></button>
    </div>
    <div class="modal-body">
        <div class="card">
            <div class="card-body p-0 m-0">
                <div class="row">
                    <div class="col-md-12 pl-0 pr-0">
                        <div class="border-dark-card radius-10 p-2 mt-3">
                            <div class="row" *ngIf="viewEmployeeDataTransacton">
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Emp. Code</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeDataTransacton.employeeMasterResponseDTO.employeeCode}} </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Emp. Name</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeDataTransacton.employeeMasterResponseDTO.fullName}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Payroll Area</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeDataTransacton.payrollArea.payrollAreaCode}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Group Id</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeDataTransacton.nonRecurringTransactionGroupId}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Head</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeDataTransacton.payrollHeadMaster.displayName}}
                                    </label>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="row clearfix mt-10">
                    <div class="col-md-12">
                        <div class="table-responsive Custom_Table">
                            <table class="table table-striped table-hover table-bordered m-b-0">
                                <thead class="thead-dark">
                                    <tr>
                                        <th colspan="3" class="wd-40 font700">Schedule</th>
                                        <th rowspan="2" class="wd-10 font700">Processed Amount</th>
                                        <th rowspan="2" class="wd-10 font700">Balance Amount</th>
                                        <th rowspan="2" class="wd-10 font700">Processing Cycle</th>
                                        <th rowspan="2" class="wd-10 font700">Pertaining Cycle</th>
                                        <th rowspan="2" class="wd-10 font700">Hold</th>
                                        <th rowspan="2" class="wd-10 font700">Discard</th>
                                        <th rowspan="2" class="wd-10 font700">Remark</th>

                                    </tr>
                                    <tr>
                                        <th>No.</th>
                                        <th>Date</th>
                                        <th>Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr
                                        *ngFor="let data of NonRecurringTransactionScheduleEMPdData; let index = index;">
                                        <td>{{index + 1}}</td>
                                        <td>
                                            <!-- <input data-provide="datepicker" data-date-autoclose="true"
                                                class="form-control" bsDatepicker disabled>  -->
                                            {{data.transactionDate | date : 'dd-MMM-yyyy'}}
                                        </td>
                                        <td>{{data.transactionAmount | number: '1.2-2'}}</td>
                                        <td>{{data.processedAmount | number: '1.2-2'}}</td>
                                        <td>{{data.transactionAmount | number: '1.2-2'}}</td>
                                        <td>{{data.processedCycle}}</td>
                                        <td>{{data.pertainingCycle}}</td>
                                        <td><label class="custom-control custom-checkbox checkbox-center">
                                                <input type="checkbox" class="custom-control-input" name="select"
                                                    disabled [checked]="data.hold == true" />
                                                <span class="custom-control-label"></span>
                                            </label>
                                        </td>
                                        <td><label class="custom-control custom-checkbox checkbox-center">
                                                <input type="checkbox" class="custom-control-input" name="select"
                                                    disabled [checked]="data.discard == true" />
                                                <span class="custom-control-label"></span>
                                            </label></td>
                                        <td>
                                            {{data.remark}}
                                        </td>

                                    </tr>


                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modalRef.hide()"><i class="fa fa-times"></i>
            &nbsp;Close</button>
    </div>
</ng-template>

<!-- Refere Bonus-->
<ng-template #referalPopup>
    <div class="modal-header">
        <h5 class="modal-title font-14 text-purple font-bold" id="UploadModalLabel">Employee Referral</h5>
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
                aria-hidden="true">×</span></button>
    </div>
    <div class="modal-body">

        <div class="section-body mt-3">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <form>
                                    <!-- <div class="mb-0">
                                        <h3 class="font-14 text-purple font-bold">
                                            Employee Referral
                                        </h3>&nbsp;

                                    </div> -->
                                    <fieldset>
                                        <div class="row mb-10">
                                            <div class="col-sm-6 col-md-3">
                                                <label class="form-label">Emp. Code</label>
                                                <select class="form-control"
                                                    (change)="getEmployeeCode($event.target.value)">
                                                    <option>Select</option>
                                                    <option *ngFor="let emp of employeeData"
                                                        [selected]="refemployeeCode == emp.employeeCode">
                                                        {{emp.employeeCode}}</option>
                                                </select>
                                            </div>
                                            <div class=" col-sm-6 col-md-3">
                                                <label class="form-label">Emp. Name</label>
                                                <input type="text" class="form-control" value="{{refemployeeName}}"
                                                    disabled />
                                            </div>
                                            <div class="col-sm-6 col-md-3">
                                                <label class="form-label">Payroll Area</label>
                                                <select class="form-control"
                                                    (change)="getEmployeePayrollArea($event.target.value)">
                                                    <option>Select</option>
                                                    <option *ngFor="let payroll of refralPayrollListData"
                                                        [selected]="refPayrolArea == payroll.payrollAreaCode">
                                                        {{payroll.payrollAreaCode}}</option>

                                                </select>
                                            </div>
                                        </div>
                                        <br>
                                    </fieldset>



                                    <!-- <div class="row mt-15 float-right">

                                        <div class="float-right ">

                                            <button type="submit"
                                                class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple"
                                                tooltip="Save"><b>
                                                    <i class="fa fa-floppy-o"></i></b> Save</button>&nbsp;


                                            <button type="submit"
                                                class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ripple"
                                                tooltip="Reset"><b>
                                                    <i class="fa fa-refresh"></i></b> Reset</button>&nbsp;


                                        </div>


                                    </div> -->




                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">
            &nbsp;save</button>
    </div>
</ng-template>

<!-- Deviation and Repeat -->
<ng-template #deviationPopup>
    <div class="modal-header">
        <h5 class="modal-title" id="UploadModalLabel">Deviation</h5>
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
                aria-hidden="true">×</span></button>
    </div>
    <div class="modal-body">
        <div class="card">
            <div class="card-body">
                <div class="row clearfix">
                    <div class="col-md-12">
                        <br>
                        <div class="tabset">
                            <!-- Tab 1 -->
                            <input type="radio" name="tabset" id="tab1" aria-controls="marzen" checked>
                            <!-- <div class="col-md-2" >
                                <div class="custom_Label_badge bagde1"> -->
                            <label for="tab1">Deviation</label>
                            <!-- <span class="Label_badge" style="text-align: center;">{{deviationCount}}</span>
                                </div>
                            </div> -->

                            <!-- Tab 2 -->
                            <input type="radio" name="tabset" id="tab2" aria-controls="rauchbier">
                            <label for="tab2">Repetitive Entry</label>

                            <div class="tab-panels">
                                <section id="marzen" class="tab-panel">
                                    <div class="row mb-10">
                                        <div class="col-sm-6 col-md-3" *ngIf="employeeFinDetailsData">
                                            <label class="form-label">Emp. Code</label>
                                            <input type="text" class="form-control"
                                                value="{{employeeFinDetailsData.employeeCode}}" disabled />
                                        </div>
                                        <div class=" col-sm-6 col-md-3" *ngIf="employeeFinDetailsData">
                                            <label class="form-label">Emp. Name</label>
                                            <input type="text" class="form-control"
                                                value="{{employeeFinDetailsData.fullName}}" disabled />
                                        </div>
                                        <div class="col-sm-6 col-md-3" *ngIf="selectedDevData">
                                            <label class="form-label">Head</label>
                                            <input type="text" class="form-control"
                                                value="{{selectedDevData.headDescription}}" disabled />
                                        </div>
                                        <div class="col-sm-6 col-md-3">
                                            <label class="form-label">Type</label>
                                            <input type="text" class="form-control" value="{{selectedDevData.headType}}"
                                                disabled />
                                        </div>
                                    </div>
                                    <br>

                                    <p-table [value]="deviationModeData" [paginator]="true" [rows]="10"
                                        [showCurrentPageReport]="true"
                                        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                        [rowsPerPageOptions]="[10,25,50,100,200]">

                                        <ng-template pTemplate="header">
                                            <tr>

                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Attribute

                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="text" field="name" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>

                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Nature
                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="text" field="name" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>

                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Group ID

                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter field="representative" matchMode="in"
                                                                display="menu" [showMatchModes]="false"
                                                                [showOperator]="false" [showAddButton]="false"
                                                                class="p-ml-auto">
                                                                <ng-template pTemplate="header">
                                                                    <div class="p-px-3 p-pt-3 p-pb-0">
                                                                        <span class="p-text-bold">Agent Picker</span>
                                                                    </div>
                                                                </ng-template>

                                                            </p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                                <th colspan="3">
                                                    <div class="p-d-flex p-jc-between p-ai-center ml-60">
                                                        Deviation Nature

                                                    </div>
                                                </th>
                                                <th colspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center ml-50">
                                                        Values

                                                    </div>
                                                </th>
                                                <th colspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Deviation Values

                                                    </div>
                                                </th>
                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Remark
                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="date" field="date" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Status
                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="date" field="date" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                            </tr>
                                            <tr>
                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Once Every
                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="date" field="date" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Frequency
                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="date" field="date" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Type
                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="date" field="date" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Amount Entered

                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="date" field="date" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Limit
                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="date" field="date" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                                <th rowspan="2">
                                                    Amount
                                                </th>
                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        %
                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="text" field="name" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                            </tr>

                                        </ng-template>

                                        <ng-template pTemplate="body" let-data>
                                            <tr class="p-selectable-row">

                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0">{{data.attributeName}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0">{{data.attributeNature}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label
                                                        class="form-lable mb-0">{{data.nonRecurringTransactionGroupId}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0">{{data.onceEvery}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0">{{data.frequency}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0">{{data.deviationType}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0"
                                                        style="text-align: right;">{{data.actualAmount | number:
                                                        '1.2-2'}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0"
                                                        style="text-align: right;">{{data.deviationAmountLimit | number:
                                                        '1.2-2'}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0"
                                                        style="text-align: right;">{{data.deviationAmount | number:
                                                        '1.2-2'}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0"
                                                        style="text-align: right;">{{getDeviationPercentage(data)}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <input type="" class="form-control" value="{{data.remark}}"
                                                        (focusout)="deviationRemark($event.target.value, data)">
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    {{data.status}}
                                                </td>
                                            </tr>
                                        </ng-template>

                                        <ng-template pTemplate="emptymessage">
                                            <tr>
                                                <td colspan="15" class="font-14 font500 text-center text-red"><span>No
                                                        Data
                                                        Available</span></td>
                                            </tr>
                                        </ng-template>

                                    </p-table>

                                    <br>
                                    <!-- <div class="float-left d-flex justify-content">
                                        <label class="form-label mt-2">Remark</label>&nbsp;
                                        <textarea type="text"></textarea>
                                    </div> -->
                                    <br>
                                    <br>
                                    <div class="row mt-15 float-right">

                                        <div class="float-right ">
                                            <button type="button" [disabled]="devationRemarkText == ''"
                                                (click)="saveDeviationRepeatData(selectedDevData)"
                                                class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ripple"
                                                [ngClass]="{'disabled-btn' : devationRemarkText == ''}"
                                                tooltip="Save"><b>
                                                    <i class="fa fa-times"></i></b> Save</button>&nbsp;
                                            <!-- <button type="submit"
                                                class="custom_button custom_btn bg-btn-red btn-labeled btn-labeled-left ripple"
                                                tooltip="Save" (click)=" extralargepopup(template)"><b>
                                                    <i class="fa fa-reply"></i></b> Send Back Group</button>&nbsp;
                                            <button type="submit"
                                                class="custom_button custom_btn bg-btn-red btn-labeled btn-labeled-left ripple"
                                                tooltip="Save" (click)=" extralargepopup(template)"><b>
                                                    <i class="fa fa-times"></i></b> Reject Group</button>&nbsp;
                                            <button type="submit"
                                                class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple"
                                                tooltip="Save" (click)=" extralargepopup(template)"><b>
                                                    <i class="fa fa-check-square-o "></i></b> Approve
                                                Group</button>&nbsp;
                                            <button type="submit"
                                                class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple"
                                                tooltip="Save" (click)=" extralargepopup(template)"><b>
                                                    <i class="fa fa-check-square-o"></i></b> Approve
                                                Deviation</button>&nbsp;
                                            <button type="submit"
                                                class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ripple"
                                                tooltip="Reset"><b>
                                                    <i class="fa fa-refresh"></i></b> Reset</button>&nbsp; -->


                                        </div>
                                    </div>
                                </section>

                                <section id="rauchbier" class="tab-panel">
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="card">
                                                <div class="row mb-0">
                                                    <div class="col-md-12">
                                                        <div class="row mb-10">
                                                            <div class="col-sm-6 col-md-3"
                                                                *ngIf="employeeFinDetailsData">
                                                                <label class="form-label">Emp. Code</label>
                                                                <input type="text" class="form-control"
                                                                    value="{{employeeFinDetailsData.employeeCode}}"
                                                                    disabled />
                                                            </div>
                                                            <div class=" col-sm-6 col-md-3"
                                                                *ngIf="employeeFinDetailsData">
                                                                <label class="form-label">Emp. Name</label>
                                                                <input type="text" class="form-control"
                                                                    value="{{employeeFinDetailsData.fullName}}"
                                                                    disabled />
                                                            </div>
                                                            <div class="col-sm-6 col-md-3" *ngIf="selectedDevData">
                                                                <label class="form-label">Head</label>
                                                                <input type="text" class="form-control"
                                                                    value="{{selectedDevData.headDescription}}"
                                                                    disabled />
                                                            </div>
                                                            <div class="col-sm-6 col-md-3">
                                                                <label class="form-label">Type</label>
                                                                <input type="text" class="form-control"
                                                                    value="{{selectedDevData.headType}}" disabled />
                                                            </div>
                                                        </div>
                                                        <br>

                                                        <p-table [value]="repeatModeData" [paginator]="true" [rows]="10"
                                                            [showCurrentPageReport]="true"
                                                            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                                            [rowsPerPageOptions]="[10,25,50]">

                                                            <ng-template pTemplate="header">
                                                                <tr>

                                                                    <th rowspan="2">

                                                                    </th>

                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            Group ID

                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter type="text" field="name"
                                                                                    display="menu" class="p-ml-auto">
                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>

                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            Once Every
                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter field="representative"
                                                                                    matchMode="in" display="menu"
                                                                                    [showMatchModes]="false"
                                                                                    [showOperator]="false"
                                                                                    [showAddButton]="false"
                                                                                    class="p-ml-auto">
                                                                                    <ng-template pTemplate="header">
                                                                                        <div
                                                                                            class="p-px-3 p-pt-3 p-pb-0">
                                                                                            <span
                                                                                                class="p-text-bold">Agent
                                                                                                Picker</span>
                                                                                        </div>
                                                                                    </ng-template>

                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>

                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            Frequency
                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter type="date" field="date"
                                                                                    display="menu" class="p-ml-auto">
                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>

                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            From Date
                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter type="date" field="date"
                                                                                    display="menu" class="p-ml-auto">
                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>
                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            Type
                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter type="date" field="date"
                                                                                    display="menu" class="p-ml-auto">
                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>
                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            No. of Trans.
                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter type="date" field="date"
                                                                                    display="menu" class="p-ml-auto">
                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>
                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            To Date
                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter type="date" field="date"
                                                                                    display="menu" class="p-ml-auto">
                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>
                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            Amount
                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter type="date" field="date"
                                                                                    display="menu" class="p-ml-auto">
                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>
                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            Status
                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter type="date" field="date"
                                                                                    display="menu" class="p-ml-auto">
                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>
                                                                    <th colspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            Remark

                                                                        </div>
                                                                    </th>

                                                                </tr>

                                                            </ng-template>

                                                            <ng-template pTemplate="body" let-data>
                                                                <tr class="p-selectable-row">

                                                                    <td class="bg-color-light_gray">
                                                                        <label class="form-lable mb-0">Current</label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <label
                                                                            class="form-lable mb-0">{{data.nonRecurringTransactionGroupId}}</label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <label
                                                                            class="form-lable mb-0">{{data.onceEvery}}</label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <label
                                                                            class="form-lable mb-0">{{data.frequency}}</label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <label class="form-lable mb-0">{{data.fromDate |
                                                                            date:'dd-MMM-yyyy'}}</label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <label class="form-lable mb-0"></label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <label class="form-lable mb-0"></label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <div class="input-group">
                                                                            <div class="input-group-prepend">
                                                                                <span class="input-group-text">
                                                                                    <i class="fa fa-calendar"></i>
                                                                                </span>
                                                                            </div>
                                                                            <input data-provide="datepicker"
                                                                                data-date-autoclose="true"
                                                                                class="form-control" placeholder="Date"
                                                                                bsDatepicker>
                                                                        </div>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <label
                                                                            class="form-lable mb-0">{{data.actualAmount}}</label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <label
                                                                            class="form-lable mb-0">{{data.status}}</label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <input type="text" class="form-control"
                                                                            value="{{data.remark}}"
                                                                            (focusout)="repeatRemark($event.target.value,data)">
                                                                    </td>
                                                                </tr>
                                                            </ng-template>

                                                            <ng-template pTemplate="emptymessage">
                                                                <tr>
                                                                    <td colspan="15"
                                                                        class="font-14 font500 text-center text-red">
                                                                        <span>No Data
                                                                            Available</span>
                                                                    </td>
                                                                </tr>
                                                            </ng-template>

                                                        </p-table>
                                                        <br>

                                                        <div class="row mt-15 float-right">

                                                            <div class="float-right ">

                                                                <button type="submit"
                                                                    [disabled]="repeatRemarkText == ''"
                                                                    class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple"
                                                                    [ngClass]="{'disabled-btn' : repeatRemarkText == ''}"
                                                                    tooltip="Save"
                                                                    (click)="saveDeviationRepeatData(selectedDevData)"><b>
                                                                        <i class="fa fa-files-o"></i></b> Save
                                                                </button>&nbsp;
                                                                <!-- <button type="submit"
                                                                    class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple"
                                                                    tooltip="Save"
                                                                    (click)=" extralargepopup(template)"><b>
                                                                        <i class="fa fa-files-o"></i></b> Repeat
                                                                </button>&nbsp;
                                                                <button type="submit"
                                                                    class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple"
                                                                    tooltip="Save"
                                                                    (click)=" extralargepopup(template)"><b>
                                                                        <i
                                                                            class="fa fa-link "></i></b>Unique</button>&nbsp; -->
                                                                <!-- <button type="submit"
                                                                    class="custom_button custom_btn bg-btn-red btn-labeled btn-labeled-left ripple"
                                                                    tooltip="Save"
                                                                    ><b>
                                                                        <i class="fa fa-times"></i></b>
                                                                    Cancel</button>&nbsp; -->

                                                            </div>


                                                        </div>

                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">Ok</button>
    </div> -->
</ng-template>

<!-- Edit deviation and repeat-->
<ng-template #editdeviationPopup>

    <div class="modal-header">
        <h5 class="modal-title" id="UploadModalLabel">Deviation</h5>
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
                aria-hidden="true">×</span></button>
    </div>
    <div class="modal-body">
        <div class="card">
            <div class="card-body">
                <div class="row clearfix">
                    <div class="col-md-12">
                        <br>
                        <div class="tabset">
                            <!-- Tab 1 -->
                            <input type="radio" name="tabset" id="tab1" aria-controls="marzen" checked>
                            <!-- <div class="col-md-2" >
                                <div class="custom_Label_badge bagde1"> -->
                            <label for="tab1">Deviation</label>
                            <!-- <span class="Label_badge" style="text-align: center;">{{deviationCount}}</span>
                                </div>
                            </div> -->

                            <!-- Tab 2 -->
                            <input type="radio" name="tabset" id="tab2" aria-controls="rauchbier">
                            <label for="tab2">Repetitive Entry</label>

                            <div class="tab-panels">
                                <section id="marzen" class="tab-panel">
                                    <div class="row mb-10">
                                        <div class="col-sm-6 col-md-3" *ngIf="employeeFinDetailsData">
                                            <label class="form-label">Emp. Code</label>
                                            <input type="text" class="form-control"
                                                value="{{employeeFinDetailsData.employeeCode}}" disabled />
                                        </div>
                                        <div class=" col-sm-6 col-md-3" *ngIf="employeeFinDetailsData">
                                            <label class="form-label">Emp. Name</label>
                                            <input type="text" class="form-control"
                                                value="{{employeeFinDetailsData.fullName}}" disabled />
                                        </div>
                                        <div class="col-sm-6 col-md-3" *ngIf="selectedDevData">
                                            <label class="form-label">Head</label>
                                            <input type="text" class="form-control"
                                                value="{{selectedDevData.headDescription}}" disabled />
                                        </div>
                                        <div class="col-sm-6 col-md-3">
                                            <label class="form-label">Type</label>
                                            <input type="text" class="form-control" value="{{selectedDevData.headType}}"
                                                disabled />
                                        </div>
                                    </div>
                                    <br>

                                    <p-table [value]="deviationModeData" [paginator]="true" [rows]="10"
                                        [showCurrentPageReport]="true"
                                        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                        [rowsPerPageOptions]="[10,25,50,100,200]">

                                        <ng-template pTemplate="header">
                                            <tr>

                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Attribute

                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="text" field="name" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>

                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Nature
                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="text" field="name" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>

                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Group ID

                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter field="representative" matchMode="in"
                                                                display="menu" [showMatchModes]="false"
                                                                [showOperator]="false" [showAddButton]="false"
                                                                class="p-ml-auto">
                                                                <ng-template pTemplate="header">
                                                                    <div class="p-px-3 p-pt-3 p-pb-0">
                                                                        <span class="p-text-bold">Agent Picker</span>
                                                                    </div>
                                                                </ng-template>

                                                            </p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                                <th colspan="3">
                                                    <div class="p-d-flex p-jc-between p-ai-center ml-60">
                                                        Deviation Nature

                                                    </div>
                                                </th>
                                                <th colspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center ml-50">
                                                        Values

                                                    </div>
                                                </th>
                                                <th colspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Deviation Values

                                                    </div>
                                                </th>
                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Remark
                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="date" field="date" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Status
                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="date" field="date" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                            </tr>
                                            <tr>
                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Once Every
                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="date" field="date" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Frequency
                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="date" field="date" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Type
                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="date" field="date" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Amount Entered

                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="date" field="date" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        Limit
                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="date" field="date" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                                <th rowspan="2">
                                                    Amount
                                                </th>
                                                <th rowspan="2">
                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                        %
                                                        <div class="Sort_Filter_Position">
                                                            <p-sortIcon field="Attribute" pSortableColumn="Attribute">
                                                            </p-sortIcon>
                                                            <p-columnFilter type="text" field="name" display="menu"
                                                                class="p-ml-auto"></p-columnFilter>
                                                        </div>
                                                    </div>
                                                </th>
                                            </tr>

                                        </ng-template>

                                        <ng-template pTemplate="body" let-data>
                                            <tr class="p-selectable-row">

                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0">{{data.attributeName}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0">{{data.attributeNature}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label
                                                        class="form-lable mb-0">{{data.nonRecurringTransactionGroupId}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0">{{data.onceEvery}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0">{{data.frequency}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0">{{data.deviationType}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0"
                                                        style="text-align: right;">{{data.actualAmount | number:
                                                        '1.2-2'}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0"
                                                        style="text-align: right;">{{data.deviationAmountLimit | number:
                                                        '1.2-2'}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0"
                                                        style="text-align: right;">{{data.deviationAmount | number:
                                                        '1.2-2'}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <label class="form-lable mb-0"
                                                        style="text-align: right;">{{getDeviationPercentage(data)}}</label>
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    <input type="" class="form-control" value="{{data.remark}}"
                                                        (focusout)="deviationRemark($event.target.value, data)">
                                                </td>
                                                <td class="bg-color-light_gray">
                                                    {{data.status}}
                                                </td>
                                            </tr>
                                        </ng-template>

                                        <ng-template pTemplate="emptymessage">
                                            <tr>
                                                <td colspan="15" class="font-14 font500 text-center text-red"><span>No
                                                        Data
                                                        Available</span></td>
                                            </tr>
                                        </ng-template>

                                    </p-table>

                                    <br>
                                    <!-- <div class="float-left d-flex justify-content">
                                        <label class="form-label mt-2">Remark</label>&nbsp;
                                        <textarea type="text"></textarea>
                                    </div> -->
                                    <br>
                                    <br>
                                    <div class="row mt-15 float-right">

                                        <div class="float-right ">
                                            <button type="button" [disabled]="devationRemarkText == ''"
                                                (click)="updateDeviationRepeatData(selectedDevData)"
                                                class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ripple"
                                                [ngClass]="{'disabled-btn' : devationRemarkText == ''}"
                                                tooltip="Save"><b>
                                                    <i class="fa fa-times"></i></b> Save</button>&nbsp;
                                        </div>
                                    </div>
                                </section>

                                <section id="rauchbier" class="tab-panel">
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="card">
                                                <div class="row mb-0">
                                                    <div class="col-md-12">
                                                        <div class="row mb-10">
                                                            <div class="col-sm-6 col-md-3"
                                                                *ngIf="employeeFinDetailsData">
                                                                <label class="form-label">Emp. Code</label>
                                                                <input type="text" class="form-control"
                                                                    value="{{employeeFinDetailsData.employeeCode}}"
                                                                    disabled />
                                                            </div>
                                                            <div class=" col-sm-6 col-md-3"
                                                                *ngIf="employeeFinDetailsData">
                                                                <label class="form-label">Emp. Name</label>
                                                                <input type="text" class="form-control"
                                                                    value="{{employeeFinDetailsData.fullName}}"
                                                                    disabled />
                                                            </div>
                                                            <div class="col-sm-6 col-md-3" *ngIf="selectedDevData">
                                                                <label class="form-label">Head</label>
                                                                <input type="text" class="form-control"
                                                                    value="{{selectedDevData.headDescription}}"
                                                                    disabled />
                                                            </div>
                                                            <div class="col-sm-6 col-md-3">
                                                                <label class="form-label">Type</label>
                                                                <input type="text" class="form-control"
                                                                    value="{{selectedDevData.headType}}" disabled />
                                                            </div>
                                                        </div>
                                                        <br>

                                                        <p-table [value]="repeatModeData" [paginator]="true" [rows]="10"
                                                            [showCurrentPageReport]="true"
                                                            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                                            [rowsPerPageOptions]="[10,25,50]">

                                                            <ng-template pTemplate="header">
                                                                <tr>

                                                                    <th rowspan="2">

                                                                    </th>

                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            Group ID

                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter type="text" field="name"
                                                                                    display="menu" class="p-ml-auto">
                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>

                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            Once Every
                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter field="representative"
                                                                                    matchMode="in" display="menu"
                                                                                    [showMatchModes]="false"
                                                                                    [showOperator]="false"
                                                                                    [showAddButton]="false"
                                                                                    class="p-ml-auto">
                                                                                    <ng-template pTemplate="header">
                                                                                        <div
                                                                                            class="p-px-3 p-pt-3 p-pb-0">
                                                                                            <span
                                                                                                class="p-text-bold">Agent
                                                                                                Picker</span>
                                                                                        </div>
                                                                                    </ng-template>

                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>

                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            Frequency
                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter type="date" field="date"
                                                                                    display="menu" class="p-ml-auto">
                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>

                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            From Date
                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter type="date" field="date"
                                                                                    display="menu" class="p-ml-auto">
                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>
                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            Type
                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter type="date" field="date"
                                                                                    display="menu" class="p-ml-auto">
                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>
                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            No. of Trans.
                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter type="date" field="date"
                                                                                    display="menu" class="p-ml-auto">
                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>
                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            To Date
                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter type="date" field="date"
                                                                                    display="menu" class="p-ml-auto">
                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>
                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            Amount
                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter type="date" field="date"
                                                                                    display="menu" class="p-ml-auto">
                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>
                                                                    <th rowspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            Status
                                                                            <div class="Sort_Filter_Position">
                                                                                <p-sortIcon field="Attribute"
                                                                                    pSortableColumn="Attribute">
                                                                                </p-sortIcon>
                                                                                <p-columnFilter type="date" field="date"
                                                                                    display="menu" class="p-ml-auto">
                                                                                </p-columnFilter>
                                                                            </div>
                                                                        </div>
                                                                    </th>
                                                                    <th colspan="2">
                                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                                            Remark

                                                                        </div>
                                                                    </th>

                                                                </tr>

                                                            </ng-template>

                                                            <ng-template pTemplate="body" let-data>
                                                                <tr class="p-selectable-row">

                                                                    <td class="bg-color-light_gray">
                                                                        <label class="form-lable mb-0">Current</label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <label
                                                                            class="form-lable mb-0">{{data.nonRecurringTransactionGroupId}}</label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <label
                                                                            class="form-lable mb-0">{{data.onceEvery}}</label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <label
                                                                            class="form-lable mb-0">{{data.frequency}}</label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <label class="form-lable mb-0">{{data.fromDate |
                                                                            date:'dd-MMM-yyyy'}}</label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <label class="form-lable mb-0"></label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <label class="form-lable mb-0"></label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <div class="input-group">
                                                                            <div class="input-group-prepend">
                                                                                <span class="input-group-text">
                                                                                    <i class="fa fa-calendar"></i>
                                                                                </span>
                                                                            </div>
                                                                            <input data-provide="datepicker"
                                                                                data-date-autoclose="true"
                                                                                class="form-control" placeholder="Date"
                                                                                bsDatepicker>
                                                                        </div>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <label
                                                                            class="form-lable mb-0">{{data.actualAmount}}</label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <label
                                                                            class="form-lable mb-0">{{data.status}}</label>
                                                                    </td>
                                                                    <td class="bg-color-light_gray">
                                                                        <input type="text" class="form-control"
                                                                            value="{{data.remark}}"
                                                                            (focusout)="repeatRemark($event.target.value,data)">
                                                                    </td>
                                                                </tr>
                                                            </ng-template>

                                                            <ng-template pTemplate="emptymessage">
                                                                <tr>
                                                                    <td colspan="15"
                                                                        class="font-14 font500 text-center text-red">
                                                                        <span>No Data
                                                                            Available</span>
                                                                    </td>
                                                                </tr>
                                                            </ng-template>

                                                        </p-table>
                                                        <br>

                                                        <div class="row mt-15 float-right">

                                                            <div class="float-right ">

                                                                <button type="submit"
                                                                    [disabled]="repeatRemarkText == ''"
                                                                    class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple"
                                                                    [ngClass]="{'disabled-btn' : repeatRemarkText == ''}"
                                                                    tooltip="Save"
                                                                    (click)="updateDeviationRepeatData(selectedDevData)"><b>
                                                                        <i class="fa fa-files-o"></i></b> Save
                                                                </button>&nbsp;

                                                            </div>


                                                        </div>

                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</ng-template>


<!-- Search gray strip popup-->
<ng-template #grays>

    <div class="modal-header">
        <h5 class="modal-title" id="UploadModalLabel">Search Criteria</h5>
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
                aria-hidden="true">×</span></button>
    </div>
    <div class="modal-body">
        <div class="card">
            <div class="card-body">
                <div class="row clearfix">
                    <div class="col-md-12">
                        <fieldset>
                            <legend>Criteria</legend>
                            <div class="row">
                                <div class="col-md-3">
                                    <label class="form-label">Employee Code</label>
                                    <select name="Gender" class="form-control custom-select">
                                        <option>Select</option>
                                        <option>111</option>
                                        <option>111</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">First Name</label>
                                    <input type="text" class="form-control">
                                </div>
                                <div class="col-md-3"> <label class="form-label">Last Name</label>
                                    <input type="text" class="form-control">
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Payroll Area</label>
                                    <select name="Gender" class="form-control custom-select">
                                        <option>Select</option>
                                        <option>111</option>
                                        <option>111</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row mt-25">
                                <div class="col-md-3">
                                    <label class="form-label">Date of Joining</label>
                                    <div class="form-group">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">
                                                    <i class="fa fa-calendar"></i>
                                                </span>
                                            </div>
                                            <input data-provide="datepicker" disabled data-date-autoclose="true"
                                                class="form-control" bsDatepicker />
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Date of Leaving</label>
                                        <div class="form-group">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">
                                                        <i class="fa fa-calendar"></i>
                                                    </span>
                                                </div>
                                                <input data-provide="datepicker" disabled data-date-autoclose="true"
                                                    class="form-control" bsDatepicker />
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <label class="form-label">Establishment</label>
                                            <select name="Gender" class="form-control custom-select">
                                                <option>Select</option>
                                                <option>111</option>
                                                <option>111</option>
                                            </select>
                                        </div>
                                        <div class="col-md-3">
                                            <label class="form-label">Department</label>
                                            <select name="Gender" class="form-control custom-select">
                                                <option>Select</option>
                                                <option>HR</option>
                                                <option>111</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row mt-25">
                                        <div class="col-md-3">
                                            <label class="form-label">Emp Type</label>
                                            <select name="Gender" class="form-control custom-select">
                                                <option>Select</option>
                                                <option>HR</option>
                                                <option>111</option>
                                            </select>
                                        </div>
                                        <div class="col-md-3">
                                            <label class="form-label">Grade</label>
                                            <select name="Gender" class="form-control custom-select">
                                                <option>Select</option>
                                                <option>HR</option>
                                                <option>111</option>
                                            </select>
                                        </div>
                                        <div class="col-md-3">
                                            <label class="form-label">Designation</label>
                                            <select name="Gender" class="form-control custom-select">
                                                <option>Select</option>
                                                <option>HR</option>
                                                <option>111</option>
                                            </select>
                                        </div>
                                        <div class="col-md-3">
                                            <label class="form-label">Emp. Status</label>
                                            <select name="Gender" class="form-control custom-select">
                                                <option>Select</option>
                                                <option>HR</option>
                                                <option>111</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row mt-25">
                                        <div class="col-md-12">
                                            <div class="float-right">
                                                <button type="button" tooltip="Reset"
                                                    class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left mr-2">
                                                    <b><i class="fa fa-refresh" aria-hidden="true"></i></b>
                                                    Reset
                                                </button>
                                                <button type="button" tooltip="Next"
                                                    class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10">
                                                    <b><i class="fa fa-angle-double-right" aria-hidden="true"></i></b>
                                                    Go
                                                </button>

                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>
                        </fieldset>
                        <div class="row mt-25">
                            <h3 class="font-14 text-purple font-bold">Search Result</h3>
                        </div>
                        <div class="row">
                            <div class="col-md-12"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</ng-template>