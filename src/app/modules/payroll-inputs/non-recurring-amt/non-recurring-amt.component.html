<app-leftmenu></app-leftmenu>
<form>
    <div>
        <div class="page">
            <app-header></app-header>
            <div class="section-body mt-3">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-body">
                                    <div class="tabview">

                                        <!--------------- ------------- Summary ----------------------->
                                        <input name="nav" type="radio" class="about-radio" id="Summary"
                                            [checked]="indexId == 1" (click)="navigateSummary()" />

                                        <div class="tabs about-page">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="card">
                                                        <div class="card-body">
                                                            <div class="row mb-10">
                                                                <div class="col-md-6">
                                                                    <label
                                                                        class="form-label mb-0  mt-2 float-left">Total
                                                                        Records &nbsp;<span
                                                                            class="text-dark-green font-14 font-bold">({{selectedEmpData.length}})</span></label>
                                                                </div>
                                                                <!-- Summary top buttons -->
                                                                <div class="col-md-6">
                                                                    <div class="float-right">
                                                                        <button type="button" tooltip="Approve"
                                                                            class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left mr-10"><b><i
                                                                                    class="fa fa-check-square-o"></i></b>
                                                                            Approve </button>
                                                                        <button type="button" tooltip="Edit Transaction"
                                                                            class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left mr-10"
                                                                            (click)="editTransaction()">
                                                                            <b><i class="fa fa-pencil"></i></b>
                                                                            Edit Transaction
                                                                        </button>
                                                                        <button type="button" tooltip="Edit Schedule"
                                                                            class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left mr-10"
                                                                            (click)="editScheduleData()">
                                                                            <b><i class="fa fa-pencil"></i></b>
                                                                            Edit Schedule
                                                                        </button>
                                                                        <!-- <button type="button" tooltip="Filter"
                                                                            class="bg-teal-400 btn btn-sm mr-10"
                                                                            (click)="display=true"><b><i
                                                                                    class="fa fa-filter"></i></b>
                                                                        </button> -->

                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <p-table [value]="summeryData" class="mt-10"
                                                                [paginator]="true" [rows]="10"
                                                                [showCurrentPageReport]="true"
                                                                currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                                                [rowsPerPageOptions]="[10,25,50]">
                                                                <ng-template pTemplate="header">
                                                                    <tr>
                                                                        <th class="wd-5">
                                                                            <label
                                                                                class="custom-control custom-checkbox checkbox-center"
                                                                                tooltip="Select All">
                                                                                <input type="checkbox"
                                                                                    class="custom-control-input"
                                                                                    name="select"
                                                                                    (click)="selectAll($event.target)" />
                                                                                <span
                                                                                    class="custom-control-label"></span>
                                                                            </label>

                                                                        </th>
                                                                        <th class="wd-2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Emp. Code
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="empcode">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter field="empcode"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">
                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th>
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Emp. Name
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="empname">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter field="empname"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th>
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Payroll Area
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="payrollarea">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter field="payrollarea"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">
                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>

                                                                        <th class="wd-5">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Head
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="head">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter field="head"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th>
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Group Id
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="groupid">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter field="groupid"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th class="wd-2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Once Every
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="onceevery">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter field="onceevery"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>

                                                                        <th>
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Frequency
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="frequency">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter field="frequency"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th>
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Amount
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="amount">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter field="amount"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th class="wd-8">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                From Date
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="fromdate">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter field="fromdate"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th class="wd-8">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                To Date
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="todate">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter field="todate"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th> Remark </th>
                                                                        <th>Approval Status </th>

                                                                        <th class="wd-8">Action</th>
                                                                    </tr>
                                                                </ng-template>

                                                                <ng-template pTemplate="body" let-Summarydata>
                                                                    <tr class="p-selectable-row">
                                                                        <td class="text-center"> <label
                                                                                class="custom-control custom-checkbox checkbox-center"
                                                                                tooltip="Select">
                                                                                <input type="checkbox"
                                                                                    class="custom-control-input"
                                                                                    name="select"
                                                                                    [checked]="selectedAllFlag"
                                                                                    (change)="isSelected($event.target,Summarydata)"
                                                                                    value="{{Summarydata.employeeMasterId}}" />
                                                                                <span
                                                                                    class="custom-control-label"></span>
                                                                            </label></td>
                                                                        <td class="bg-color-light_gray">
                                                                            <label
                                                                                class="form-lable mb-0 ">{{Summarydata.employeeMasterResponseDTO.employeeCode}}</label>
                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0">{{Summarydata.employeeMasterResponseDTO.fullName}}</label>
                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0">{{Summarydata.payrollArea.payrollAreaCode}}</label>

                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0 text-link"
                                                                                (click)="ViewTransactionHistory(template1,Summarydata)">{{Summarydata.payrollHeadMaster.displayName}}
                                                                            </label>

                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0">{{Summarydata.nonRecurringTransactionGroupId}}</label>

                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0">{{Summarydata.onceEvery}}
                                                                            </label>

                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0">{{Summarydata.frequency}}
                                                                            </label>

                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0">{{Summarydata.amount
                                                                                | number: '1.00'}}
                                                                            </label>

                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0">{{Summarydata.fromDate}}
                                                                            </label>

                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0">{{Summarydata.toDate}}
                                                                            </label>

                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0">{{Summarydata.remark}}
                                                                            </label>

                                                                        </td>
                                                                        <td class="bg-color-light_gray">
                                                                            <label class="form-lable mb-0"
                                                                                *ngIf="Summarydata.active == true">Active</label>
                                                                            <label class="form-lable mb-0"
                                                                                *ngIf="Summarydata.active != true">In
                                                                                active</label>
                                                                        </td>
                                                                        <!-- <td><span class="ml-1 mt-2"></span></td> -->
                                                                        <td>
                                                                            <span class="ml-1 mt-2">
                                                                                <i tooltip="View Transaction"
                                                                                    class="fa fa-clock-o font-16 text-blue cursor-pointer"
                                                                                    aria-hidden="true"
                                                                                    (click)="ViewTransactionHistory(template1,Summarydata)">
                                                                                </i>&nbsp;&nbsp;
                                                                                <i tooltip="View Schedule"
                                                                                    class="fa fa-eye font-16 text-blue cursor-pointer"
                                                                                    (click)="ViewScheduleDetail(template2,Summarydata)"
                                                                                    aria-hidden="true">
                                                                                </i>&nbsp;&nbsp;&nbsp;
                                                                                <i tooltip="View Transaction"
                                                                                    class="fa fa-eye font-16 text-dark-green cursor-pointer"
                                                                                    aria-hidden="true"></i>
                                                                            </span>
                                                                        </td>
                                                                    </tr>
                                                                </ng-template>
                                                            </p-table>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <label class="nav" for="Summary">
                                            <span> Summary </span>
                                        </label>


                                        <!------------- ------------  Transaction --------------------->
                                        <input name="nav" type="radio" class="nav home-radio"
                                            (click)="navigateToTransaction()" id="Transaction"
                                            [checked]="indexId == 2" />

                                        <div class="tabs about-page">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="card">
                                                        <div class="card-body">
                                                            <div class="tabview-contents">
                                                                <div class="section-body bg-color-white">

                                                                    <!-- Employee Selection Dropdown-->
                                                                    <div class="row mt-10"
                                                                        *ngIf="showEmployeeSelectionFlag">
                                                                        <div class="col-md-2">
                                                                            <label class="form-label mb-0">Employee Code</label>
                                                                            <select name="EmployeeCode" class="form-control custom-select" 
                                                                                (change)="getSelectedEmployeeCode($event.target.value)">
                                                                                <option value="">Select</option>
                                                                                <option value="1"> 1111 </option>
                                                                                <option value="{{emp.employeeMasterId}}" 
                                                                                *ngFor="let emp of employeeData">
                                                                                    {{emp.employeeCode}}
                                                                                </option>
                                                                            </select>

                                                                        </div>
                                                                        <div class="col-md-2">
                                                                            <label class="form-label mb-0">Payroll Area</label>
                                                                            <select name="PayrollArea" class="form-control custom-select"
                                                                                (change)="getSelectedPayrollArea($event.target.value)">
                                                                                <option value="">Select</option>
                                                                                <option> PA-Staff </option>
                                                                                <option> PA_Worker</option>
                                                                            </select>
                                                                        </div>

                                                                    </div>

                                                                    <!-- Selected Employee basic infrmation-->
                                                                    <div class="row mt-10">
                                                                        <div class="col-md-12 pl-0 pr-0">
                                                                            <div class="border-dark-card radius-10 p-2 mt-3"
                                                                                *ngIf="employeeFinDetailsData">
                                                                                <div class="row">
                                                                                    <div class="col-md-2">
                                                                                        <label
                                                                                            class="form-label mt-1 mb-0">Employee
                                                                                            No. & Name</label>
                                                                                        <label
                                                                                            class="font-12 text-ellipsis mt-1 mb-0">
                                                                                            {{employeeFinDetailsData.employeeCode}}
                                                                                            -
                                                                                            {{employeeFinDetailsData.fullName}}</label>
                                                                                    </div>
                                                                                    <div class="col-md-2">
                                                                                        <label
                                                                                            class="form-label mt-1 mb-0">Date
                                                                                            of Joining</label>
                                                                                        <label
                                                                                            class="font-12 text-ellipsis mt-1 mb-0">
                                                                                            {{employeeFinDetailsData.joiningDate
                                                                                            | date: 'dd-MMM-yyyy'}}
                                                                                        </label>
                                                                                    </div>
                                                                                    <div class="col-md-2">
                                                                                        <label
                                                                                            class="form-label mt-1 mb-0">Establishment</label>
                                                                                        <label
                                                                                            class="font-12 text-ellipsis mt-1 mb-0">
                                                                                            {{employeeFinDetailsData.establishment}}
                                                                                        </label>
                                                                                    </div>
                                                                                    <div class="col-md-2">
                                                                                        <label
                                                                                            class="form-label mt-1 mb-0">Employee
                                                                                            Type</label>
                                                                                        <label
                                                                                            class="font-12 text-ellipsis mt-1 mb-0">
                                                                                            {{employeeFinDetailsData.employeeType}}
                                                                                        </label>
                                                                                    </div>
                                                                                    <div class="col-md-1">
                                                                                        <label
                                                                                            class="form-label mt-1 mb-0">Grade</label>
                                                                                        <label
                                                                                            class="font-12 text-ellipsis mt-1 mb-0">
                                                                                            {{employeeFinDetailsData.grade}}
                                                                                        </label>
                                                                                    </div>
                                                                                    <div class="col-md-2">
                                                                                        <label
                                                                                            class="form-label mt-1 mb-0">Designation</label>
                                                                                        <label
                                                                                            class="font-12 text-ellipsis mt-1 mb-0">
                                                                                            {{employeeFinDetailsData.designation}}
                                                                                        </label>
                                                                                    </div>
                                                                                    <div class="col-md-1">
                                                                                        <label
                                                                                            class="form-label mt-1 mb-0">Status</label>
                                                                                        <label
                                                                                            class="font-12 text-ellipsis mt-1 mb-0">
                                                                                            Probation
                                                                                        </label>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="row mt-20">
                                                                        <div class="col-md-12 pr-0 pl-0">
                                                                            <div class="border-card p-2 mt_2">
                                                                                <div class="row">
                                                                                    <div class="col-md-2"
                                                                                        *ngIf="selectedEmpData[index]">
                                                                                        <label
                                                                                            class="form-label mb-2">Currency</label>
                                                                                        <input type="text"
                                                                                            value="{{selectedEmpData[index].payrollArea.currency}}"
                                                                                            class="form-control"
                                                                                            disabled>
                                                                                    </div>
                                                                                    <div class="col-md-2"
                                                                                        *ngIf="selectedEmpData[index]">
                                                                                        <label class="form-label mb-2">
                                                                                            Payroll Area -
                                                                                            Frequency</label>
                                                                                        <input type="text"
                                                                                            class="form-control"
                                                                                            value="{{selectedEmpData[index].payrollArea.payrollAreaCode}} - {{selectedEmpData[index].frequency}}"
                                                                                            disabled>
                                                                                    </div>

                                                                                    <div class="col-md-3 ml-30"
                                                                                        *ngIf="selectedEmpData[index]">
                                                                                        <div class="row">
                                                                                            <div class="col-md-12 pl-0">
                                                                                                <label
                                                                                                    class="form-label mb-2">Default
                                                                                                    - From Date</label>
                                                                                                <div class="d-flex">
                                                                                                    <div
                                                                                                        class="form-group mr-2 mb-0">
                                                                                                        <div
                                                                                                            class="input-group">
                                                                                                            <input
                                                                                                                class="form-control"
                                                                                                                placeholder="Date"
                                                                                                                value="{{selectedEmpData[index].fromDate | date: 'dd-MMM-yyyy' }}"
                                                                                                                disabled>
                                                                                                            <div
                                                                                                                class="input-group-prepend">
                                                                                                                <span
                                                                                                                    class="input-group-text"><i
                                                                                                                        class="fa fa-calendar"></i></span>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <span
                                                                                                        class="ml-10 mt-7"><i
                                                                                                            class="fa fa-file-excel-o font-18 text-dark-green"
                                                                                                            tooltip="Export to Excel"></i></span>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="row">
                                                                        <div class="col-md-12 p-0">

                                                                            <!-- When navigate from Edit transaction button -->
                                                                            <p-table *ngIf="!showEmployeeSelectionFlag"
                                                                                [value]="NonRecurringTransactionGroupAPIbyIdData"
                                                                                [paginator]="true" [rows]="10"
                                                                                [showCurrentPageReport]="true"
                                                                                currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                                                                [rowsPerPageOptions]="[10,25,50]"
                                                                                [style]="{'width':'100%'}">

                                                                                <ng-template pTemplate="header">
                                                                                    <tr>
                                                                                        <th rowspan="2">
                                                                                            Sr. No.
                                                                                        </th>
                                                                                        <th rowspan="2">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Head Type
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="headtype">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="headtype"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">
                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Head Description
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="headdesc">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="headdesc"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Opening Amount
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="openingval">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="openingval"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">
                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>

                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Closing Amount
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="closingamt">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="closingamt"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-5">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Once Every
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="onceevery">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="onceevery"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Frequency
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="Frequency">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="Frequency"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-10">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                From Date
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="FromDate">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="FromDate"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Type
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="activity">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="activity"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-5">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                No. of Transaction
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="Nooftrans">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="Nooftrans"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-10">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                To Date
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="ToDate">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="ToDate"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-10">
                                                                                            Clawback </th>
                                                                                        <th rowspan="2" class="wd-10">
                                                                                            Remark </th>
                                                                                        <th rowspan="2" class="wd-8">
                                                                                            Status </th>
                                                                                        <th rowspan="2"></th>
                                                                                    </tr>
                                                                                </ng-template>

                                                                                <ng-template pTemplate="body" let-data
                                                                                    let-rowIndex=rowIndex>
                                                                                    <tr class="p-selectable-row">
                                                                                        <td class="text-center">
                                                                                            {{rowIndex + 1}}</td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0 text-link"
                                                                                                (click)="ViewTransactionHistoryData(template1,data)">{{data.payrollHeadMaster.displayName}}</label>
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0">{{data.payrollHeadMaster.description}}</label>
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0">{{data.amount
                                                                                                | number:'1.00'}}
                                                                                            </label>
                                                                                        </td>
                                                                                        <td>
                                                                                            <input type="text"
                                                                                                value="{{data.closingAmount | number:'1.00'}}"
                                                                                                class="form-control"
                                                                                                disabled>
                                                                                        </td>
                                                                                        <td>
                                                                                            <input type="text"
                                                                                                value="{{data.onceEvery}}"
                                                                                                class="form-control"
                                                                                                (focusout)="getOnceEveryChange($event.target.value)">
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0">{{data.frequency}}
                                                                                            </label>
                                                                                        </td>
                                                                                        <td>
                                                                                            <input
                                                                                                [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"
                                                                                                data-provide="datepicker"
                                                                                                data-date-autoclose="true"
                                                                                                placeholder="Date"
                                                                                                bsDatepicker
                                                                                                value="{{data.fromDate}}"
                                                                                                (bsValueChange)="getFromDate($event)"
                                                                                                class="form-control wd-120">
                                                                                        </td>
                                                                                        <td>
                                                                                            <select name="revision type"
                                                                                                class="form-control custom-select wd-120"
                                                                                                (change)="getTransactionType($event.target.value,rowIndex)">
                                                                                                <option value=""
                                                                                                    [selected]="data.transactionsType == null || data.transactionsType == ''">
                                                                                                    Select</option>
                                                                                                <option
                                                                                                    value="NoOfTransaction"
                                                                                                    title="No. of Transaction"
                                                                                                    [selected]="data.transactionsType == 'NoOfTransaction'">
                                                                                                    No. of Trans
                                                                                                </option>
                                                                                                <option
                                                                                                    value="Perpetual"
                                                                                                    title="Perpetual"
                                                                                                    [selected]="data.transactionsType == 'Perpetual'">
                                                                                                    Perpetual</option>
                                                                                                <option
                                                                                                    value="DefinedDate"
                                                                                                    title="Defined Date"
                                                                                                    [selected]="data.transactionsType == 'DefinedDate'">
                                                                                                    Def Date
                                                                                                </option>
                                                                                            </select>
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0">{{data.numberOfTransactions}}
                                                                                            </label>
                                                                                        </td>
                                                                                        <td>
                                                                                            <input
                                                                                                data-provide="datepicker"
                                                                                                data-date-autoclose="true"
                                                                                                placeholder="Date"
                                                                                                bsDatepicker
                                                                                                value="{{data.toDate}}"
                                                                                                (bsValueChange)="getToDate($event)"
                                                                                                class="form-control wd-120"
                                                                                                [disabled]="selectedTransactionIndex == rowIndex && (selectedTransactionType == 'NoOfTransaction'
                                                                                                || selectedTransactionType == 'Perpetual') ">
                                                                                        </td>
                                                                                        <td>
                                                                                            <i class="fa fa-deviantart font-16 text-blue cursor-pointer"
                                                                                                aria-hidden="true" (click)="ViewClawbackpopup(template4)">
                                                                                            </i>
                                                                                        </td>
                                                                                        <td>
                                                                                            <input type="text"
                                                                                                value={{data.remark}}
                                                                                                class="form-control wd-100"
                                                                                                (focusout)="getRemarkChange($event.target.value)">
                                                                                        </td>
                                                                                        <td>
                                                                                            <label></label>
                                                                                        </td>
                                                                                        <td>
                                                                                            <span
                                                                                                class="ml-1 mt-2 d-flex">
                                                                                                <i class="fa fa-deviantart font-16 text-blue cursor-pointer"
                                                                                                    aria-hidden="true">
                                                                                                </i>&nbsp;
                                                                                                <i tooltip="View Schedule"
                                                                                                    class="fa fa-eye font-16 text-blue cursor-pointer"
                                                                                                    (click)="ViewTransactionScheduleDetail(templateTransaction,data)"
                                                                                                    aria-hidden="true">
                                                                                                </i>
                                                                                            </span>
                                                                                        </td>
                                                                                    </tr>
                                                                                </ng-template>

                                                                                <ng-template pTemplate="emptymessage">
                                                                                    <tr>
                                                                                        <td colspan="15"
                                                                                            class="font-14 font500 text-center text-red">
                                                                                            <span>No Data
                                                                                                Available</span>
                                                                                        </td>
                                                                                    </tr>
                                                                                </ng-template>
                                                                            </p-table>

                                                                            <!-- On click on transaction tab -->
                                                                            <p-table *ngIf="showEmployeeSelectionFlag"
                                                                                [value]="NonRecurringTransactionGroupAPIEmpwiseData"
                                                                                [paginator]="true" [rows]="10"
                                                                                [showCurrentPageReport]="true"
                                                                                currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                                                                [rowsPerPageOptions]="[10,25,50]"
                                                                                [style]="{'width':'100%'}">

                                                                                <ng-template pTemplate="header">
                                                                                    <tr>
                                                                                        <th rowspan="2">
                                                                                            Sr. No.
                                                                                        </th>
                                                                                        <th rowspan="2">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Head Type
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="headtype">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="headtype"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">
                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Head Description
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="headdesc">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="headdesc"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Opening Amount
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="openingval">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="openingval"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">
                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>

                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Closing Amount
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="closingamt">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="closingamt"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-5">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Once Every
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="onceevery">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="onceevery"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Frequency
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="Frequency">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="Frequency"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-10">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                From Date
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="FromDate">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="FromDate"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-8">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                Type
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="activity">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="activity"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-5">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                No. of Transaction
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="Nooftrans">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="Nooftrans"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-10">
                                                                                            <div
                                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                                To Date
                                                                                                <div
                                                                                                    class="Sort_Filter_Position">
                                                                                                    <p-sortIcon
                                                                                                        field="ToDate">
                                                                                                    </p-sortIcon>
                                                                                                    <p-columnFilter
                                                                                                        field="ToDate"
                                                                                                        display="menu"
                                                                                                        class="p-ml-auto">

                                                                                                    </p-columnFilter>
                                                                                                </div>
                                                                                            </div>
                                                                                        </th>
                                                                                        <th rowspan="2" class="wd-10">
                                                                                            Clawback </th>
                                                                                        <th rowspan="2" class="wd-10">
                                                                                            Remark </th>
                                                                                        <th rowspan="2" class="wd-8">
                                                                                            Status </th>
                                                                                        <!-- <th rowspan="2"></th> -->
                                                                                    </tr>
                                                                                </ng-template>

                                                                                <ng-template pTemplate="body" let-data
                                                                                    let-rowIndex=rowIndex>
                                                                                    <tr class="p-selectable-row">
                                                                                        <td class="text-center">
                                                                                            {{rowIndex + 1}}</td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label class="form-lable mb-0">
                                                                                                <!-- text-link (click)="ViewTransactionHistoryDataByEmployee(template1,data)" -->
                                                                                                {{data.headType}}
                                                                                            </label>
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0">{{data.headDescription}}</label>
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0">{{data.openingAmount
                                                                                                | number:'1.00'}}
                                                                                            </label>
                                                                                        </td>
                                                                                        <td>
                                                                                            <input type="text"
                                                                                                value="{{data.closingAmount | number:'1.00'}}"
                                                                                                class="form-control"
                                                                                                disabled>
                                                                                        </td>
                                                                                        <td>
                                                                                            <input type="text"
                                                                                                value="{{data.onceEvery}}"
                                                                                                class="form-control"
                                                                                                (focusout)="getOnceEveryChangeForSave($event.target.value,data)">
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0">{{data.frequency}}
                                                                                            </label>
                                                                                        </td>
                                                                                        <td>
                                                                                            <input
                                                                                                [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"
                                                                                                data-provide="datepicker"
                                                                                                data-date-autoclose="true"
                                                                                                placeholder="Date"
                                                                                                bsDatepicker
                                                                                                value="{{data.fromdate}}"
                                                                                                (bsValueChange)="getFromDateForSave($event,data)"
                                                                                                class="form-control wd-120">
                                                                                        </td>
                                                                                        <td>
                                                                                            <select name="revision type"
                                                                                                class="form-control custom-select wd-120"
                                                                                                (change)="getTransactionTypeForSave($event.target.value,rowIndex,data)">
                                                                                                <option value=""
                                                                                                    [selected]="data.transactionsType == null || data.transactionsType == ''">
                                                                                                    Select</option>
                                                                                                <option
                                                                                                    value="NoOfTransaction"
                                                                                                    title="No. of Transaction"
                                                                                                    [selected]="data.transactionsType == 'NoOfTransaction'">
                                                                                                    No. of Trans
                                                                                                </option>
                                                                                                <option
                                                                                                    value="Perpetual"
                                                                                                    title="Perpetual"
                                                                                                    [selected]="data.transactionsType == 'Perpetual'">
                                                                                                    Perpetual</option>
                                                                                                <option
                                                                                                    value="DefinedDate"
                                                                                                    title="Defined Date"
                                                                                                    [selected]="data.transactionsType == 'DefinedDate'">
                                                                                                    Def Date
                                                                                                </option>
                                                                                            </select>
                                                                                        </td>
                                                                                        <td class="bg-color-light_gray">
                                                                                            <label
                                                                                                class="form-lable mb-0">{{data.numberOfTransactions}}
                                                                                            </label>
                                                                                        </td>
                                                                                        <td>
                                                                                            <input
                                                                                                data-provide="datepicker"
                                                                                                data-date-autoclose="true"
                                                                                                placeholder="Date"
                                                                                                bsDatepicker
                                                                                                value="{{data.todate}}"
                                                                                                class="form-control wd-120"
                                                                                                (bsValueChange)="getToDateForSave($event,data)"
                                                                                                [disabled]="selectedTransactionIndex == rowIndex && (selectedTransactionType == 'NoOfTransaction'
                                                                                                || selectedTransactionType == 'Perpetual') ">
                                                                                        </td>
                                                                                        <td>
                                                                                            <i class="fa fa-deviantart font-16 text-blue cursor-pointer"
                                                                                            aria-hidden="true" (click)="ViewClawbackpopup(template4)">
                                                                                        </i>
                                                                                        </td>
                                                                                        <td>
                                                                                            <input type="text"
                                                                                                value={{data.remark}}
                                                                                                class="form-control wd-100"
                                                                                                (focusout)="getRemarkChangeForSave($event.target.value,data)">
                                                                                        </td>
                                                                                        <td>
                                                                                            <label></label>
                                                                                        </td>
                                                                                        <!-- <td>
                                                                                            <span
                                                                                                class="ml-1 mt-2 d-flex">
                                                                                                <i class="fa fa-deviantart font-16 text-blue cursor-pointer"
                                                                                                    aria-hidden="true">
                                                                                                </i>&nbsp;
                                                                                                <i tooltip="View Schedule"
                                                                                                    class="fa fa-eye font-16 text-blue cursor-pointer"
                                                                                                    (click)="ViewTransactionScheduleDetail(templateTransaction,data)"
                                                                                                    aria-hidden="true">
                                                                                                </i>
                                                                                            </span>
                                                                                        </td> -->
                                                                                    </tr>
                                                                                </ng-template>

                                                                                <ng-template pTemplate="emptymessage">
                                                                                    <tr>
                                                                                        <td colspan="15"
                                                                                            class="font-14 font500 text-center text-red">
                                                                                            <span>No Data
                                                                                                Available</span>
                                                                                        </td>
                                                                                    </tr>
                                                                                </ng-template>
                                                                            </p-table>
                                                                        </div>
                                                                    </div>

                                                                    <!-- Buttons -->
                                                                    <div class="row mt-15">
                                                                        <div class="col-12">
                                                                            <div class="float-right mb-15">
                                                                                <button type="submit" tooltip="Save & Next" 
                                                                                    *ngIf="!showEmployeeSelectionFlag"
                                                                                    (click)="saveAndNextTransaction()"
                                                                                    class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple">
                                                                                    <b> <i class="fa fa-floppy-o"></i> </b>
                                                                                    Save & Next
                                                                                </button>
                                                                                <button type="button" tooltip="Save"
                                                                                    *ngIf="!showEmployeeSelectionFlag"
                                                                                    (click)="updateSingleTransaction()"
                                                                                    class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ml-10">
                                                                                    <b><i class="fa fa-floppy-o" aria-hidden="true"></i></b>
                                                                                    Save
                                                                                </button>
                                                                                <button type="button" tooltip="Save"
                                                                                    *ngIf="showEmployeeSelectionFlag"
                                                                                    (click)="NonRecurringTransactionGroup()"
                                                                                    class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ml-10">
                                                                                    <b><i class="fa fa-floppy-o" aria-hidden="true"></i></b>
                                                                                    Save
                                                                                </button>
                                                                                <button type="button" tooltip="Next"
                                                                                *ngIf="!showEmployeeSelectionFlag"
                                                                                    class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10">
                                                                                    <b><i class="fa fa-angle-double-left" aria-hidden="true"></i></b>
                                                                                    Previous
                                                                                </button>
                                                                                <button type="button" tooltip="Next"
                                                                                *ngIf="!showEmployeeSelectionFlag"
                                                                                    class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10">
                                                                                    <b><i class="fa fa-angle-double-right" aria-hidden="true"></i></b>
                                                                                    Next
                                                                                </button>
                                                                                <button type="button" tooltip="Reset"
                                                                                    class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10">
                                                                                    <b><i class="fa fa-refresh" aria-hidden="true"></i></b>
                                                                                    Reset
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <label class="nav" for="Transaction">
                                            <span> Transaction </span>
                                        </label>


                                        <!------------- ------------  Schedule --------------------->
                                        <input name="nav" type="radio" class="about-radio" id="Schedule"
                                            [checked]="indexId == 3" />

                                        <div class="tabs about-page">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="card">
                                                        <div class="card-body">
                                                            <div class="row mb-10">

                                                                <div class="col-md-12">
                                                                    <div class="float-right">
                                                                        <button type="button" tooltip="Approve"
                                                                            class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left mr-10"><b><i
                                                                                    class="fa fa-check-square-o"></i></b>
                                                                            Approve </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <p-table [value]="NonRecurringTransactionScheduleEMPdData" class="mt-10"
                                                                [paginator]="true" [rows]="10"
                                                                [showCurrentPageReport]="true"
                                                                currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                                                [rowsPerPageOptions]="[10,25,50]">
                                                               
                                                                <ng-template pTemplate="header">
                                                                    <tr>
                                                                        <th rowspan="2" class="wd-5">
                                                                            Sr. No.

                                                                        </th>
                                                                        <th rowspan="2" class="wd-8">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Emp. Code
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="sempcode">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter field="sempcode"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">
                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th rowspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Emp. Name
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="sempname">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter field="sempname"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th rowspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Payroll Area
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="spayrollarea">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter field="spayrollarea"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">
                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>

                                                                        <th rowspan="2" class="wd-5">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Head
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="shead">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter field="shead"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th rowspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Group Id
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="sgroupid">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter field="sgroupid"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th colspan="3" class="wd-8">
                                                                            <div
                                                                                class="p-d-flex p-jc-center p-ai-center">
                                                                                Schedule
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="onceevery">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter field="onceevery"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>

                                                                        <th rowspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Processed Amount
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="processedamount">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter
                                                                                        field="processedamount"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th rowspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Balance Amount
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="balamount">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter field="balamount"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th rowspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Processing Cycle
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="processingcycle">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter
                                                                                        field="processingcycle"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>

                                                                        <th rowspan="2"> Hold </th>
                                                                        <th rowspan="2"> Discard </th>
                                                                        <th rowspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Reschedule Date
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="rescheduledate">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter
                                                                                        field="rescheduledate"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th rowspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Approval Status
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="approvalstatus">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter
                                                                                        field="approvalstatus"
                                                                                        display="menu"
                                                                                        class="p-ml-auto">

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>

                                                                        <th rowspan="2" class="wd-8">Remark</th>
                                                                        <th rowspan="2"></th>
                                                                    </tr>
                                                                    <tr>
                                                                        <th class="wd-8">
                                                                            No.
                                                                        </th>
                                                                        <th class="wd-8">
                                                                            Date
                                                                        </th>
                                                                        <th class="wd-8">
                                                                            Amount
                                                                        </th>
                                                                    </tr>
                                                                </ng-template>

                                                                <ng-template pTemplate="body" let-ScheduleData let-rowIndex = rowIndex>
                                                                    <tr class="p-selectable-row">
                                                                        <td> <label
                                                                                class="form-lable mb-0 ">{{rowIndex+1}}</label>
                                                                        </td>
                                                                        <td class="bg-color-light_gray">
                                                                            <label
                                                                                class="form-lable mb-0 " *ngIf="selectedEmpData[index]">
                                                                                {{selectedEmpData[index].employeeMasterResponseDTO.employeeCode}}
                                                                            </label>
                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0" *ngIf="selectedEmpData[index]">
                                                                                {{selectedEmpData[index].employeeMasterResponseDTO.fullName}}</label>
                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0" *ngIf="selectedEmpData[index]">
                                                                                {{selectedEmpData[index].payrollArea.payrollAreaCode}}
                                                                            </label>

                                                                        </td>
                                                                        <td class="bg-color-light_gray">
                                                                            <label class="form-lable mb-0 text-link"
                                                                                (click)="ViewTransactionHistory(template2)" 
                                                                                *ngIf="selectedEmpData[index]">
                                                                                {{selectedEmpData[index].payrollHeadMaster.payrollHeadMaster}}
                                                                            </label>

                                                                        </td>
                                                                        <td class="bg-color-light_gray">
                                                                            <label class="form-lable mb-0">
                                                                                {{ScheduleData.nonRecurringTransactionGroupId}}
                                                                            </label>

                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0">
                                                                            </label>
                                                                           <!-- No -->
                                                                        </td>
                                                                        <td class="bg-color-light_gray"><input
                                                                                data-provide="datepicker"
                                                                                data-date-autoclose="true"
                                                                                class="form-control wd-100" bsDatepicker
                                                                                disabled>
                                                                             <!-- date -->
                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0"><input
                                                                                    type="text"
                                                                                    [value]="ScheduleData.transactionAmount"
                                                                                    class="form-control wd-80" disabled>
                                                                            </label>
                                                                            <!-- amount -->
                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0">{{ScheduleData.processedAmount}}
                                                                            </label>

                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0">{{ScheduleData.balanceAmount}}
                                                                            </label>

                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0">{{ScheduleData.processedCycle}}
                                                                            </label>

                                                                        </td>
                                                                        <td class="bg-color-light_gray">
                                                                            <label
                                                                                class="custom-control custom-checkbox checkbox-center">
                                                                                <input type="checkbox"
                                                                                    class="custom-control-input"
                                                                                    name="select" /> <span
                                                                                    class="custom-control-label" [checked]="ScheduleData.hold == true"></span>
                                                                            </label>


                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0"><label
                                                                                    class="custom-control custom-checkbox checkbox-center">
                                                                                    <input type="checkbox"
                                                                                        class="custom-control-input"
                                                                                        name="select" /> <span
                                                                                        class="custom-control-label" [checked]="ScheduleData.discard == true"></span>
                                                                                </label> </label>

                                                                        </td>
                                                                        <td class="bg-color-light_gray"><input
                                                                                data-provide="datepicker"
                                                                                data-date-autoclose="true"
                                                                                value="{{ScheduleData.resheduleDate}}"
                                                                                class="form-control" bsDatepicker>

                                                                        </td>
                                                                        <td class="bg-color-light_gray"><label
                                                                                class="form-lable mb-0">{{ScheduleData.approvalstatus}}
                                                                            </label>

                                                                        </td>
                                                                        <td class="bg-color-light_gray"><input
                                                                                type="text" class="form-control"
                                                                                [value]="ScheduleData.remark">

                                                                        </td>
                                                                        <td><i tooltip="View Schedule"
                                                                                class="fa fa-eye font-16 text-blue cursor-pointer"
                                                                                (click)="ViewScheduleHistory(template3)"
                                                                                aria-hidden="true"></i></td>


                                                                    </tr>
                                                                </ng-template>
                                                            </p-table>
                                                            <div class="row mt-15">
                                                                <div class="col-12">
                                                                    <div class="float-right mb-15">
                                                                        <button type="submit" tooltip="Save & Next"
                                                                            class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple"><b>
                                                                                <i class="fa fa-floppy-o"></i></b> Save
                                                                            & Next</button>
                                                                        <button type="button" tooltip="Next"
                                                                            class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ml-10"><b><i
                                                                                    class="fa fa-floppy-o"
                                                                                    aria-hidden="true"></i></b>Save</button>

                                                                        <button type="button" tooltip="Next"
                                                                            class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10"><b><i
                                                                                    class="fa fa-times"
                                                                                    aria-hidden="true"></i></b>Cancel</button>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <label class="nav" for="Schedule">
                                            <span> Schedule </span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</form>


<ng-template #template>
    <div class="modal-header">
        <h5 class="modal-title" id="UploadModalLabel">History</h5>
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
                aria-hidden="true">×</span></button>
    </div>
    <div class="modal-body">
        <div class="card">
            <div class="card-body p-0 m-0">
                <div class="row">
                    <div class="col-md-4">
                        <label class="form-label">Head Name</label>
                        <input type="text" class="form-control" [value]="viewHeadHistory.payrollHeadMaster.displayName"
                            disabled>
                    </div>
                </div>
                <div class="row clearfix mt-10">
                    <div class="col-md-12">
                        <div class="table-responsive Custom_Table">
                            <table class="table table-striped table-hover table-bordered m-b-0">
                                <thead class="thead-dark">
                                    <tr>
                                        <th class="wd-15 font700">From Date</th>
                                        <th class="wd-15 font700">To Date</th>
                                        <th class="wd-15 font700">Opening Value</th>
                                        <th class="wd-15 font700">Change Value</th>
                                        <th class="wd-10 font700">Change %</th>
                                        <th class="wd-15 font700">Closing Value</th>
                                        <th class="wd-15 font700">Unit of Measure</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let data of NonRecurringHeadwiseHistorydData; let index = index;">
                                        <td>{{data.fromDate}}</td>
                                        <td>{{data.toDate}}</td>
                                        <td>0.0</td>
                                        <td>0.0</td>
                                        <td>0.0</td>
                                        <td>0.0</td>
                                        <td>0.0</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modalRef.hide()"><i class="fa fa-times"></i>
            &nbsp;Close</button>
    </div>
</ng-template>


<!-- View Schedule / Transaction History / Header history-->
<ng-template #template1>
    <div class="modal-header">
        <h5 class="modal-title" id="UploadModalLabel"> Transaction History</h5>
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
                aria-hidden="true">×</span></button>
    </div>
    <div class="modal-body">
        <div class="card">
            <div class="card-body p-0 m-0">
                <div class="row">
                    <div class="col-md-12 pl-0 pr-0">
                        <div class="border-dark-card radius-10 p-2 mt-3">
                            <div class="row" *ngIf="viewHeadHistory">

                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Emp. Code</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewHeadHistory.employeeMasterResponseDTO.employeeCode}} </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Emp. Name</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewHeadHistory.employeeMasterResponseDTO.fullName}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Head</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewHeadHistory.payrollHeadMaster.displayName}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Group Id</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewHeadHistory.nonRecurringTransactionGroupId}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Payroll Area</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewHeadHistory.payrollArea.payrollAreaCode}}
                                    </label>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="row clearfix mt-10">
                    <div class="col-md-12">
                        <div class="table-responsive Custom_Table">
                            <table class="table table-striped table-hover table-bordered m-b-0">
                                <thead class="thead-dark">
                                    <tr>
                                        <!-- <th class="wd-10 font700">Group Id</th> -->
                                        <!-- <th class="wd-10 font700">Payroll Area</th> -->
                                        <th class="wd-10 font700">Once Every</th>
                                        <th class="wd-10 font700">Frequency</th>
                                        <th class="wd-10 font700">Amount</th>
                                        <th class="wd-10 font700">From Date</th>
                                        <th class="wd-8 font700">Type</th>
                                        <th class="wd-10 font700">No. of Transactions</th>
                                        <th class="wd-10 font700">To Date</th>
                                        <th class="wd-10 font700">Remark</th>
                                        <th class="wd-13 font700">Updated Date & Time</th>
                                        <th class="wd-10 font700">Updated By</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let data of NonRecurringHeadwiseHistorydData; let index = index; ">
                                        <!-- <td>{{data.nonRecurringTransactionGroupId}}</td> -->
                                        <!-- <td>{{data.payrollArea.payrollAreaCode}}</td> -->
                                        <td>{{data.onceEvery}}</td>
                                        <td>{{data.frequency}}</td>
                                        <td>{{data.amount | number : '1.00'}}</td>
                                        <td>{{data.fromDate}}</td>
                                        <td>{{data.transactionsType}}</td>
                                        <td>{{data.numberOfTransactions}}</td>
                                        <td>{{data.toDate}}</td>
                                        <td>{{data.remark}}</td>
                                        <td>{{data.lastModifiedDateTime | date: 'dd-MMM-yyyy hh:mm a'}}</td>
                                        <td>{{data.lastModifiedBy}}</td>

                                    </tr>


                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modalRef.hide()"><i class="fa fa-times"></i>
            &nbsp;Close</button>
    </div>
</ng-template>

<!-- View Schedule details-->
<ng-template #template2>
    <div class="modal-header">
        <h5 class="modal-title" id="UploadModalLabel"> Schedule Details</h5>
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
                aria-hidden="true">×</span></button>
    </div>
    <div class="modal-body">
        <div class="card">
            <div class="card-body p-0 m-0">
                <div class="row">
                    <div class="col-md-12 pl-0 pr-0">
                        <div class="border-dark-card radius-10 p-2 mt-3">
                            <div class="row" *ngIf="viewEmployeeData">
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Emp. Code</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.employeeMasterResponseDTO.employeeCode}} </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Emp. Name</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.employeeMasterResponseDTO.fullName}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Payroll Area</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.payrollArea.payrollAreaCode}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Group Id</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.nonRecurringTransactionGroupId}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Head</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeData.payrollHeadMaster.displayName}}
                                    </label>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="row clearfix mt-10">
                    <div class="col-md-12">
                        <div class="table-responsive Custom_Table">
                            <table class="table table-striped table-hover table-bordered m-b-0">
                                <thead class="thead-dark">
                                    <tr>
                                        <th colspan="3" class="wd-40 font700">Schedule</th>
                                        <th rowspan="2" class="wd-10 font700">Processed Amount</th>
                                        <th rowspan="2" class="wd-10 font700">Balance Amount</th>
                                        <th rowspan="2" class="wd-10 font700">Processing Cycle</th>
                                        <th rowspan="2" class="wd-10 font700">Hold</th>
                                        <th rowspan="2" class="wd-10 font700">Discard</th>
                                        <th rowspan="2" class="wd-10 font700">Remark</th>

                                    </tr>
                                    <tr>
                                        <th>No.</th>
                                        <th>Date</th>
                                        <th>Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr
                                        *ngFor="let data of NonRecurringTransactionScheduleEMPdData; let index = index;">
                                        <td>{{index + 1}}</td>
                                        <td>
                                            <!-- <input data-provide="datepicker" data-date-autoclose="true"
                                                class="form-control" bsDatepicker disabled>  -->
                                            {{data.transactionDate | date : 'dd-MMM-yyyy'}}
                                        </td>
                                        <td>{{data.transactionAmount | number:'1.00'}}</td>
                                        <td>{{data.processedAmount | number:'1.00'}}</td>
                                        <td>{{data.balanceAmount | number:'1.00'}}</td>
                                        <td>{{data.processedCycle}}</td>
                                        <td><label class="custom-control custom-checkbox checkbox-center">
                                                <input type="checkbox" class="custom-control-input" name="select"
                                                    disabled [checked]="data.hold == true" />
                                                <span class="custom-control-label"></span>
                                            </label>
                                        </td>
                                        <td><label class="custom-control custom-checkbox checkbox-center">
                                                <input type="checkbox" class="custom-control-input" name="select"
                                                    disabled [checked]="data.discard == true" />
                                                <span class="custom-control-label"></span>
                                            </label></td>
                                        <td>
                                            {{data.remark}}
                                        </td>

                                    </tr>


                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modalRef.hide()"><i class="fa fa-times"></i>
            &nbsp;Close</button>
    </div>
</ng-template>

<!-- View Schedule details-->
<ng-template #templateTransaction>
    <div class="modal-header">
        <h5 class="modal-title" id="UploadModalLabel"> Schedule Details</h5>
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
                aria-hidden="true">×</span></button>
    </div>
    <div class="modal-body">
        <div class="card">
            <div class="card-body p-0 m-0">
                <div class="row">
                    <div class="col-md-12 pl-0 pr-0">
                        <div class="border-dark-card radius-10 p-2 mt-3">
                            <div class="row" *ngIf="viewEmployeeDataTransacton">
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Emp. Code</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeDataTransacton.employeeMasterResponseDTO.employeeCode}} </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Emp. Name</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeDataTransacton.employeeMasterResponseDTO.fullName}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Payroll Area</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeDataTransacton.payrollArea.payrollAreaCode}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Group Id</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeDataTransacton.nonRecurringTransactionGroupId}}
                                    </label>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label mt-1 mb-0">Head</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        {{viewEmployeeDataTransacton.payrollHeadMaster.displayName}}
                                    </label>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="row clearfix mt-10">
                    <div class="col-md-12">
                        <div class="table-responsive Custom_Table">
                            <table class="table table-striped table-hover table-bordered m-b-0">
                                <thead class="thead-dark">
                                    <tr>
                                        <th colspan="3" class="wd-40 font700">Schedule</th>
                                        <th rowspan="2" class="wd-10 font700">Processed Amount</th>
                                        <th rowspan="2" class="wd-10 font700">Balance Amount</th>
                                        <th rowspan="2" class="wd-10 font700">Processing Cycle</th>
                                        <th rowspan="2" class="wd-10 font700">Pertaining Cycle</th>
                                        <th rowspan="2" class="wd-10 font700">Hold</th>
                                        <th rowspan="2" class="wd-10 font700">Discard</th>
                                        <th rowspan="2" class="wd-10 font700">Remark</th>

                                    </tr>
                                    <tr>
                                        <th>No.</th>
                                        <th>Date</th>
                                        <th>Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr
                                        *ngFor="let data of NonRecurringTransactionScheduleEMPdData; let index = index;">
                                        <td>{{index + 1}}</td>
                                        <td>
                                            <!-- <input data-provide="datepicker" data-date-autoclose="true"
                                                class="form-control" bsDatepicker disabled>  -->
                                            {{data.transactionDate | date : 'dd-MMM-yyyy'}}
                                        </td>
                                        <td>{{data.transactionAmount | number:'1.00'}}</td>
                                        <td>{{data.processedAmount | number:'1.00'}}</td>
                                        <td>{{data.balanceAmount | number:'1.00'}}</td>
                                        <td>{{data.processedCycle}}</td>
                                        <td>{{data.pertainingCycle}}</td>
                                        <td><label class="custom-control custom-checkbox checkbox-center">
                                                <input type="checkbox" class="custom-control-input" name="select"
                                                    disabled [checked]="data.hold == true" />
                                                <span class="custom-control-label"></span>
                                            </label>
                                        </td>
                                        <td><label class="custom-control custom-checkbox checkbox-center">
                                                <input type="checkbox" class="custom-control-input" name="select"
                                                    disabled [checked]="data.discard == true" />
                                                <span class="custom-control-label"></span>
                                            </label></td>
                                        <td>
                                            {{data.remark}}
                                        </td>

                                    </tr>


                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modalRef.hide()"><i class="fa fa-times"></i>
            &nbsp;Close</button>
    </div>
</ng-template>


<ng-template #template3>
    <div class="modal-header">
        <h5 class="modal-title" id="UploadModalLabel"> Schedule History</h5>
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
                aria-hidden="true">×</span></button>
    </div>
    <div class="modal-body">
        <div class="card">
            <div class="card-body p-0 m-0">
                <div class="row">
                    <div class="col-md-12 pl-0 pr-0">
                        <div class="border-dark-card radius-10 p-2 mt-3">
                            <div class="row">
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Emp. Code</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        0001 </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Emp. Name</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        Sneha Suryawanshi
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Payroll Area</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        PA-01
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Group Id</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        G1
                                    </label>
                                </div>


                            </div>
                            <div class="row mt-10">
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Head</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        H1
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Schedule No.</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        10001 </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Original Schedule Date
                                    </label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        10-Apr-2020
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label mt-1 mb-0">Schedule Amount</label>
                                    <label class="font-12 text-ellipsis mt-1 mb-0">
                                        2,000.00
                                    </label>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>
                <div class="row clearfix mt-10">
                    <div class="col-md-12">
                        <div class="table-responsive Custom_Table">
                            <table class="table table-striped table-hover table-bordered m-b-0">
                                <thead class="thead-dark">
                                    <tr>
                                        <th class="wd-15 font700">Hold</th>
                                        <th class="wd-15 font700">Discard</th>
                                        <th class="wd-15 font700">Reschdule Date</th>
                                        <th class="wd-20 font700">Remark </th>
                                        <th class="wd-20 font700">Updated Date & Time</th>
                                        <th class="wd-15 font700">Updated By</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><label class="custom-control custom-checkbox checkbox-center">
                                                <input type="checkbox" class="custom-control-input" name="select"
                                                    disabled /> <span class="custom-control-label"></span>
                                            </label></td>
                                        <td><label class="custom-control custom-checkbox checkbox-center">
                                                <input type="checkbox" class="custom-control-input" name="select"
                                                    disabled /> <span class="custom-control-label"></span>
                                            </label></td>
                                        <td><input data-provide="datepicker" data-date-autoclose="true"
                                                class="form-control" bsDatepicker disabled></td>
                                        <td><input type="text" class="form-control" disabled></td>
                                        <td><input type="text" class="form-control" disabled></td>
                                        <td><input type="text" class="form-control" disabled></td>


                                    </tr>
                                    <tr>
                                        <td><label class="custom-control custom-checkbox checkbox-center">
                                                <input type="checkbox" class="custom-control-input" name="select"
                                                    disabled /> <span class="custom-control-label"></span>
                                            </label></td>
                                        <td><label class="custom-control custom-checkbox checkbox-center">
                                                <input type="checkbox" class="custom-control-input" name="select"
                                                    disabled /> <span class="custom-control-label"></span>
                                            </label></td>
                                        <td><input data-provide="datepicker" data-date-autoclose="true"
                                                class="form-control" bsDatepicker disabled></td>
                                        <td><input type="text" class="form-control" disabled></td>
                                        <td><input type="text" class="form-control" disabled></td>
                                        <td><input type="text" class="form-control" disabled></td>


                                    </tr>

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modalRef.hide()"><i class="fa fa-times"></i>
            &nbsp;Close</button>
    </div>
</ng-template>


<!-- clawback-->
<ng-template #template4>
    <div class="modal-header">
        <h5 class="modal-title" id="UploadModalLabel">Clawback</h5>
        <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
                aria-hidden="true">×</span></button>
    </div>
    <div class="modal-body">
        <div class="card">
            <div class="card-body p-0 m-0">
                <div class="row">
                    <div class="col-md-12 pl-0 pr-0">
                        <div class="border-dark-card radius-10 p-2 mt-3">
                            <div class="row">
                                <div class="col-md-3">Applicable At</div>
                                <div class="col-md-3">
                                    <select name="revision type"
                                    class="form-control custom-select wd-120">
                                    <option value="">
                                        Select</option>
                                    <option
                                        value=""
                                        title="">
                                        1
                                    </option>
                                    <option
                                        value="Perpetual"
                                        title=""
                                        >
                                        2</option>
                                    <option
                                        value=""
                                        title=""
                                       >
                                        3
                                    </option>
                                </select>
                                </div>
                                <br>
                                <br>
                                <div class="col-md-3">Input Type</div>
                                <div class="col-md-3">
                                    <select name="revision type"
                                    class="form-control custom-select wd-120">
                                    <option value="">
                                        Select</option>
                                    <option
                                        value=""
                                        title="">
                                        1
                                    </option>
                                    <option
                                        value="Perpetual"
                                        title=""
                                        >
                                        2</option>
                                    <option
                                        value=""
                                        title=""
                                       >
                                        3
                                    </option>
                                </select>
                                </div>
                                <br>
                                <br>
                                <div class="col-md-3">Period</div>
                                <div class="col-md-3">
                                    <input type="text"
                                    value=''
                                    class="form-control wd-100">
                                </div>
                                <br>
                                <br>
                                <div class="col-md-3">Frequency</div>
                                <div class="col-md-3">
                                    <select name="revision type"
                                    class="form-control custom-select wd-120">
                                    <option value="">
                                        Select</option>
                                    <option
                                        value=""
                                        title="">
                                        1
                                    </option>
                                    <option
                                        value="Perpetual"
                                        title=""
                                        >
                                        2</option>
                                    <option
                                        value=""
                                        title=""
                                       >
                                        3
                                    </option>
                                </select>
                                </div>

                                <br>
                                <br>
                                <div class="col-md-3">Date</div>
                                <div class="col-md-3">
                                    <input
                                    data-provide="datepicker"
                                    data-date-autoclose="true"
                                    placeholder="Date"
                                    bsDatepicker
                                    value=""
                                    class="form-control wd-120">
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>
              
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modalRef.hide()"><i class="fa fa-times"></i>
            &nbsp;Close</button>
    </div>
</ng-template>