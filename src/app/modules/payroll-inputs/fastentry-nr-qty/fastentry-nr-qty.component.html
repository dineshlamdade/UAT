<!-- <app-leftmenu></app-leftmenu> -->
<!-- Main body part  -->
<!-- <div class="page"> -->
    <!-- <app-header></app-header> -->
    <!-- <div class="section-body mt-3"> -->
        <!-- <div class="container-fluid" style="border: 1px solid #ccc; background-color: #fff;"> -->
            <div class="tabview-contents">
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body p-0">
                                <div class="col-12 mt-10">
                                    <br>

                                    <div class="row mt-10">
                                        <!-- <div class="col-sm-3">
                                            <label class="form-label"> E/D Head</label>
                                            <select name="payrollarea" class="form-control input-icon" 
                                            [(ngModel)]="headMasterId"
                                            (change)="getEDHeader($event.target.value)">
                                                <option value=""> Select </option>
                                                <option *ngFor="let head of headData" value="{{head.headMasterId}}"
                                                    [selected]="headMasterId == head.headMasterId">
                                                    {{head.displayName}}
                                                </option>
                                            </select>
                                        </div> -->
                                        <div class="col-sm-3">
                                            <label class="form-label"> NR Qty Head</label>
                                            <select name="payrollarea" class="form-control custom-select input-icon"
                                            [(ngModel)]="nonSalaryDetailId"
                                                (change)="getSelectedHead($event.target.value)">
                                                <option value=""> Select </option>
                                                <option *ngFor="let data of summaryData" value="{{data.nonSalaryDetailId}}">{{data.code}}</option>
                                            </select>
                                        </div>
                                        <div class="col-sm-3">
                                            <label class="form-label"> Type </label>
                                            <select name="payrollarea" class="form-control custom-select input-icon"
                                               [(ngModel)]="type"
                                                (change)="getSelectedHeadType($event.target.value)">
                                                <option value=""> Select </option>
                                                <option *ngFor="let data of nonSalaryOptionList">{{data.name}}</option>
                                            </select>
                                        </div>
                                        <!-- <div class="col-sm-3">
                                            <label class="form-label">Payroll Area</label>
                                            <select name="payrollarea" class="form-control custom-select input-icon"
                                            [(ngModel)]="selectedPayrollArea"
                                                (change)="onPayrollSelect($event.target.value)">
                                                <option value=""> Select </option>
                                                <option *ngFor="let payroll of parollArea"
                                                    [selected]="selectedPayrollArea == payroll.name">
                                                    {{payroll.name}}
                                                </option>
                                            </select>
                                        </div> -->
                                    </div>

                                    <br>
                                    <!-- Empoyee Table -->
                                    <div class="row">
                                        <div class="col-md-12" *ngIf="selectedPayrollArea">
                                            <p-table [value]="payrollEmployeeData" [rows]="10" [paginator]="true"
                                                [globalFilterFields]="['employeeCode',
                                                'employeeName',
                                                'selectedPayrollArea',
                                                ]" #dt [rowsPerPageOptions]="[5,10,25,50,100,200]">
                                                <ng-template pTemplate="caption">
                                                    <div style="text-align: right">
                                                        <i class="pi pi-search" style="margin:4px 4px 0 0"></i>
                                                        <input type="text" pInputText size="50" placeholder="Search"
                                                            (input)="dt.filterGlobal($event.target.value, 'contains')"
                                                            style="width: 203px !important;margin-right: 37px;">
                                                    </div>
                                                </ng-template>

                                                <ng-template pTemplate="header">
                                                    <tr>
                                                        <th rowspan="2"></th>
                                                        <th rowspan="2">
                                                            <div class="p-d-flex p-jc-between p-ai-center">
                                                                Employee Code
                                                                <div class="Sort_Filter_Position">
                                                                    <p-sortIcon field="employeeCode"></p-sortIcon>
                                                                    <p-columnFilter type="text" field="employeeCode"
                                                                        display="menu" class="p-ml-auto">
                                                                    </p-columnFilter>
                                                                </div>
                                                            </div>
                                                        </th>
                                                        <th rowspan="2">
                                                            <div class="p-d-flex p-jc-between p-ai-center">
                                                                Employee Name
                                                                <div class="Sort_Filter_Position">
                                                                    <p-sortIcon field="employeeName"></p-sortIcon>
                                                                    <p-columnFilter type="text" field="employeeName"
                                                                        display="menu" class="p-ml-auto">
                                                                    </p-columnFilter>
                                                                </div>
                                                            </div>
                                                        </th>
                                                        <th rowspan="2">
                                                            <div class="p-d-flex p-jc-between p-ai-center">
                                                                Payroll Area
                                                                <div class="Sort_Filter_Position">
                                                                    <p-sortIcon field="selectedPayrollArea"></p-sortIcon>
                                                                    <p-columnFilter type="text" field="selectedPayrollArea"
                                                                        display="menu" class="p-ml-auto">
                                                                    </p-columnFilter>
                                                                </div>
                                                            </div>
                                                        </th>
                                                    </tr>
                                                </ng-template>

                                                <ng-template pTemplate="body" let-user1>
                                                    <tr class="p-selectable-row">
                                                        <td style="width: 3rem">
                                                            <input type="checkbox"
                                                                (change)="getSelectedEmployee(user1,$event.target)">
                                                        </td>
                                                        <td class="bg-color-light_gray">
                                                            <label
                                                                class="form-lable mb-0">{{user1.employeeCode}}</label>
                                                        </td>
                                                        <td class="bg-color-light_gray"><label
                                                                class="form-lable mb-0">{{user1.employeeName}}</label>
                                                        </td>
                                                        <td class="bg-color-light_gray">
                                                            <label class="form-lable mb-0">{{selectedPayrollArea}}
                                                            </label>
                                                        </td>
                                                    </tr>
                                                </ng-template>

                                                <ng-template pTemplate="emptymessage">
                                                    <tr>
                                                        <td colspan="15" class="font-14 font500 text-center text-red">
                                                            <span>No
                                                                Data
                                                                Available</span>
                                                        </td>
                                                    </tr>
                                                </ng-template>

                                            </p-table>
                                        </div>
                                    </div>
                                    <br>

                                    <div class="row">
                                        <div class="col-md-12">

                                            <div class="card bg-color-white box-line-border">

                                                <div class="card-body">
                                                    <div class="col-lg-12 col-md-6 col-sm-12">
                                                        <div class="card">
                                                            <div class="card-status"></div>
                                                            <div class="card-body">
                                                                <div class="row mt-20">
                                                                    <div class="col-sm-3">
                                                                        <div class="custom-controls-stacked">
                                                                            <label class="custom-control custom-radio">
                                                                                <input type="radio"
                                                                                    class="custom-control-input"
                                                                                    name="example- radios"
                                                                                    value="option1" checked>
                                                                                <div class="custom-control-label">
                                                                                    Employee List
                                                                                </div>
                                                                            </label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-sm-3">
                                                                        <label class="form-label">Once Every</label>
                                                                        <input type="text" class="form-control"
                                                                        onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                                            [(ngModel)]="selectedOnceEvery">
                                                                    </div>
                                                                    <div class="col-sm-3">
                                                                        <label class="form-label">Frequency</label>
                                                                        <select
                                                                            class="form-control custom-select wd-200"
                                                                            [(ngModel)]="selectedFrequency"
                                                                            (change)="getSelectedFrequency($event.target.value)">
                                                                            <option value="">Select</option>
                                                                            <option value="Monthly" selected>Month
                                                                            </option>
                                                                            <option value="Quarterly">Quarter </option>
                                                                            <option value="HalfYearly">HalfYear</option>
                                                                            <option value="Yearly">Year </option>
                                                                            <option value="SemiMonthly">SemiMonth
                                                                            </option>
                                                                            <option value="Weekly">Week </option>
                                                                            <option value="BiWeekly">BiWeek </option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                <div class="row mt-20">
                                                                    <div class="col-sm-3">
                                                                        <label class="form-label">From Date</label>
                                                                        <div class="input-group">
                                                                            <div class="input-group-prepend">
                                                                                <span class="input-group-text">
                                                                                    <i class="fa fa-calendar"></i>
                                                                                </span>
                                                                            </div>
                                                                            <input data-provide="datepicker"
                                                                                data-date-autoclose="true"
                                                                                class="form-control" placeholder="From Date"
                                                                                [minDate]="effectiveFromDate"
                                                                                [maxDate]="effectiveToDate"
                                                                                [value]="selectedFromDate | date :'dd-MMM-yyyy'"
                                                                                [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"
                                                                                (bsValueChange)="getFromDate($event)"
                                                                                bsDatepicker>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-sm-3">
                                                                        <label class="form-label">Type</label>
                                                                        <select name="revision type"
                                                                            class="form-control custom-select"
                                                                            [(ngModel)]="selectedTransactionType"
                                                                            (change)="getTransactionType($event.target.value)">
                                                                            <option value="">Select</option>
                                                                            <option value="NoOfTransaction"
                                                                                title="No. of Transaction">
                                                                                No. of Trans
                                                                            </option>
                                                                            <option value="Perpetual" title="Perpetual">
                                                                                Perpetual
                                                                            </option>
                                                                            <option value="Defined Date"
                                                                                title="Defined Date">
                                                                                Def Date
                                                                            </option>
                                                                        </select>
                                                                    </div>
                                                                    <div class="col-sm-3">
                                                                        <label class="form-label">No. of Trans</label>
                                                                        <input type="text" class="form-control"
                                                                            [(ngModel)]="selectedNoOfTransaction"
                                                                            onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                                            [disabled]="selectedTransactionType != 'NoOfTransaction'">
                                                                    </div>
                                                                    <div class="col-sm-3">
                                                                        <label class="form-label">To Date</label>
                                                                        <div class="input-group">
                                                                            <div class="input-group-prepend">
                                                                                <span class="input-group-text">
                                                                                    <i class="fa fa-calendar"></i>
                                                                                </span>
                                                                            </div>
                                                                            <input data-provide="datepicker"
                                                                                data-date-autoclose="true"
                                                                                [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"
                                                                                class="form-control" placeholder="To Date"
                                                                                [minDate]="setMinToDate"
                                                                                [maxDate]="effectiveToDate"
                                                                                [value]="selectedToDate | date:'dd-MMM-yyyy'"
                                                                                bsDatepicker
                                                                                (bsValueChange)="getToDate($event)"
                                                                                [disabled]="selectedTransactionType != 'Defined Date'">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row mt-20">
                                                                    <div class="col-sm-3">
                                                                        <label class="form-label">Quantity</label>
                                                                        <!-- onkeypress="return event.charCode >= 48 && event.charCode <= 57" -->
                                                                        <input type="number" class="form-control"
                                                                        
                                                                            [(ngModel)]="selectedAmount">
                                                                    </div>
                                                                    <div class="col-sm-3">
                                                                        <label class="form-label">Remark</label>
                                                                        <input type="text" class="form-control"
                                                                            [(ngModel)]="selectedRemark">
                                                                    </div>
                                                                    <div class="col-sm-9"></div>
                                                                    <div class="col-sm-3">
                                                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                                        <button type="submit"
                                                                            class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple mt-3"
                                                                            tooltip="Go" (click)="getAllSelectedData()"
                                                                            [disabled]="selectedEmployeeData.length == 0 || nonSalaryDetailId == '' || type == '' "
                                                                            [ngClass]="{'disabled-btn-bg-green': selectedEmployeeData.length == 0 || nonSalaryDetailId == '' || type == ''}"
                                                                            >
                                                                            <!-- [ngClass]="{'disabled-btn-bg-green' : (headMasterId == null || headMasterId == '') || selectedPayrollArea == '' || selectedOnceEvery == ''
                                                                                                || selectedFrequency == ''}"
                                                                            [disabled]="(headMasterId == null || headMasterId == '') || selectedPayrollArea == '' || selectedOnceEvery == ''
                                                                                                || selectedFrequency == ''
                                                                                                " -->
                                                                            <b><i class="fa fa-arrow-right"></i></b> Go
                                                                        </button>&nbsp;
                                                                        <button type="button"
                                                                            class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left mt-3"
                                                                            tooltip="Reset" (click)="reset()"><b>
                                                                                <i class="fa fa-refresh"></i></b>
                                                                            Reset</button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>

                        </div>

                    </div>
                </div>
                <br>

                <div class="mb-0">
                    <h3 class="font-14 text-purple font-bold">Summary</h3>
                </div>

                <div class="row">
                    <div class="col-md-12">

                        <p-table [value]="tableData">

                            <ng-template pTemplate="header">
                                <tr>
                                    <th rowspan="2" class="wd-2 text-center">Sr. No.</th>
                                    <th rowspan="2" class="wd-4 text-center">
                                        <div class="p-d-flex p-jc-between p-ai-center">Emp. Code
                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="PayrollArea" pSortableColumn="PayrollArea">
                                                </p-sortIcon>
                                                <p-columnFilter type="text" field="name" display="menu"
                                                    class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-4 text-center">
                                        <div class="p-d-flex p-jc-between p-ai-center"> Emp. Name
                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="Description" pSortableColumn="Description">
                                                </p-sortIcon>
                                                <p-columnFilter type="text" field="Desc" display="menu"
                                                    class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-10 text-center">
                                        <div class="p-d-flex p-jc-between p-ai-center" style="margin-left:25px;">
                                            Payroll Area
                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="Type" pSortableColumn="Type">
                                                </p-sortIcon>
                                                <p-columnFilter type="date" field="date" display="menu"
                                                    class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-8 text-center">
                                        <div class="p-d-flex justify-content-center p-ai-center">
                                            From Date
                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="FromDate" pSortableColumn="FromDate"></p-sortIcon>
                                                <p-columnFilter field="activity" display="menu" class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-10 text-center">
                                        <div class="p-d-flex p-jc-between p-ai-center" style="margin-left:58px;">Type
                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="ToDate" pSortableColumn="ToDate">
                                                </p-sortIcon>
                                                <p-columnFilter field="activity" display="menu" class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-10 text-center">
                                        <div class="p-d-flex p-jc-between p-ai-center" style="margin-left:25px;">No. of
                                            Trans.
                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="ToDate" pSortableColumn="ToDate">
                                                </p-sortIcon>
                                                <p-columnFilter field="activity" display="menu" class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-8 text-center">
                                        <div class="p-d-flex p-jc-between p-ai-center">To Date
                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="ToDate" pSortableColumn="ToDate">
                                                </p-sortIcon>
                                                <p-columnFilter field="activity" display="menu" class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-4 text-center">
                                        <div class="p-d-flex p-jc-between p-ai-center"> Quantity

                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="PrimaryArea" pSortableColumn="PrimaryArea">
                                                </p-sortIcon>
                                                <p-columnFilter field="status" matchMode="equals" display="menu"
                                                    class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-4 text-center">
                                        <div class="p-d-flex p-jc-between p-ai-center"> Remark

                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="PrimaryArea" pSortableColumn="PrimaryArea">
                                                </p-sortIcon>
                                                <p-columnFilter field="status" matchMode="equals" display="menu"
                                                    class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <!-- <th rowspan="2" class="wd-2 text-center"></th> -->
                                    <th rowspan="2" class="wd-2 text-center"> Action </th>
                                    <th rowspan="2" class="wd-2 text-center"></th>
                                </tr>

                            </ng-template>

                            <ng-template pTemplate="body" let-data let-rowIndex=rowIndex>
                                <tr class="p-selectable-row">
                                    <td class="text-center">{{rowIndex+1}}</td>
                                    <td>
                                        <input type="text" class="form-control" [value]="data.employeeCode"
                                        disabled
                                            (focusout)="getEmployeeName($event.target.value)">
                                    </td>
                                    <td>{{data.employeeName}}</td>
                                    <td>
                                        <select name="payrollarea" class="form-control custom-select wd-100" disabled
                                            (change)="getSelectedSavePayroll($event.target.value,data)">
                                            <option value=""> Select</option>
                                            <option *ngFor="let payroll of parollArea"
                                                [selected]="selectedPayrollArea == payroll.name">
                                                {{payroll.name}} </option>
                                        </select>
                                    </td>
                                    <td>
                                        <div class="p-d-inline-flex">
                                            <div class="form-group mb-0  mt-1 SMDatepickerWidth">
                                                <div class="input-group">
                                                    <input data-provide="datepicker"
                                                        [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"
                                                        data-date-autoclose="true" [minDate]="effectiveFromDate"
                                                        [maxDate]="effectiveToDate"
                                                        value="{{data.fromDate | date:'dd-MMM-yyyy'}}"
                                                        (bsValueChange)="getSaveFromDate($event,data)"
                                                        class="form-control wd-120" placeholder="Date" bsDatepicker>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <select name="revision type" class="form-control custom-select wd-120"
                                            (change)="getsaveTransactionType($event.target.value,rowIndex,data)">
                                            <option value=""
                                                [selected]="data.transactionsType == null || data.transactionsType == ''">
                                                Select</option>
                                            <option value="NoOfTransaction" title="No. of Transaction"
                                                [selected]="data.transactionsType == 'NoOfTransaction'">
                                                No. of Trans
                                            </option>
                                            <option value="Perpetual" title="Perpetual"
                                                [selected]="data.transactionsType == 'Perpetual'">
                                                Perpetual</option>
                                            <option value="Defined Date" title="Defined Date"
                                                [selected]="data.transactionsType == 'Defined Date'">
                                                Def Date
                                            </option>
                                        </select>
                                    </td>
                                    <td>
                                        <input class="form-control wd-100" value="{{data.numberOfTransactions}}"
                                        onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                            (focusout)="getsaveNumberTransaction($event.target.value,data)"
                                            [disabled]="data.transactionsType != 'NoOfTransaction'">
                                    </td>
                                    <td>
                                        <div class="p-d-inline-flex">
                                            <div class="form-group mb-0  mt-1 SMDatepickerWidth">
                                                <div class="input-group">
                                                    <input data-provide="datepicker" data-date-autoclose="true"
                                                        [minDate]="setMinToDate" [maxDate]="effectiveToDate"
                                                        [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"
                                                        placeholder="Date" bsDatepicker
                                                        value="{{data.toDate | date : 'dd-MMM-yyyy'}}"
                                                        (bsValueChange)="getSaveToDate($event,data)"
                                                        class="form-control wd-120"
                                                        [disabled]="data.transactionsType != 'Defined Date'">
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <!-- onkeypress="return event.charCode >= 48 && event.charCode <= 57" -->
                                        <input type="number" class="form-control wd-100" value="{{data.quantity}}"
                                        
                                            (focusout)="saveAmounts($event.target.value,data)">
                                    </td>
                                    <td>
                                        <input type="text" class="form-control wd-100" value="{{data.remark}}"
                                            (focusout)="saveRemarks($event.target.value,data)">
                                    </td>
                                    <!-- <td>
                                        <i class="fa fa-deviantart text-blue font-18 cursor-pointer"
                                            aria-hidden="true"></i>
                                    </td> -->
                                    <td>
                                        <i class="fa fa-times  font-18 text-red cursor-pointer" aria-hidden="true"
                                            (click)="removeDataFromSave(rowIndex)"></i>&nbsp;
                                    </td>
                                    <td>
                                        <div class="col-md-2" *ngIf="data.deviationCount">
                                            <div class="custom_Label_badge bagde1">
                                                <button class="btn defaultbtn"
                                                    (click)="editdeviationPopupOpen(editdeviationPopup,data,rowIndex)">
                                                    <i class="fa fa-deviantart font-16 text-blue cursor-pointer"
                                                        aria-hidden="true">
                                                    </i></button>
                                                <span class="Label_badge"
                                                    style="text-align: center;">{{data.deviationCount}}</span>
                                            </div>
                                        </div>
                                    </td>
                                </tr>

                            </ng-template>

                            <ng-template pTemplate="emptymessage">
                                <tr>
                                    <td colspan="15" class="font-14 font500 text-center text-red">
                                        <span>No Data
                                            Available</span>
                                    </td>
                                </tr>
                            </ng-template>

                        </p-table>
                        <br>
                        <p-table [value]="tempTableData" *ngIf="tempTableData.length > 0">

                            <ng-template pTemplate="header">
                                <tr>
                                    <th rowspan="2" class="wd-2 text-center">Sr. No.</th>
                                    <th rowspan="2" class="wd-4 text-center">
                                        <div class="p-d-flex p-jc-between p-ai-center">Emp. Code
                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="employeeCode" pSortableColumn="employeeCode">
                                                </p-sortIcon>
                                                <p-columnFilter type="text" field="employeeCode" display="menu"
                                                    class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-4 text-center">
                                        <div class="p-d-flex p-jc-between p-ai-center"> Emp. Name
                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="employeeName" pSortableColumn="employeeName">
                                                </p-sortIcon>
                                                <p-columnFilter type="text" field="employeeName" display="menu"
                                                    class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-10 text-center">
                                        <div class="p-d-flex p-jc-between p-ai-center" style="margin-left:25px;">
                                            Payroll Area
                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="payrollAreaCode" pSortableColumn="payrollAreaCode">
                                                </p-sortIcon>
                                                <p-columnFilter type="text" field="payrollAreaCode" display="menu"
                                                    class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-8 text-center">
                                        <div class="p-d-flex justify-content-center p-ai-center">
                                            From Date
                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="fromDate" pSortableColumn="fromDate"></p-sortIcon>
                                                <p-columnFilter typpe="date" field="fromDate" display="menu" class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-10 text-center">
                                        <div class="p-d-flex p-jc-between p-ai-center" style="margin-left:58px;">Type
                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="transactionsType" pSortableColumn="transactionsType">
                                                </p-sortIcon>
                                                <p-columnFilter field="transactionsType" display="menu" class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-10 text-center">
                                        <div class="p-d-flex p-jc-between p-ai-center" style="margin-left:25px;">No. of
                                            Trans.
                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="numberOfTransactions" pSortableColumn="numberOfTransactions">
                                                </p-sortIcon>
                                                <p-columnFilter field="numberOfTransactions" display="menu" class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-8 text-center">
                                        <div class="p-d-flex p-jc-between p-ai-center">To Date
                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="toDate" pSortableColumn="toDate">
                                                </p-sortIcon>
                                                <p-columnFilter type="date" field="toDate" display="menu" class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-6 text-center">
                                        <div class="p-d-flex p-jc-between p-ai-center">Clawback
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-4 text-center">
                                        <div class="p-d-flex p-jc-between p-ai-center"> Amount

                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="amount" pSortableColumn="amount">
                                                </p-sortIcon>
                                                <p-columnFilter type="number" field="amount" matchMode="equals" display="menu"
                                                    class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-4 text-center">
                                        <div class="p-d-flex p-jc-between p-ai-center"> Remark

                                            <div class="Sort_Filter_Position">
                                                <p-sortIcon field="remark" pSortableColumn="remark">
                                                </p-sortIcon>
                                                <p-columnFilter type="text" field="remark" display="menu"
                                                    class="p-ml-auto">
                                                </p-columnFilter>
                                            </div>
                                        </div>
                                    </th>
                                    <th rowspan="2" class="wd-2 text-center"></th>
                                    <th rowspan="2" class="wd-3 text-center"> Action </th>
                                </tr>

                            </ng-template>

                            <ng-template pTemplate="body" let-data let-rowIndex=rowIndex>
                                <tr class="p-selectable-row">
                                    <td class="text-center">{{rowIndex+1}}</td>
                                    <td>{{data.employeeCode}}</td>
                                    <td>{{data.employeeName}}</td>
                                    <td>
                                        {{data.payrollAreaCode}}
                                    </td>
                                    <td>
                                        {{data.fromDate}}
                                    </td>
                                    <td>
                                        {{data.transactionsType}}
                                    </td>
                                    <td>
                                        {{data.numberOfTransactions}}
                                    </td>

                                    <td>
                                        {{data.toDate}}
                                    </td>
                                    <td>
                                        {{data.clawbackApplicableAt}}
                                    </td>
                                    <td>
                                        {{data.amount}}
                                    </td>
                                    <td>
                                        {{data.remark}}
                                    </td>
                                    <td></td>
                                    <td>
                                        <i class="fa fa-times  font-18 text-red cursor-pointer" aria-hidden="true"
                                            (click)="removeTempDataFromSave(index)"></i>&nbsp;
                                    </td>
                                </tr>
                            </ng-template>

                            <ng-template pTemplate="emptymessage">
                                <tr>
                                    <td colspan="15" class="font-14 font500 text-center text-red">
                                        <span>No Data
                                            Available</span>
                                    </td>
                                </tr>
                            </ng-template>

                        </p-table>




                    </div>
                </div>

                <!-- Button-->
                <div class="row mt-15">
                    <div class="col-12">
                        <div class="float-right mb-15">
                            <button type="submit"
                                class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple"
                                tooltip="Save" (click)="saveFastEntries()"
                                [ngClass]="{'disabled-btn-bg-green' : saveTransactionData.length == 0 || saveDisabledBtn}"
                                [disabled]="saveTransactionData.length == 0 || saveDisabledBtn">
                                <b><i class="fa fa-floppy-o"></i></b> Save 
                            </button>&nbsp;
                            <button type="submit"
                                class="custom_button custom_btn  btn-bg-green btn-labeled btn-labeled-left ripple"
                                tooltip="Save & Clear" (click)="saveAndClearFastEntries()"
                                [ngClass]="{'disabled-btn-bg-green' : saveTransactionData.length == 0 || saveDisabledBtn}"
                                [disabled]="saveTransactionData.length == 0 || saveDisabledBtn">
                                <b><i class="fa fa-floppy-o"></i></b>Save & Clear
                            </button>&nbsp;
                            <button type="button"
                                class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left "
                                tooltip="Reset" (click)="resetTableData()">
                                <b><i class="fa fa-refresh"></i></b> Reset</button>
                        </div>
                    </div>
                </div>

            </div>
        <!-- </div> -->
    <!-- </div> -->
    <!-- <app-footer></app-footer> -->


    <!-- Edit deviation and repeat-->
    <ng-template #editdeviationPopup>

        <div class="modal-header">
            <h5 class="modal-title" id="UploadModalLabel">Deviation</h5>
            <button type="button" (click)="modalRef.hide()" class="close" data-dismiss="modal" aria-label="Close"><span
                    aria-hidden="true">×</span></button>
        </div>
        <div class="modal-body">
            <div class="card">
                <div class="card-body">
                    <div class="row clearfix">
                        <div class="col-md-12">
                            <br>
                            <div class="tabset">
                                <!-- Tab 1 -->
                                <input type="radio" name="tabset" id="tab1" aria-controls="marzen" checked>
                                <!-- <div class="col-md-2" >
                                <div class="custom_Label_badge bagde1"> -->
                                <label for="tab1">Deviation</label>
                                <!-- <span class="Label_badge" style="text-align: center;">{{deviationCount}}</span>
                                </div>
                            </div> -->

                                <!-- Tab 2 -->
                                <input type="radio" name="tabset" id="tab2" aria-controls="rauchbier">
                                <label for="tab2">Repetitive Entry</label>

                                <div class="tab-panels">
                                    <section id="marzen" class="tab-panel">
                                        <div class="row mb-10">
                                            <div class="col-sm-6 col-md-3" *ngIf="employeeFinDetailsData">
                                                <label class="form-label">Emp. Code</label>
                                                <input type="text" class="form-control"
                                                    value="{{employeeFinDetailsData.employeeCode}}" disabled />
                                            </div>
                                            <div class=" col-sm-6 col-md-3" *ngIf="employeeFinDetailsData">
                                                <label class="form-label">Emp. Name</label>
                                                <input type="text" class="form-control"
                                                    value="{{employeeFinDetailsData.fullName}}" disabled />
                                            </div>
                                            <div class="col-sm-6 col-md-3" *ngIf="selectedDevData">
                                                <label class="form-label">Head</label>
                                                <input type="text" class="form-control"
                                                    value="{{selectedDevData.headDescription}}" disabled />
                                            </div>
                                            <div class="col-sm-6 col-md-3">
                                                <label class="form-label">Type</label>
                                                <input type="text" class="form-control"
                                                    value="{{selectedDevData.headType}}" disabled />
                                            </div>
                                        </div>
                                        <br>

                                        <p-table [value]="deviationModeData" [paginator]="true" [rows]="10"
                                            [showCurrentPageReport]="true"
                                            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                            [rowsPerPageOptions]="[10,25,50,100,200]">

                                            <ng-template pTemplate="header">
                                                <tr>

                                                    <th rowspan="2">
                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                            Attribute

                                                            <div class="Sort_Filter_Position">
                                                                <p-sortIcon field="Attribute"
                                                                    pSortableColumn="Attribute">
                                                                </p-sortIcon>
                                                                <p-columnFilter type="text" field="name" display="menu"
                                                                    class="p-ml-auto"></p-columnFilter>
                                                            </div>
                                                        </div>
                                                    </th>

                                                    <th rowspan="2">
                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                            Nature
                                                            <div class="Sort_Filter_Position">
                                                                <p-sortIcon field="Attribute"
                                                                    pSortableColumn="Attribute">
                                                                </p-sortIcon>
                                                                <p-columnFilter type="text" field="name" display="menu"
                                                                    class="p-ml-auto"></p-columnFilter>
                                                            </div>
                                                        </div>
                                                    </th>

                                                    <th rowspan="2">
                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                            Group ID

                                                            <div class="Sort_Filter_Position">
                                                                <p-sortIcon field="Attribute"
                                                                    pSortableColumn="Attribute">
                                                                </p-sortIcon>
                                                                <p-columnFilter field="representative" matchMode="in"
                                                                    display="menu" [showMatchModes]="false"
                                                                    [showOperator]="false" [showAddButton]="false"
                                                                    class="p-ml-auto">
                                                                    <ng-template pTemplate="header">
                                                                        <div class="p-px-3 p-pt-3 p-pb-0">
                                                                            <span class="p-text-bold">Agent
                                                                                Picker</span>
                                                                        </div>
                                                                    </ng-template>

                                                                </p-columnFilter>
                                                            </div>
                                                        </div>
                                                    </th>
                                                    <th colspan="3">
                                                        <div class="p-d-flex p-jc-between p-ai-center ml-60">
                                                            Deviation Nature

                                                        </div>
                                                    </th>
                                                    <th colspan="2">
                                                        <div class="p-d-flex p-jc-between p-ai-center ml-50">
                                                            Values

                                                        </div>
                                                    </th>
                                                    <th colspan="2">
                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                            Deviation Values

                                                        </div>
                                                    </th>
                                                    <th rowspan="2">
                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                            Remark
                                                            <div class="Sort_Filter_Position">
                                                                <p-sortIcon field="Attribute"
                                                                    pSortableColumn="Attribute">
                                                                </p-sortIcon>
                                                                <p-columnFilter type="date" field="date" display="menu"
                                                                    class="p-ml-auto"></p-columnFilter>
                                                            </div>
                                                        </div>
                                                    </th>
                                                    <th rowspan="2">
                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                            Status
                                                            <div class="Sort_Filter_Position">
                                                                <p-sortIcon field="Attribute"
                                                                    pSortableColumn="Attribute">
                                                                </p-sortIcon>
                                                                <p-columnFilter type="date" field="date" display="menu"
                                                                    class="p-ml-auto"></p-columnFilter>
                                                            </div>
                                                        </div>
                                                    </th>
                                                </tr>
                                                <tr>
                                                    <th rowspan="2">
                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                            Once Every
                                                            <div class="Sort_Filter_Position">
                                                                <p-sortIcon field="Attribute"
                                                                    pSortableColumn="Attribute">
                                                                </p-sortIcon>
                                                                <p-columnFilter type="date" field="date" display="menu"
                                                                    class="p-ml-auto"></p-columnFilter>
                                                            </div>
                                                        </div>
                                                    </th>
                                                    <th rowspan="2">
                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                            Frequency
                                                            <div class="Sort_Filter_Position">
                                                                <p-sortIcon field="Attribute"
                                                                    pSortableColumn="Attribute">
                                                                </p-sortIcon>
                                                                <p-columnFilter type="date" field="date" display="menu"
                                                                    class="p-ml-auto"></p-columnFilter>
                                                            </div>
                                                        </div>
                                                    </th>
                                                    <th rowspan="2">
                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                            Type
                                                            <div class="Sort_Filter_Position">
                                                                <p-sortIcon field="Attribute"
                                                                    pSortableColumn="Attribute">
                                                                </p-sortIcon>
                                                                <p-columnFilter type="date" field="date" display="menu"
                                                                    class="p-ml-auto"></p-columnFilter>
                                                            </div>
                                                        </div>
                                                    </th>
                                                    <th rowspan="2">
                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                            Amount Entered

                                                            <div class="Sort_Filter_Position">
                                                                <p-sortIcon field="Attribute"
                                                                    pSortableColumn="Attribute">
                                                                </p-sortIcon>
                                                                <p-columnFilter type="date" field="date" display="menu"
                                                                    class="p-ml-auto"></p-columnFilter>
                                                            </div>
                                                        </div>
                                                    </th>
                                                    <th rowspan="2">
                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                            Limit
                                                            <div class="Sort_Filter_Position">
                                                                <p-sortIcon field="Attribute"
                                                                    pSortableColumn="Attribute">
                                                                </p-sortIcon>
                                                                <p-columnFilter type="date" field="date" display="menu"
                                                                    class="p-ml-auto"></p-columnFilter>
                                                            </div>
                                                        </div>
                                                    </th>
                                                    <th rowspan="2">
                                                        Amount
                                                    </th>
                                                    <th rowspan="2">
                                                        <div class="p-d-flex p-jc-between p-ai-center">
                                                            %
                                                            <div class="Sort_Filter_Position">
                                                                <p-sortIcon field="Attribute"
                                                                    pSortableColumn="Attribute">
                                                                </p-sortIcon>
                                                                <p-columnFilter type="text" field="name" display="menu"
                                                                    class="p-ml-auto"></p-columnFilter>
                                                            </div>
                                                        </div>
                                                    </th>
                                                </tr>

                                            </ng-template>

                                            <ng-template pTemplate="body" let-data>
                                                <tr class="p-selectable-row">

                                                    <td class="bg-color-light_gray">
                                                        <label class="form-lable mb-0">{{data.attributeName}}</label>
                                                    </td>
                                                    <td class="bg-color-light_gray">
                                                        <label class="form-lable mb-0">{{data.attributeNature}}</label>
                                                    </td>
                                                    <td class="bg-color-light_gray">
                                                        <label
                                                            class="form-lable mb-0">{{data.nonRecurringTransactionGroupId}}</label>
                                                    </td>
                                                    <td class="bg-color-light_gray">
                                                        <label class="form-lable mb-0">{{data.onceEvery}}</label>
                                                    </td>
                                                    <td class="bg-color-light_gray">
                                                        <label class="form-lable mb-0">{{data.frequency}}</label>
                                                    </td>
                                                    <td class="bg-color-light_gray">
                                                        <label class="form-lable mb-0">{{data.deviationType}}</label>
                                                    </td>
                                                    <td class="bg-color-light_gray">
                                                        <label class="form-lable mb-0"
                                                            style="text-align: right;">{{data.actualAmount | number:
                                                            '1.2-2'}}</label>
                                                    </td>
                                                    <td class="bg-color-light_gray">
                                                        <label class="form-lable mb-0"
                                                            style="text-align: right;">{{data.deviationAmountLimit |
                                                            number:
                                                            '1.2-2'}}</label>
                                                    </td>
                                                    <td class="bg-color-light_gray">
                                                        <label class="form-lable mb-0"
                                                            style="text-align: right;">{{data.deviationAmount | number:
                                                            '1.2-2'}}</label>
                                                    </td>
                                                    <td class="bg-color-light_gray">
                                                        <label class="form-lable mb-0"
                                                            style="text-align: right;">{{getDeviationPercentage(data)}}</label>
                                                    </td>
                                                    <td class="bg-color-light_gray">
                                                        <input type="" class="form-control" value="{{data.remark}}"
                                                            (focusout)="deviationRemark($event.target.value, data)">
                                                    </td>
                                                    <td class="bg-color-light_gray">
                                                        {{data.status}}
                                                    </td>
                                                </tr>
                                            </ng-template>

                                            <ng-template pTemplate="emptymessage">
                                                <tr>
                                                    <td colspan="15" class="font-14 font500 text-center text-red">
                                                        <span>No
                                                            Data
                                                            Available</span></td>
                                                </tr>
                                            </ng-template>

                                        </p-table>

                                        <br>
                                        <!-- <div class="float-left d-flex justify-content">
                                        <label class="form-label mt-2">Remark</label>&nbsp;
                                        <textarea type="text"></textarea>
                                    </div> -->
                                        <br>
                                        <br>
                                        <div class="row mt-15 float-right">

                                            <div class="float-right ">
                                                <button type="button" [disabled]="devationRemarkText == ''"
                                                    (click)="updateDeviationRepeatData(selectedDevData)"
                                                    class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ripple"
                                                    [ngClass]="{'disabled-btn' : devationRemarkText == ''}"
                                                    tooltip="Save"><b>
                                                        <i class="fa fa-times"></i></b> Save</button>&nbsp;
                                            </div>
                                        </div>
                                    </section>

                                    <section id="rauchbier" class="tab-panel">
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="card">
                                                    <div class="row mb-0">
                                                        <div class="col-md-12">
                                                            <div class="row mb-10">
                                                                <div class="col-sm-6 col-md-3"
                                                                    *ngIf="employeeFinDetailsData">
                                                                    <label class="form-label">Emp. Code</label>
                                                                    <input type="text" class="form-control"
                                                                        value="{{employeeFinDetailsData.employeeCode}}"
                                                                        disabled />
                                                                </div>
                                                                <div class=" col-sm-6 col-md-3"
                                                                    *ngIf="employeeFinDetailsData">
                                                                    <label class="form-label">Emp. Name</label>
                                                                    <input type="text" class="form-control"
                                                                        value="{{employeeFinDetailsData.fullName}}"
                                                                        disabled />
                                                                </div>
                                                                <div class="col-sm-6 col-md-3" *ngIf="selectedDevData">
                                                                    <label class="form-label">Head</label>
                                                                    <input type="text" class="form-control"
                                                                        value="{{selectedDevData.headDescription}}"
                                                                        disabled />
                                                                </div>
                                                                <div class="col-sm-6 col-md-3">
                                                                    <label class="form-label">Type</label>
                                                                    <input type="text" class="form-control"
                                                                        value="{{selectedDevData.headType}}" disabled />
                                                                </div>
                                                            </div>
                                                            <br>

                                                            <p-table [value]="repeatModeData" [paginator]="true"
                                                                [rows]="10" [showCurrentPageReport]="true"
                                                                currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                                                                [rowsPerPageOptions]="[10,25,50]">

                                                                <ng-template pTemplate="header">
                                                                    <tr>

                                                                        <th rowspan="2">

                                                                        </th>

                                                                        <th rowspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Group ID

                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="Attribute"
                                                                                        pSortableColumn="Attribute">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter type="text"
                                                                                        field="name" display="menu"
                                                                                        class="p-ml-auto">
                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>

                                                                        <th rowspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Once Every
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="Attribute"
                                                                                        pSortableColumn="Attribute">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter
                                                                                        field="representative"
                                                                                        matchMode="in" display="menu"
                                                                                        [showMatchModes]="false"
                                                                                        [showOperator]="false"
                                                                                        [showAddButton]="false"
                                                                                        class="p-ml-auto">
                                                                                        <ng-template pTemplate="header">
                                                                                            <div
                                                                                                class="p-px-3 p-pt-3 p-pb-0">
                                                                                                <span
                                                                                                    class="p-text-bold">Agent
                                                                                                    Picker</span>
                                                                                            </div>
                                                                                        </ng-template>

                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>

                                                                        <th rowspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Frequency
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="Attribute"
                                                                                        pSortableColumn="Attribute">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter type="date"
                                                                                        field="date" display="menu"
                                                                                        class="p-ml-auto">
                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>

                                                                        <th rowspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                From Date
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="Attribute"
                                                                                        pSortableColumn="Attribute">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter type="date"
                                                                                        field="date" display="menu"
                                                                                        class="p-ml-auto">
                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th rowspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Type
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="Attribute"
                                                                                        pSortableColumn="Attribute">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter type="date"
                                                                                        field="date" display="menu"
                                                                                        class="p-ml-auto">
                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th rowspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                No. of Trans.
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="Attribute"
                                                                                        pSortableColumn="Attribute">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter type="date"
                                                                                        field="date" display="menu"
                                                                                        class="p-ml-auto">
                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th rowspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                To Date
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="Attribute"
                                                                                        pSortableColumn="Attribute">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter type="date"
                                                                                        field="date" display="menu"
                                                                                        class="p-ml-auto">
                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th rowspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Amount
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="Attribute"
                                                                                        pSortableColumn="Attribute">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter type="date"
                                                                                        field="date" display="menu"
                                                                                        class="p-ml-auto">
                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th rowspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Status
                                                                                <div class="Sort_Filter_Position">
                                                                                    <p-sortIcon field="Attribute"
                                                                                        pSortableColumn="Attribute">
                                                                                    </p-sortIcon>
                                                                                    <p-columnFilter type="date"
                                                                                        field="date" display="menu"
                                                                                        class="p-ml-auto">
                                                                                    </p-columnFilter>
                                                                                </div>
                                                                            </div>
                                                                        </th>
                                                                        <th colspan="2">
                                                                            <div
                                                                                class="p-d-flex p-jc-between p-ai-center">
                                                                                Remark

                                                                            </div>
                                                                        </th>

                                                                    </tr>

                                                                </ng-template>

                                                                <ng-template pTemplate="body" let-data>
                                                                    <tr class="p-selectable-row">

                                                                        <td class="bg-color-light_gray">
                                                                            <label
                                                                                class="form-lable mb-0">Current</label>
                                                                        </td>
                                                                        <td class="bg-color-light_gray">
                                                                            <label
                                                                                class="form-lable mb-0">{{data.nonRecurringTransactionGroupId}}</label>
                                                                        </td>
                                                                        <td class="bg-color-light_gray">
                                                                            <label
                                                                                class="form-lable mb-0">{{data.onceEvery}}</label>
                                                                        </td>
                                                                        <td class="bg-color-light_gray">
                                                                            <label
                                                                                class="form-lable mb-0">{{data.frequency}}</label>
                                                                        </td>
                                                                        <td class="bg-color-light_gray">
                                                                            <label
                                                                                class="form-lable mb-0">{{data.fromDate
                                                                                |
                                                                                date:'dd-MMM-yyyy'}}</label>
                                                                        </td>
                                                                        <td class="bg-color-light_gray">
                                                                            <label class="form-lable mb-0"></label>
                                                                        </td>
                                                                        <td class="bg-color-light_gray">
                                                                            <label class="form-lable mb-0"></label>
                                                                        </td>
                                                                        <td class="bg-color-light_gray">
                                                                            <div class="input-group">
                                                                                <div class="input-group-prepend">
                                                                                    <span class="input-group-text">
                                                                                        <i class="fa fa-calendar"></i>
                                                                                    </span>
                                                                                </div>
                                                                                <input data-provide="datepicker"
                                                                                    data-date-autoclose="true"
                                                                                    class="form-control"
                                                                                    placeholder="Date" bsDatepicker>
                                                                            </div>
                                                                        </td>
                                                                        <td class="bg-color-light_gray">
                                                                            <label
                                                                                class="form-lable mb-0">{{data.actualAmount}}</label>
                                                                        </td>
                                                                        <td class="bg-color-light_gray">
                                                                            <label
                                                                                class="form-lable mb-0">{{data.status}}</label>
                                                                        </td>
                                                                        <td class="bg-color-light_gray">
                                                                            <input type="text" class="form-control"
                                                                                value="{{data.remark}}"
                                                                                (focusout)="repeatRemark($event.target.value,data)">
                                                                        </td>
                                                                    </tr>
                                                                </ng-template>

                                                                <ng-template pTemplate="emptymessage">
                                                                    <tr>
                                                                        <td colspan="15"
                                                                            class="font-14 font500 text-center text-red">
                                                                            <span>No Data
                                                                                Available</span>
                                                                        </td>
                                                                    </tr>
                                                                </ng-template>

                                                            </p-table>
                                                            <br>

                                                            <div class="row mt-15 float-right">

                                                                <div class="float-right ">

                                                                    <button type="submit"
                                                                        [disabled]="repeatRemarkText == ''"
                                                                        class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple"
                                                                        [ngClass]="{'disabled-btn' : repeatRemarkText == ''}"
                                                                        tooltip="Save"
                                                                        (click)="updateDeviationRepeatData(selectedDevData)"><b>
                                                                            <i class="fa fa-files-o"></i></b> Save
                                                                    </button>&nbsp;

                                                                </div>


                                                            </div>

                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </section>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </ng-template>