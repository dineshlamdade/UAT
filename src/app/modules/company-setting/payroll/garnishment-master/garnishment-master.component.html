<app-leftmenu></app-leftmenu>
<form class="card" role="form" (ngSubmit)="addMaster(form,formDirective)" [formGroup]="form" #formDirective="ngForm" method="post" novalidate>
  <div class="page">
    <app-header></app-header>
  <div class="tabview-contents">
    <div class="row mt-25">
      <div class="col-12">
         <fieldset>
            <legend>Ganishment Details</legend>
            <div class="row">
               <div class="col-sm-6 col-md-3">
                  <label class="form-label">Code</label>
                  <select name="code" id="FrequencyofPayment" 
                      formControlName="code" class="form-control custom-select" 
                      [ngClass]="{ 'is-invalid': submitted && masterForm.code.errors }">
                    <option>
                      code
                    </option>
                  </select>
                  <div *ngIf="submitted && masterForm.code.errors" class="invalid-feedback">
                     <div *ngIf="masterForm.code.errors.required">code is mandatory</div>
                  </div>
               </div>
               
               <div class="col-sm-6 col-md-3">
                  <label class="form-label">Description</label>
                  <input type="text" formControlName="description" class="form-control align-right" 
                    name="description" [ngClass]="{ 'is-invalid': submitted && masterForm.description.errors }">
                  <!-- <div *ngIf="submitted && masterForm.description.errors" class="invalid-feedback">
                     <div *ngIf="masterForm.description.errors.required">Description is mandatory</div>
                  </div> -->
               </div>
               <div class="col-sm-6 col-md-3">
                  <label class="form-label">Contact Person Name</label>
                  <input type="text"  formControlName="contactNumber"
                    class="form-control align-right" name="contactNumber" [ngClass]="{ 'is-invalid': submitted && masterForm.contactNumber.errors }">
                  <!-- <div *ngIf="submitted && masterForm.contactNumber.errors" class="invalid-feedback">
                     <div *ngIf="masterForm.contactNumber.errors.required">Annual Amount is mandatory</div>
                  </div> -->
               </div>
               <div class="col-sm-6 col-md-3">
                <label class="form-label">Phone Number</label>
                <div class="form-group">
                   <div class="input-group">
                      <div class="input-group-prepend">
                         <span class="input-group-text"><i
                            class=""></i></span>
                      </div>
                      <input type="text"  formControlName="contactNumber"
                      class="form-control align-right" name="contactNumber" [ngClass]="{ 'is-invalid': submitted && masterForm.contactNumber.errors }">
                    
                      <!-- <div *ngIf="submitted && masterForm.contactNumber.errors" class="invalid-feedback">
                         <div *ngIf="masterForm.fromDate.errors.required">From Date is mandatory</div>
                      </div> -->
                   </div>
                </div>
             </div>
            </div>
            <div class="row mt-4 mb-10">
              <div class="col-sm-6 col-md-3">
                <label class="form-label">Email Id</label>
                <input type="text" formControlName="emailId" class="form-control align-right"   name="emailId" [ngClass]="{ 'is-invalid': submitted && masterForm.emailId.errors }">
                <!-- <div *ngIf="submitted && masterForm.emailId.errors" class="invalid-feedback">
                   <div *ngIf="masterForm.description.errors.required">Premium Amount is mandatory</div>
                </div> -->
            </div>
            <div class="col-sm-6 col-md-3">
              <label class="form-label">Address1</label>
              <input type="text" formControlName="address1" class="form-control align-right" 
                name="address1" [ngClass]="{ 'is-invalid': submitted && masterForm.address1.errors }">
              <!-- <div *ngIf="submitted && masterForm.address1.errors" class="invalid-feedback">
                 <div *ngIf="masterForm.description.errors.required">Premium Amount is mandatory</div>
              </div> -->
           </div>
           <div class="col-sm-6 col-md-3">
            <label class="form-label">Address2</label>
            <input type="text" formControlName="address2" class="form-control align-right" 
              name="address2" [ngClass]="{ 'is-invalid': submitted && masterForm.address2.errors }">
            <!-- <div *ngIf="submitted && masterForm.address2.errors" class="invalid-feedback">
               
            </div> -->
         </div>
         <div class="col-sm-6 col-md-3">
          <label class="form-label">Address3</label>
          <input type="text" formControlName="address3" class="form-control align-right" 
            name="address3" [ngClass]="{ 'is-invalid': submitted && masterForm.address3.errors }">
          <!-- <div *ngIf="submitted && masterForm.address3.errors" class="invalid-feedback">
             <div *ngIf="masterForm.description.errors.required">Premium Amount is mandatory</div>
          </div> -->
       </div>
       
            </div>
            <div class="row mt-4 mb-10">
              <div class="col-sm-6 col-md-3">
                  <label class="form-label">Country</label>
                  <select name="country" id="country" 
                      formControlName="country" class="form-control custom-select" 
                      [ngClass]="{ 'is-invalid': submitted && masterForm.country.errors }">
                    <option>
                      code
                    </option>
                  </select>
                  <!-- <div *ngIf="submitted && masterForm.country.errors" class="invalid-feedback">
                     <div *ngIf="masterForm.errors.required">country is mandatory</div>
                  </div> -->
               </div>
             <div class="col-sm-6 col-md-3">
              <label class="form-label">PIN</label>
              <select name="pin" id="pin"
                  formControlName="pin" class="form-control custom-select"
                  [ngClass]="{ 'is-invalid': submitted && masterForm.pin.errors }">
                <option>
                  select
                </option>
              </select>
              <!-- <div *ngIf="submitted && masterForm.pin.errors" class="invalid-feedback">
                 <div *ngIf="masterForm.pin.errors.required">Pin is mandatory</div>
              </div> -->
           </div>
           <div class="col-sm-6 col-md-3">
            <label class="form-label">State</label>
            <input type="text" formControlName="state" class="form-control align-right" 
              name="state" [ngClass]="{ 'is-invalid': submitted && masterForm.state.errors }">
            <!-- <div *ngIf="submitted && masterForm.state.errors" class="invalid-feedback">
               <div *ngIf="masterForm.description.errors.required">Premium Amount is mandatory</div>
            </div> -->
         </div>
         <div class="col-sm-6 col-md-3">
          <label class="form-label">City</label>
          <input type="text" formControlName="city" class="form-control align-right" 
            name="city" [ngClass]="{ 'is-invalid': submitted && masterForm.city.errors }">
          <!-- <div *ngIf="submitted && masterForm.city.errors" class="invalid-feedback">
             <div *ngIf="masterForm.description.errors.required">Premium Amount is mandatory</div>
          </div> -->
       </div>
       
            </div>
            <div class="row mt-4 mb-10">
              <div class="col-sm-6 col-md-3">
                <label class="form-label">Village</label>
                <input type="text" formControlName="village" class="form-control align-right"   name="village" [ngClass]="{ 'is-invalid': submitted && masterForm.description.errors }">
                <!-- <div *ngIf="submitted && masterForm.village.errors" class="invalid-feedback">
                   <div *ngIf="masterForm.description.errors.required">Premium Amount is mandatory</div>
                </div> -->
            </div>
            <div class="col-sm-6 col-md-3">
              <label class="form-label">PAN</label>
              <input type="text" formControlName="pan" class="form-control align-right" 
                name="pan" [ngClass]="{ 'is-invalid': submitted && masterForm.pan.errors }">
              <!-- <div *ngIf="submitted && masterForm.pan.errors" class="invalid-feedback">
                 <div *ngIf="masterForm.description.errors.required">Premium Amount is mandatory</div>
              </div> -->
           </div>
           <div class="col-sm-6 col-md-3">
            <label class="form-label">Account No. in Payee Book</label>
            <input type="text" formControlName="accountNoPayeeBook" class="form-control align-right" 
              name="accountNoPayeeBook" [ngClass]="{ 'is-invalid': submitted && masterForm.accountNoPayeeBook.errors }">
            <!-- <div *ngIf="submitted && masterForm.accountNoPayeeBook.errors" class="invalid-feedback">
               <div *ngIf="masterForm.description.errors.required">Premium Amount is mandatory</div>
            </div> -->
         </div>
        
       
            </div>
            
           
         </fieldset>
      </div>
   </div>
     <div class="row mt-25">
        <div class="col-12">
           <fieldset>
              <legend>Computation Details</legend>
              <div class="row">
                 <div class="col-sm-6 col-md-3">
                    <label class="form-label">Deduction Head</label>
                    <select name="deductionHead" id="deductionHead" 
                        formControlName="deductionHead" class="form-control custom-select"
                        [ngClass]="{ 'is-invalid': submitted && masterForm.deductionHead.errors}">
                      <option>
                        select
                      </option>
                    </select>
                    <div *ngIf="submitted && masterForm.deductionHead.errors" class="invalid-feedback">
                       <div *ngIf="masterForm.deductionHead.errors.required">deductionHead is mandatory</div>
                    </div>
                 </div>
                 
                 <div class="col-sm-6 col-md-3">
                  <label class="form-label">Formula</label>
                  <select name="formula" id="formula" 
                      formControlName="formula" class="form-control custom-select"
                      [ngClass]="{ 'is-invalid': submitted && masterForm.formula.errors }">
                    <option>
                      select
                    </option>
                  </select>
                  <div *ngIf="submitted && masterForm.formula.errors" class="invalid-feedback">
                     <div *ngIf="masterForm.formula.errors.required">formula is mandatory</div>
                  </div>
               </div>
               <div class="col-sm-6 col-md-3">
                <label class="form-label">SDM</label>
                <select name="sdm" id="sdm" 
                    formControlName="sdm" class="form-control custom-select"
                    [ngClass]="{ 'is-invalid': submitted && masterForm.sdm.errors }">
                  <option>
                    select
                  </option>
                </select>
                <div *ngIf="submitted && masterForm.sdm.errors" class="invalid-feedback">
                   <div *ngIf="masterForm.sdm.errors.required">SDM is mandatory</div>
                </div>
             </div>
             <div class="col-sm-6 col-md-3">
              <label class="form-label">Frequency/ies</label>
              <select name="frequency" id="frequency" 
                  formControlName="frequency" class="form-control custom-select"
                  [ngClass]="{ 'is-invalid': submitted && masterForm.frequency.errors }">
                <option>
                  select
                </option>
              </select>
              <div *ngIf="submitted && masterForm.frequency.errors" class="invalid-feedback">
                 <div *ngIf="masterForm.frequency.errors.required">Frequency of Payment is mandatory</div>
              </div>
           </div>
              </div>
              <div class="row mt-4 mb-10">
                <div class="col-sm-6 col-md-3">
                  <label class="form-label">Income Tax Section</label>
                  <select name="incomeTexSection" id="incomeTexSection" 
                      formControlName="incomeTexSection" class="form-control custom-select"
                      [ngClass]="{ 'is-invalid': submitted && masterForm.incomeTexSection.errors }">
                    <option>
                      select
                    </option>
                  </select>
                  <div *ngIf="submitted && masterForm.incomeTexSection.errors" class="invalid-feedback">
                     <!-- <div *ngIf="masterForm.frequencyOfPayment.errors.required">Frequency of Payment is mandatory</div> -->
                  </div>
               </div>
               <div class="col-sm-6 col-md-3">
                <label class="form-label ml-15" tooltip="family member" placement="left">Family member</label>
                <div class="custom-controls-stacked ml-15 mt-10">
                   <label class="custom-control custom-radio custom-control-inline">
                   <input formControlName="familyMember" type="radio"
                      class="custom-control-input" name="familyMember"   value=1 checked>
                   <span class="custom-control-label">Yes</span>
                   </label>
                   <label class="custom-control custom-radio custom-control-inline">
                   <input formControlName="familyMember" type="radio"
                      class="custom-control-input" name="familyMember"  value=0>
                   <span class="custom-control-label">No</span>
                   </label>
                </div>
             </div>
             <div class="col-sm-6 col-md-3"> 
              <label class="form-label pl-10">Remark</label>
              <textarea formControlName="remark" [ngClass]="{'form-submitted': formDirective.submitted}"
               class="form-control align-right" rows="1"></textarea>
             </div>
              </div>
             
           </fieldset>
        </div>
     </div>
     
     <div class="row mt-25">
        <div class="col-md-3">
           <label class="custom-control custom-checkbox custom-control-inline pl-45">
           <input formControlName="active" type="checkbox" class="custom-control-input"
              name="example-inline-checkbox1" value="option1" checked
              (change)="deactivateRemark()">
           <span class="custom-control-label">Active </span>
           </label>
        </div>
        <div class="col-md-3">
           <label class="form-label pl-10">Remark</label>
           <textarea formControlName="remark" [ngClass]="{'form-submitted': formDirective.submitted}" class="form-control ml-10" rows="1"></textarea>
        </div>
     </div>
     <div class="row mt-15">
        <div class="col-12">
           <div class="float-right mb-15">
              <button type="submit" class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left ripple" tooltip="Save"><b>
                <i class="fa fa-floppy-o"></i></b>Save</button>

                <button type="button" tooltip="Reset" (click)="cancelView()"
                class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10">
                <b><i class="fa  fa-refresh"></i></b> Reset</button>
                
           </div>
           
        </div>
     </div>
     <div class="row mt-20">
        <div class="col-12">
           <div class="card">
              <div class="mb-0">
                 <h3 class="font-14 text-purple font-bold">Summary</h3>
              </div>
              <div class="">
                 <div class="table-responsive Custom_Table">
                  <table class="table table-striped table-hover table-bordered m-b-0">
                    <thead class="thead-dark">
                        <tr>
                          <th scope="col" class="wd-15">Sr. No.</th>
                          <th scope="col" class="wd-20"> Institution</th>
                          <th scope="col" class="wd-20">deduction Head</th>
                          <th scope="col" class="wd-20">Formula</th>
                          <th scope="col" class="wd-10">SDM</th>
                          <th scope="col" class="wd-20">income Tex Section</th>
                          <th scope="col" class="wd-20">Family member</th>
                          <th scope="col" class="wd-10">Active</th>
                          <th scope="col" class="wd-10">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let summary of masterGridData; let i = index">
                            <td class="align-left wd-15"><span tooltip="{{summary.institutionName}}">{{summary.institutionName}}</span>
                            </td>
                            <td class="wd-10"><span tooltip="{{summary.policyNo}}">{{summary.policyNo}}</span>
                            </td>
                            <td class="wd-10"><span tooltip="{{summary.policyholdername}}">{{summary.policyholdername}}</span>
                            </td>
                            <td class="wd-10"><span tooltip="{{summary.relationship}}">{{summary.relationship}}</span>
                            </td>
                            <td class="wd-10"><span tooltip="{{summary.policyEndDate}}">{{summary.policyStartDate | date :"dd-MMM-yyyy"}}</span>
                            </td>
                            <td class="wd-10"><span tooltip="{{summary.policyEndDate}}">{{summary.policyEndDate| date :"dd-MMM-yyyy"}}</span>
                            </td>
                            <td class="wd-10"><span tooltip="{{summary.frequencyOfPayment}}">{{summary.frequencyOfPayment}}</span>
                            </td>
                            <td class="wd-10"><span tooltip="{{summary.premiumAmount | number:'1.2-2'}}">{{summary.premiumAmount | number:'1.2-2'}}</span>
                            </td>
                            <td class="wd-10"><span tooltip="Submitted">Submitted</span>
                            </td>
                            <td class="wd-5">
                                <i class="fa fa-edit font-16 text-dark-green cursor-pointer" (click)="editMaster(i)" tooltip="Edit"></i> &nbsp;&nbsp;
                            </td>
                        </tr>
                        <tr *ngIf="!masterGridData?.length">
                            <td colspan="10">
                                <span class="font-14 font500 align-center text-red">No Data
                    Available</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
                 </div>
              </div>
           </div>
        </div>
     </div>
     <app-footer></app-footer>
  </div>
  </div>
  </form>

 