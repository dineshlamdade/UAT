<app-leftmenu></app-leftmenu>
<!-- Main body part  -->
<div class="page">
  <app-header></app-header>
  <div class="section-body mt-3">
    <div class="container-fluid">
      <div class="row clearfix">
        <div class="col-12">
          <div class="card">
            <div class="card-body">

              <form class="card" role="form" [formGroup]="AttributeGlobalForm" (ngSubmit)="addAttributeSelection()"
                method="post" novalidate>

                <div class="row">
                  <div class="col-sm-6 col-md-4">
                    <label class="form-label">Attribute Group Name</label>
                    <div class="input-group">
                      <input type="text" [readonly]="!disabled" formControlName="name" class="form-control"
                        placeholder="Enter Attribute Group Name" (keypress)="keyPressedSpaceNotAllow($event)"
                        [ngClass]="{'is-invalid' : AttributeGlobalForm.get('name').status == 'INVALID'}">
                    </div>
                  </div>
                  <div class="col-sm-6 col-md-4">
                    <label class="form-label">Description</label>
                    <div class="input-group">
                      <input type="text" [readonly]="!disabled" formControlName="description" class="form-control"
                        placeholder="Enter Description"
                        [ngClass]="{'is-invalid' : AttributeGlobalForm.get('description').status == 'INVALID'}">
                    </div>
                  </div>


                  <div class="col-sm-6 col-md-4" [ngClass]="[disabled ? 'searchclosebutton2' : 'disableDiv']">
                    <label class="form-label">Copy From</label>
                    <select (change)="onStatusChange($event);" name="attributeNature" id="attributeNature"
                      class="form-control" formControlName="attributeNature">
                      <option selected value=''>Select </option>
                      <option *ngFor="let by of AttributeSelectionList" [value]="by.name">
                        {{by.name}}
                      </option>
                    </select>
                  </div>
                  <br><br><br>



                </div>


                <!-- <div class="row mt-30"> -->
                <!-- <div class="col-5">
                    <div class="card">
                      <div class="">
                        <span class="form-label">Total Attributes:
                          <span class="font-14 text-dark-green"> ({{sourceProducts.length}})</span> &nbsp; &nbsp;
                          Selected Attributes:
                          <span class="font-14 text-dark-green">
                            ({{selectedUser.length}}) </span></span>
                        <div class="table-responsive Custom_Table height-350">
                          <table class="table  table-bordered m-b-0" id="myTable">
                            <thead class="thead-dark">
                              <tr>
                                <th scope="col" class="font700 wd-12">Code</th>
                                <th scope="col" class="font700 wd-20">Description</th>
                                <th scope="col" class="font700 wd-12">Nature</th>

                              </tr>
                            </thead>
                            <tbody>

                              <tr *ngFor=" let product of sourceProducts; let i=index"
                                (click)="RowSelected(product, i);" [class.active]="product.isHighlight"
                                (dblclick)="doubleClickOnLeftTable(product)">


                                <td class="align-left wd-30">
                                  <span tooltip="{{product.code}}">{{product.code}}</span>
                                </td>
                                <td class="align-left wd-40">
                                  <span tooltip="{{product.description}}">{{product.description}} </span>
                                </td>
                                <td class="align-left wd-30">
                                  <span tooltip="{{product.attributeNature}}">{{product.attributeNature}}</span>
                                </td>

                              </tr>
                              <tr *ngIf="!sourceProducts?.length">
                                <td colspan="3">
                                  <span class="font-14 font500 align-center text-red">No Data Available</span>
                                </td>

                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div> -->

                <!-- <div class="col-1">
                    <div class="row mt-150">
                      <div class="col-md-12 mt-10 text-center">
                        <button type="button" class="btn btn-sm bg-teal-400" (click)="lefttablePusg()"><i
                            class="fa fa-chevron-right"></i></button>
                      </div>
                      <div class="col-md-12 mt-10 text-center">
                        <button type="button" class="btn btn-sm bg-teal-400" (click)="righttablePusg()"><i
                            class="fa fa-chevron-left "></i></button>
                      </div>
                    </div>
                  </div> -->

                <!-- <div class="col-5">
                    <div class="card">
                      <div class=""><span class="form-label">Total Attributes: <span
                            class="font-14 text-dark-green">({{targetProducts.length}})</span> &nbsp;&nbsp;Selected
                          Attributes: &nbsp;<span class="font-14 text-dark-green">({{selectedUser2.length}})</span>

                        </span>
                        <div class="table-responsive Custom_Table height-350">
                          <table class="table   table-bordered m-b-0">
                            <thead class="thead-dark">
                              <tr>
                                <th class="font700 wd-30">Code</th>
                                <th class="font700 wd-40">Description</th>
                                <th class="font700 wd-30">Nature</th>
                              </tr>
                            </thead>
                            <tbody>

                              <tr *ngFor="let product of targetProducts; let i = index"
                                (click)="RowSelectedtargetProducts(product, i);"
                                (dblclick)="doubleClickOnRightTable(product)"
                                [class.activeleft]="product.isHighlightright"
                                [class.bg-color-disable]="product.disabled">

                                <td class="align-left wd-10">
                                  <span tooltip="{{product.code}}">{{product.code}}</span>
                                </td>
                                <td class="align-left wd-10">
                                  <span tooltip="{{product.description}}">{{product.description}}</span>
                                </td>
                                <td class="align-left wd-10">
                                  <span tooltip="{{product.attributeNature}}">{{product.attributeNature}}</span>
                                </td>

                              </tr>
                              <tr *ngIf="!targetProducts?.length">
                                <td colspan="3">
                                  <span class="font-14 font500 align-center text-red">No Data Available</span>
                                </td>

                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div> -->

                <!-- </div> -->



                <div class="row">
                  <div class="col-5">

                    <div class="cycle-table mt-4">
                      <div class="row">
                        <div class="col-md-6">
                          <span class="form-label font-14 text-purple font-bold">Total Attributes:
                            <span class="font-14 text-dark-green">({{sourceProducts.length}})</span>
                          </span>
                        </div>
                        <div class="col-md-6">
                          <div class="float-right">
                            <span class=" form-label font-14 text-purple font-bold"> &nbsp;&nbsp;Selected
                              Attributes: &nbsp;
                              <span class="font-14 text-dark-green">({{selectedUser.length}})</span>
                            </span>
                          </div>
                        </div>
                      </div>
                      <!-- <h3 class="font-14 text-purple font-bold"><span class="form-label">Total Attributes:
                          <span class="font-14 text-dark-green"> ({{sourceProducts.length}})</span> &nbsp; &nbsp;
                          Selected Attributes:
                          <span class="font-14 text-dark-green">
                            ({{selectedUser.length}}) </span></span></h3> -->
                      <p-table [value]="sourceProducts" [paginator]="true" [rows]="10" [showCurrentPageReport]="true"
                        selectionMode="multiple" [(selection)]="selectedSummarySourceProducts"
                        [rowsPerPageOptions]="[10,25,50,100,200]">
                        <ng-template pTemplate="header">
                          <tr>

                            <th rowspan="1" class="wd-15">
                              <div class="p-d-flex p-jc-between p-ai-center">
                                Code
                                <div class="Sort_Filter_Position">
                                  <p-sortIcon field="code" pSortableColumn="code"></p-sortIcon>
                                  <p-columnFilter field="code" display="menu" class="p-ml-auto"></p-columnFilter>
                                </div>
                              </div>
                            </th>

                            <th rowspan="1" class="wd-15">
                              <div class="p-d-flex p-jc-between p-ai-center">
                                Description
                                <div class="Sort_Filter_Position">
                                  <p-sortIcon field="description" pSortableColumn="description"></p-sortIcon>
                                  <p-columnFilter field="description" display="menu" class="p-ml-auto">
                                  </p-columnFilter>

                                </div>
                              </div>
                            </th>
                            <th rowspan="1" class="wd-8">
                              <div class="p-d-flex p-jc-between p-ai-center">
                                Nature
                                <div class="Sort_Filter_Position">
                                  <p-sortIcon field="attributeNature" pSortableColumn="attributeNature"></p-sortIcon>
                                  <p-columnFilter field="attributeNature" display="menu" class="p-ml-auto">
                                  </p-columnFilter>

                                </div>
                              </div>
                            </th>
                          </tr>
                        </ng-template>

                        <ng-template pTemplate="body" let-user1 let-rowIndex="rowIndex">
                          <tr (click)="RowSelected(user1, rowIndex);" [class.active]="user1.isHighlight"
                            (dblclick)="doubleClickOnLeftTable(user1)"
                            [ngClass]="{'outofstock':user1.isHighlight == true}">

                            <td>{{user1.code}}</td>
                            <td>{{user1.description}}
                            </td>
                            <td>{{user1.attributeNature}}
                            </td>

                          </tr>

                        </ng-template>
                        <ng-template pTemplate="emptymessage">
                          <tr>
                            <td colspan="15" class="font-14 font500 text-center text-red"><span>No Data
                                Available</span></td>
                          </tr>
                        </ng-template>
                      </p-table>
                    </div>
                  </div>


                  <div class="col-1">
                    <div class="row mt-150">
                      <div class="col-md-12 mt-10 text-center">
                        <button type="button" class="btn btn-sm bg-teal-400" (click)="lefttablePusg()"><i
                            class="fa fa-chevron-right"></i></button>
                      </div>
                      <div class="col-md-12 mt-10 text-center">
                        <button type="button" class="btn btn-sm bg-teal-400" (click)="righttablePusg()"><i
                            class="fa fa-chevron-left "></i></button>
                      </div>
                    </div>
                  </div>



                  <div class="col-5">
                    <div class="cycle-table mt-4">

                      <div class="row">
                        <div class="col-md-6">
                          <span class="form-label font-14 text-purple font-bold">Total Attributes:
                            <span class="font-14 text-dark-green">({{targetProducts.length}})</span>
                          </span>
                        </div>
                        <div class="col-md-6">
                          <div class="float-right">
                            <span class=" form-label font-14 text-purple font-bold"> &nbsp;&nbsp;Selected
                              Attributes: &nbsp;
                              <span class="font-14 text-dark-green">({{selectedUser2.length}})</span>
                            </span>
                          </div>
                        </div>
                      </div>

                      <!-- <h3 class="font-14 text-purple font-bold"><span class="form-label">Total Attributes: <span
                            class="font-14 text-dark-green">({{targetProducts.length}})</span>
                          &nbsp;&nbsp;Selected
                          Attributes: &nbsp;<span class="font-14 text-dark-green">({{selectedUser2.length}})</span>

                        </span></h3> -->
                      <p-table [value]="targetProducts" [paginator]="true" [rows]="10" [showCurrentPageReport]="true"
                        selectionMode="multiple" [rowsPerPageOptions]="[10,20,50,100,200]">
                        <ng-template pTemplate="header">
                          <tr>

                            <th rowspan="1" class="wd-15">
                              <div class="p-d-flex p-jc-between p-ai-center">
                                Code
                                <div class="Sort_Filter_Position">
                                  <p-sortIcon field="code" pSortableColumn="code"></p-sortIcon>
                                  <p-columnFilter field="code" display="menu" class="p-ml-auto"></p-columnFilter>
                                </div>
                              </div>
                            </th>

                            <th rowspan="1" class="wd-15">
                              <div class="p-d-flex p-jc-between p-ai-center">
                                Description
                                <div class="Sort_Filter_Position">
                                  <p-sortIcon field="description" pSortableColumn="description"></p-sortIcon>
                                  <p-columnFilter field="description" display="menu" class="p-ml-auto"></p-columnFilter>

                                </div>
                              </div>
                            </th>
                            <th rowspan="1" class="wd-8">
                              <div class="p-d-flex p-jc-between p-ai-center">
                                Nature
                                <div class="Sort_Filter_Position">
                                  <p-sortIcon field="attributeNature" pSortableColumn="attributeNature"></p-sortIcon>
                                  <p-columnFilter field="attributeNature" display="menu" class="p-ml-auto">
                                  </p-columnFilter>

                                </div>
                              </div>
                            </th>
                          </tr>
                        </ng-template>

                        <ng-template pTemplate="body" let-user1 let-rowIndex="rowIndex">
                          <tr (click)="RowSelectedtargetProducts(user1, rowIndex);"
                            (dblclick)="doubleClickOnRightTable(user1)"
                            [ngClass]="{'outofstock':user1.isHighlightright == true}"
                            [ngClass]="{'disable':user1.disabled == true}">

                            <td>{{user1.code}}</td>
                            <td>{{user1.description}}
                            </td>
                            <td>{{user1.attributeNature}}
                            </td>

                          </tr>

                        </ng-template>
                        <ng-template pTemplate="emptymessage">
                          <tr>
                            <td colspan="15" class="font-14 font500 text-center text-red"><span>No Data
                                Available</span></td>
                          </tr>
                        </ng-template>
                      </p-table>
                    </div>
                  </div>
                </div>



                <ng-template #template12>
                  <div class="modal-header">
                    <h5 class="modal-title" id="UploadModalLabel">Delete
                      Attribute Group</h5>
                    <button type="button" (click)="deleteModalRef.hide()" class="close" data-dismiss="modal"
                      aria-label="Close"><span aria-hidden="true">×</span></button>
                  </div>
                  <div class="modal-body">
                    <div class="card">
                      <div class="card-body">
                        <div class="row">
                          <div class="col-md-12">
                            <label class="form-label">Are
                              you sure want to
                              delete? </label>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-primary"
                      (click)="DeleteAttributeSelection();deleteModalRef.hide()">Yes</button>
                    <button type="button" class="btn btn-secondary bg-btn-red"
                      (click)="deleteModalRef.hide()">No</button>
                  </div>
                </ng-template>


                <div class="row mt-15">
                  <div class="col-12">
                    <div class="float-right mb-15">


                      <button type="submit" *ngIf="!viewCancelButton" [disabled]="AttributeGlobalForm.invalid"
                        class="custom_button custom_btn btn-labeled btn-labeled-left" tooltip="Save"
                        [ngClass]="{'disabled-btn-bg-green' : AttributeGlobalForm.invalid, 'btn-bg-green': !AttributeGlobalForm.invalid }">
                        <b><i class="fa fa-floppy-o"></i></b> Save </button>



                      <button type="button" *ngIf="viewupdateButton" (click)="UpdateAttributeSelection()"
                        class="custom_button custom_btn btn-bg-green btn-labeled btn-labeled-left"
                        tooltip="Update"><b><i class="fa fa-floppy-o"></i></b>
                        Update</button>



                      <button type="button" (click)="CancelAttributeCreation()" *ngIf="viewCancelButton"
                        class="custom_button custom_btn bg-btn-red btn-labeled btn-labeled-left ml-10"
                        tooltip="Cancel"><b><i class="fa fa-times" aria-hidden="true"></i></b>
                        Cancel</button>

                      <button type="button" (click)="resetAttributeSelection()" *ngIf="!viewCancelButton"
                        class="custom_button custom_btn bg-teal-400 btn-labeled btn-labeled-left ml-10"
                        tooltip="Reset"><b><i class="fa fa-refresh" aria-hidden="true"></i></b>
                        Reset</button>
                    </div>
                  </div>
                </div>
              </form>




              <div class="row">
                <div class="col-md-10">
                  <div class="cycle-table mt-4">
                    <h3 class="font-14 text-purple font-bold">Summary</h3>
                    <p-table [value]="summaryList" [paginator]="true" [rows]="10" [showCurrentPageReport]="true"
                      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                      [rowsPerPageOptions]="[10,25,50,100,200]">
                      <ng-template pTemplate="header">
                        <tr>
                          <th rowspan="1" class="wd-8 text-center">
                            Sr. No.
                          </th>
                          <th rowspan="1" class="wd-15">
                            <div class="p-d-flex p-jc-between p-ai-center">
                              Attribute Group Name
                              <div class="Sort_Filter_Position">
                                <p-sortIcon field="name" pSortableColumn="name"></p-sortIcon>
                                <p-columnFilter field="name" display="menu" class="p-ml-auto"></p-columnFilter>
                              </div>
                            </div>
                          </th>

                          <th rowspan="1" class="wd-15">
                            <div class="p-d-flex p-jc-between p-ai-center">
                              Description
                              <div class="Sort_Filter_Position">
                                <p-sortIcon field="description" pSortableColumn="description"></p-sortIcon>
                                <p-columnFilter field="description" display="menu" class="p-ml-auto"></p-columnFilter>

                              </div>
                            </div>
                          </th>
                          <th rowspan="1" class="wd-8">
                            <div class="p-d-flex p-jc-between p-ai-center">
                              Count
                              <div class="Sort_Filter_Position">
                                <p-sortIcon field="options" pSortableColumn="options"></p-sortIcon>
                                <p-columnFilter field="options" display="menu" class="p-ml-auto"></p-columnFilter>

                              </div>
                            </div>
                          </th>



                          <th rowspan="1" class="wd-12 text-center">
                            <div class="p-d-flex p-jc-center p-ai-center">
                              Action
                            </div>
                          </th>
                        </tr>
                      </ng-template>

                      <ng-template pTemplate="body" let-user1 let-rowIndex="rowIndex">
                        <tr class="p-selectable-row">
                          <td class="bg-color-light_gray text-center"><label
                              class="form-lable mb-0">{{rowIndex+1}}</label></td>
                          <td class="bg-color-light_gray"><label class="form-lable mb-0">{{user1.name}}</label></td>
                          <td class="bg-color-light_gray"><label class="form-lable mb-0">{{user1.description}}</label>
                          </td>
                          <td class="bg-color-light_gray text-center"><label
                              class="form-lable mb-0">{{user1.options}}</label></td>



                          <td class="wd-10 align-left">

                            <button type="button" class="btn btn-icon text-blue" tooltip="Edit"
                              (click)="GetAttributeSelectionById(user1.id)">
                              <i class="fa fa-edit"></i></button>

                            <button type="button" class="btn btn-icon text-blue" tooltip="View"
                              (click)="GetAttributeSelectionByIdDisable(user1.id)">
                              <i class="fa fa-eye"></i></button>

                            <button type="button" *ngIf="!user1.used" (click)="UploadModal1(template12,user1.id);"
                              class="btn btn-icon js-sweetalert text-blue" tooltip="Delete" data-type="confirm"><i
                                class="fa fa-trash-o"></i></button>
                          </td>
                        </tr>

                      </ng-template>
                      <ng-template pTemplate="emptymessage">
                        <tr>
                          <td colspan="15" class="font-14 font500 text-center text-red"><span>No Data
                              Available</span></td>
                        </tr>
                      </ng-template>
                    </p-table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <app-footer></app-footer>
</div>